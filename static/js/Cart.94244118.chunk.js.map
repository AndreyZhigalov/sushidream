{"version":3,"file":"static/js/Cart.94244118.chunk.js","mappings":"2NACA,EAAuB,mBAAvB,EAAuD,yBAAvD,EAAwF,oB,SC0ExF,EArDuB,WACrB,IAAMA,GAAWC,EAAAA,EAAAA,KACjB,GAA4DC,EAAAA,EAAAA,GAAeC,EAAAA,IAAnEC,EAAR,EAAQA,gBAAiBC,EAAzB,EAAyBA,WAAYC,EAArC,EAAqCA,mBACrC,GAA+BJ,EAAAA,EAAAA,GAAeK,EAAAA,IAAtCC,EAAR,EAAQA,WAAYC,EAApB,EAAoBA,OAEpBC,EAAAA,WAAgB,WACdC,OAAOC,SAAS,EAAG,KAClB,IAEHF,EAAAA,WAAgB,WACdV,GAASa,EAAAA,EAAAA,IAAYR,EAAW,MAC5BI,IAAWK,EAAAA,GAAAA,SACbd,GAASe,EAAAA,EAAAA,SAEV,IAsBH,OACE,iBAAKC,UAAWC,EAAhB,WACE,4BACE,SAAC,KAAD,KACA,SAAC,KAAD,QAEF,iBAAKD,UAAWC,EAAhB,WACE,kIACA,0BACE,SAAC,KAAD,CAAYC,SAAU,EAAE,EAAGb,EAAWc,QAASC,SAAS,UAG5D,gBAAKJ,UAAWC,EAAhB,SAhCmB,SAACR,GACtB,OAAIA,IAAWK,EAAAA,GAAAA,SACN,OAAIO,MAAM,IAAIC,KAAI,SAACC,EAAGC,GAAJ,OAAU,SAAC,KAAD,GAAkBA,MAC5Cf,IAAWK,EAAAA,GAAAA,OACb,SAAC,KAAD,IAEAN,EAAWJ,EAAgBqB,UAAUH,KAAI,SAACI,GAC/C,MAAiC,eAA7BtB,EAAgBqB,SAEhBC,EAAKC,cAAgBrB,EAAmBsB,UACtC,SAAC,KAAD,CAA8BF,KAAMA,GAAfA,EAAKG,KAIvB,SAAC,KAAD,CAA8BH,KAAMA,GAAfA,EAAKG,OAkBNC,CAAerB","sources":["webpack://planetsushi/./src/pages/Cart/Cart.module.scss?bc23","pages/Cart/index.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"cart\":\"Cart_cart__14Uzf\",\"categories\":\"Cart_categories__FrTYK\",\"items\":\"Cart_items__7pJXb\"};","import React from 'react';\r\nimport { useAppDispatch, useAppSelector } from '../../Hooks/hooks';\r\n\r\nimport {\r\n  AssortmentCard,\r\n  FetchError,\r\n  Check,\r\n  DeliveryRegion,\r\n  LoadingCard,\r\n  Navigation,\r\n} from '../../componenst';\r\n\r\nimport {\r\n  AssortmentItem,\r\n  fetchAssortment,\r\n  selectAssortment,\r\n  Status,\r\n} from '../../redux/slices/assortmentSlice';\r\nimport { selectFilters, setCategory } from '../../redux/slices/filtersSlice';\r\n\r\nimport styles from './Cart.module.scss';\r\n\r\nconst Cart: React.FC = () => {\r\n  const dispatch = useAppDispatch();\r\n  const { currentCategory, categories, currentSubcategory } = useAppSelector(selectFilters);\r\n  const { assortment, status } = useAppSelector(selectAssortment);\r\n\r\n  React.useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    dispatch(setCategory(categories[16]));\r\n    if (status === Status.LOADING) {\r\n      dispatch(fetchAssortment());\r\n    }\r\n  }, []);\r\n\r\n  const showAssortment = (status: string) => {\r\n    if (status === Status.LOADING) {\r\n      return [...Array(6)].map((_, i) => <LoadingCard key={i} />);\r\n    } else if (status === Status.ERROR) {\r\n      return <FetchError />;\r\n    } else {\r\n      return assortment[currentCategory.engTitle].map((item: AssortmentItem) => {\r\n        if (currentCategory.engTitle === 'drinkables') {\r\n          return (\r\n            item.subcategory === currentSubcategory.ruTitle && (\r\n              <AssortmentCard key={item.id} item={item} />\r\n            )\r\n          );\r\n        } else {\r\n          return <AssortmentCard key={item.id} item={item} />;\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.cart}>\r\n      <div>\r\n        <DeliveryRegion />\r\n        <Check />\r\n      </div>\r\n      <div className={styles.categories}>\r\n        <h3>ДОБАВИТЬ ЧТО-ТО ЕЩЁ?</h3>\r\n        <div>\r\n          <Navigation navRange={[-4, categories.length]} isFixed={false} />        \r\n        </div>\r\n      </div>\r\n      <div className={styles.items}>{showAssortment(status)}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n"],"names":["dispatch","useAppDispatch","useAppSelector","selectFilters","currentCategory","categories","currentSubcategory","selectAssortment","assortment","status","React","window","scrollTo","setCategory","Status","fetchAssortment","className","styles","navRange","length","isFixed","Array","map","_","i","engTitle","item","subcategory","ruTitle","id","showAssortment"],"sourceRoot":""}