{"version":3,"file":"static/js/Cart.07a33b85.chunk.js","mappings":"+MACA,EAAuB,mBAAvB,EAAuD,yBAAvD,EAAwF,oB,SC2ExF,EA7DuB,WACrB,OAA0CA,EAAAA,EAAAA,KAAlCC,EAAR,EAAQA,aAAcC,EAAtB,EAAsBA,gBACtB,EAA4DD,EAAaE,QAAjEC,EAAR,EAAQA,gBAAiBC,EAAzB,EAAyBA,WAAYC,EAArC,EAAqCA,mBAC7BC,EAAgBN,EAAaO,QAA7BD,YACR,EAA0BL,EAAgBC,QAAlCM,EAAR,EAAQA,MAAOC,EAAf,EAAeA,OACPC,EAAkBT,EAAgBM,QAAlCG,eAERC,EAAAA,EAAAA,YAAU,WACRC,OAAOC,SAAS,EAAG,KAClB,KAEHF,EAAAA,EAAAA,YAAU,WACJF,IAAWK,EAAAA,EAAAA,SACbJ,EAAcP,EAAgBY,SAG/B,CAACZ,EAAiBE,KAErBM,EAAAA,EAAAA,YAAU,WACRL,EAAYF,EAAW,KACvBM,EAAcN,EAAW,IAAIW,SAC5B,IAuBH,OACE,iBAAKC,UAAWC,EAAhB,WACE,4BACE,SAAC,KAAD,KACA,SAAC,KAAD,QAEF,iBAAKD,UAAWC,EAAhB,WACE,kIACA,0BACE,SAAC,KAAD,CAAcC,SAAU,EAAE,EAAGd,EAAWe,QAASC,SAAS,UAG9D,gBAAKJ,UAAWC,EAAhB,SAhCER,IAAWK,EAAAA,EAAAA,SACN,OAAIO,MAAM,IAAIC,KAAI,SAACC,EAAGC,GAAJ,OAAU,SAAC,KAAD,GAAkBA,MAC5Cf,IAAWK,EAAAA,EAAAA,OACb,SAAC,KAAD,IAGP,OAAON,QAAP,IAAOA,OAAP,EAAOA,EAAOc,KAAI,SAACG,GACjB,MAA8B,eAA1BtB,EAAgBY,MAEhBU,EAAKC,cAAgBrB,EAAmBsB,OACtC,SAAC,KAAD,CAA8BF,KAAMA,GAAfA,EAAKG,KAIvB,SAAC,KAAD,CAA8BH,KAAMA,GAAfA,EAAKG","sources":["webpack://sushidream/./src/pages/Cart/Cart.module.scss?bc23","pages/Cart/index.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"cart\":\"Cart_cart__JUJDG\",\"categories\":\"Cart_categories__AxZHA\",\"items\":\"Cart_items__Ls5Gp\"};","import {\r\n  AssortmentCard,\r\n  FetchError,\r\n  Check,\r\n  DeliveryRegion,\r\n  LoadingCard,\r\n  CategoryList,\r\n} from '../../componenst';\r\n\r\nimport { FetchStatus } from '../../models';\r\nimport { useEffect } from 'react';\r\nimport { useAppStore } from '../../redux/store';\r\nimport { AssortmentItem } from '../../redux/slices/assortment';\r\nimport styles from './Cart.module.scss';\r\n\r\nconst Cart: React.FC = () => {\r\n  const { filtersStore, assortmentStore } = useAppStore();\r\n  const { currentCategory, categories, currentSubcategory } = filtersStore.getters;\r\n  const { setCategory } = filtersStore.actions;\r\n  const { items, status } = assortmentStore.getters;\r\n  const { getByCategory } = assortmentStore.actions;\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (status === FetchStatus.SUCCESS) {\r\n      getByCategory(currentCategory.value);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [currentCategory, currentSubcategory]);\r\n\r\n  useEffect(() => {\r\n    setCategory(categories[16]);\r\n    getByCategory(categories[16].value);\r\n  }, []);\r\n\r\n  const showAssortment = () => {\r\n    if (status === FetchStatus.LOADING) {\r\n      return [...Array(6)].map((_, i) => <LoadingCard key={i} />);\r\n    } else if (status === FetchStatus.ERROR) {\r\n      return <FetchError />;\r\n    } else {\r\n      // return assortment[currentCategory.value].map((item: AssortmentItem) => {\r\n      return items?.map((item: AssortmentItem) => {\r\n        if (currentCategory.value === 'drinkables') {\r\n          return (\r\n            item.subcategory === currentSubcategory.name && (\r\n              <AssortmentCard key={item.id} item={item} />\r\n            )\r\n          );\r\n        } else {\r\n          return <AssortmentCard key={item.id} item={item} />;\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.cart}>\r\n      <div>\r\n        <DeliveryRegion />\r\n        <Check />\r\n      </div>\r\n      <div className={styles.categories}>\r\n        <h3>ДОБАВИТЬ ЧТО-ТО ЕЩЁ?</h3>\r\n        <div>\r\n          <CategoryList navRange={[-4, categories.length]} isFixed={false} />\r\n        </div>\r\n      </div>\r\n      <div className={styles.items}>{showAssortment()}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n"],"names":["useAppStore","filtersStore","assortmentStore","getters","currentCategory","categories","currentSubcategory","setCategory","actions","items","status","getByCategory","useEffect","window","scrollTo","FetchStatus","value","className","styles","navRange","length","isFixed","Array","map","_","i","item","subcategory","name","id"],"sourceRoot":""}