const __vite__fileDeps=["assets/Menu-BKmxBqHo.js","assets/index-C_SxDXQL.js","assets/react-content-loader.es-xSgcOGlz.js","assets/index-B8_3kuHv.css","assets/Menu-paQqZ3Yy.css","assets/index-BmqclPi8.js","assets/index-BLI-cOk2.css","assets/index-CN3PJncG.js","assets/index-BIwlSFIk.css","assets/index-Bss4Dp7A.js","assets/index-Cx-G-yjY.css","assets/index-CHVbCVn2.js","assets/index-CISSSLi-.css","assets/index-BwD0yLOA.js","assets/index-BDlqhM8a.css","assets/index-AzlKLFfD.js","assets/index-B5as1RP4.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var Db=Object.defineProperty;var Lb=(t,e,n)=>e in t?Db(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ht=(t,e,n)=>(Lb(t,typeof e!="symbol"?e+"":e,n),n);function Mb(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var rl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Jee(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var bE={exports:{}},fh={},xE={exports:{}},Y={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $u=Symbol.for("react.element"),Fb=Symbol.for("react.portal"),jb=Symbol.for("react.fragment"),Ub=Symbol.for("react.strict_mode"),Vb=Symbol.for("react.profiler"),zb=Symbol.for("react.provider"),Bb=Symbol.for("react.context"),Hb=Symbol.for("react.forward_ref"),Wb=Symbol.for("react.suspense"),Gb=Symbol.for("react.memo"),Kb=Symbol.for("react.lazy"),o0=Symbol.iterator;function qb(t){return t===null||typeof t!="object"?null:(t=o0&&t[o0]||t["@@iterator"],typeof t=="function"?t:null)}var AE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},OE=Object.assign,RE={};function wo(t,e,n){this.props=t,this.context=e,this.refs=RE,this.updater=n||AE}wo.prototype.isReactComponent={};wo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function PE(){}PE.prototype=wo.prototype;function fg(t,e,n){this.props=t,this.context=e,this.refs=RE,this.updater=n||AE}var dg=fg.prototype=new PE;dg.constructor=fg;OE(dg,wo.prototype);dg.isPureReactComponent=!0;var a0=Array.isArray,NE=Object.prototype.hasOwnProperty,pg={current:null},DE={key:!0,ref:!0,__self:!0,__source:!0};function LE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)NE.call(e,r)&&!DE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:$u,type:t,key:s,ref:o,props:i,_owner:pg.current}}function Qb(t,e){return{$$typeof:$u,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mg(t){return typeof t=="object"&&t!==null&&t.$$typeof===$u}function Yb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var u0=/\/+/g;function Gf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Yb(""+t.key):e.toString(36)}function jl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case $u:case Fb:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Gf(o,0):r,a0(i)?(n="",t!=null&&(n=t.replace(u0,"$&/")+"/"),jl(i,e,n,"",function(l){return l})):i!=null&&(mg(i)&&(i=Qb(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(u0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",a0(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+Gf(s,a);o+=jl(s,e,n,u,i)}else if(u=qb(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+Gf(s,a++),o+=jl(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function il(t,e,n){if(t==null)return t;var r=[],i=0;return jl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Xb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var St={current:null},Ul={transition:null},Jb={ReactCurrentDispatcher:St,ReactCurrentBatchConfig:Ul,ReactCurrentOwner:pg};function ME(){throw Error("act(...) is not supported in production builds of React.")}Y.Children={map:il,forEach:function(t,e,n){il(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return il(t,function(){e++}),e},toArray:function(t){return il(t,function(e){return e})||[]},only:function(t){if(!mg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Y.Component=wo;Y.Fragment=jb;Y.Profiler=Vb;Y.PureComponent=fg;Y.StrictMode=Ub;Y.Suspense=Wb;Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jb;Y.act=ME;Y.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=OE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=pg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)NE.call(e,u)&&!DE.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:$u,type:t.type,key:i,ref:s,props:r,_owner:o}};Y.createContext=function(t){return t={$$typeof:Bb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:zb,_context:t},t.Consumer=t};Y.createElement=LE;Y.createFactory=function(t){var e=LE.bind(null,t);return e.type=t,e};Y.createRef=function(){return{current:null}};Y.forwardRef=function(t){return{$$typeof:Hb,render:t}};Y.isValidElement=mg;Y.lazy=function(t){return{$$typeof:Kb,_payload:{_status:-1,_result:t},_init:Xb}};Y.memo=function(t,e){return{$$typeof:Gb,type:t,compare:e===void 0?null:e}};Y.startTransition=function(t){var e=Ul.transition;Ul.transition={};try{t()}finally{Ul.transition=e}};Y.unstable_act=ME;Y.useCallback=function(t,e){return St.current.useCallback(t,e)};Y.useContext=function(t){return St.current.useContext(t)};Y.useDebugValue=function(){};Y.useDeferredValue=function(t){return St.current.useDeferredValue(t)};Y.useEffect=function(t,e){return St.current.useEffect(t,e)};Y.useId=function(){return St.current.useId()};Y.useImperativeHandle=function(t,e,n){return St.current.useImperativeHandle(t,e,n)};Y.useInsertionEffect=function(t,e){return St.current.useInsertionEffect(t,e)};Y.useLayoutEffect=function(t,e){return St.current.useLayoutEffect(t,e)};Y.useMemo=function(t,e){return St.current.useMemo(t,e)};Y.useReducer=function(t,e,n){return St.current.useReducer(t,e,n)};Y.useRef=function(t){return St.current.useRef(t)};Y.useState=function(t){return St.current.useState(t)};Y.useSyncExternalStore=function(t,e,n){return St.current.useSyncExternalStore(t,e,n)};Y.useTransition=function(){return St.current.useTransition()};Y.version="18.3.1";xE.exports=Y;var E=xE.exports;const Zb=fr(E),ex=Mb({__proto__:null,default:Zb},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tx=E,nx=Symbol.for("react.element"),rx=Symbol.for("react.fragment"),ix=Object.prototype.hasOwnProperty,sx=tx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ox={key:!0,ref:!0,__self:!0,__source:!0};function FE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ix.call(e,r)&&!ox.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:nx,type:t,key:s,ref:o,props:i,_owner:sx.current}}fh.Fragment=rx;fh.jsx=FE;fh.jsxs=FE;bE.exports=fh;var _=bE.exports,lp={},jE={exports:{}},Ut={},UE={exports:{}},VE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,H){var K=O.length;O.push(H);e:for(;0<K;){var ue=K-1>>>1,he=O[ue];if(0<i(he,H))O[ue]=H,O[K]=he,K=ue;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var H=O[0],K=O.pop();if(K!==H){O[0]=K;e:for(var ue=0,he=O.length,mi=he>>>1;ue<mi;){var on=2*(ue+1)-1,Tn=O[on],Cn=on+1,wr=O[Cn];if(0>i(Tn,K))Cn<he&&0>i(wr,Tn)?(O[ue]=wr,O[Cn]=K,ue=Cn):(O[ue]=Tn,O[on]=K,ue=on);else if(Cn<he&&0>i(wr,K))O[ue]=wr,O[Cn]=K,ue=Cn;else break e}}return H}function i(O,H){var K=O.sortIndex-H.sortIndex;return K!==0?K:O.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,h=null,f=3,p=!1,g=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(O){for(var H=n(l);H!==null;){if(H.callback===null)r(l);else if(H.startTime<=O)r(l),H.sortIndex=H.expirationTime,e(u,H);else break;H=n(l)}}function S(O){if(v=!1,y(O),!g)if(n(u)!==null)g=!0,Bo(I);else{var H=n(l);H!==null&&Ho(S,H.startTime-O)}}function I(O,H){g=!1,v&&(v=!1,m(R),R=-1),p=!0;var K=f;try{for(y(H),h=n(u);h!==null&&(!(h.expirationTime>H)||O&&!Oe());){var ue=h.callback;if(typeof ue=="function"){h.callback=null,f=h.priorityLevel;var he=ue(h.expirationTime<=H);H=t.unstable_now(),typeof he=="function"?h.callback=he:h===n(u)&&r(u),y(H)}else r(u);h=n(u)}if(h!==null)var mi=!0;else{var on=n(l);on!==null&&Ho(S,on.startTime-H),mi=!1}return mi}finally{h=null,f=K,p=!1}}var C=!1,$=null,R=-1,q=5,F=-1;function Oe(){return!(t.unstable_now()-F<q)}function pi(){if($!==null){var O=t.unstable_now();F=O;var H=!0;try{H=$(!0,O)}finally{H?Ke():(C=!1,$=null)}}else C=!1}var Ke;if(typeof d=="function")Ke=function(){d(pi)};else if(typeof MessageChannel<"u"){var yr=new MessageChannel,nl=yr.port2;yr.port1.onmessage=pi,Ke=function(){nl.postMessage(null)}}else Ke=function(){w(pi,0)};function Bo(O){$=O,C||(C=!0,Ke())}function Ho(O,H){R=w(function(){O(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,Bo(I))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var K=f;f=H;try{return O()}finally{f=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,H){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var K=f;f=O;try{return H()}finally{f=K}},t.unstable_scheduleCallback=function(O,H,K){var ue=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ue+K:ue):K=ue,O){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=K+he,O={id:c++,callback:H,priorityLevel:O,startTime:K,expirationTime:he,sortIndex:-1},K>ue?(O.sortIndex=K,e(l,O),n(u)===null&&O===n(l)&&(v?(m(R),R=-1):v=!0,Ho(S,K-ue))):(O.sortIndex=he,e(u,O),g||p||(g=!0,Bo(I))),O},t.unstable_shouldYield=Oe,t.unstable_wrapCallback=function(O){var H=f;return function(){var K=f;f=H;try{return O.apply(this,arguments)}finally{f=K}}}})(VE);UE.exports=VE;var ax=UE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ux=E,Mt=ax;function b(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zE=new Set,Da={};function ts(t,e){Xs(t,e),Xs(t+"Capture",e)}function Xs(t,e){for(Da[t]=e,t=0;t<e.length;t++)zE.add(e[t])}var nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cp=Object.prototype.hasOwnProperty,lx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,l0={},c0={};function cx(t){return cp.call(c0,t)?!0:cp.call(l0,t)?!1:lx.test(t)?c0[t]=!0:(l0[t]=!0,!1)}function hx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function fx(t,e,n,r){if(e===null||typeof e>"u"||hx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Tt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ze[t]=new Tt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ze[e]=new Tt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ze[t]=new Tt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ze[t]=new Tt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ze[t]=new Tt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ze[t]=new Tt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ze[t]=new Tt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ze[t]=new Tt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ze[t]=new Tt(t,5,!1,t.toLowerCase(),null,!1,!1)});var gg=/[\-:]([a-z])/g;function vg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gg,vg);Ze[e]=new Tt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gg,vg);Ze[e]=new Tt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gg,vg);Ze[e]=new Tt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ze[t]=new Tt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ze.xlinkHref=new Tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ze[t]=new Tt(t,1,!1,t.toLowerCase(),null,!0,!0)});function yg(t,e,n,r){var i=Ze.hasOwnProperty(e)?Ze[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(fx(e,n,i,r)&&(n=null),r||i===null?cx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var dr=ux.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sl=Symbol.for("react.element"),Es=Symbol.for("react.portal"),Ss=Symbol.for("react.fragment"),wg=Symbol.for("react.strict_mode"),hp=Symbol.for("react.profiler"),BE=Symbol.for("react.provider"),HE=Symbol.for("react.context"),_g=Symbol.for("react.forward_ref"),fp=Symbol.for("react.suspense"),dp=Symbol.for("react.suspense_list"),Eg=Symbol.for("react.memo"),Tr=Symbol.for("react.lazy"),WE=Symbol.for("react.offscreen"),h0=Symbol.iterator;function Wo(t){return t===null||typeof t!="object"?null:(t=h0&&t[h0]||t["@@iterator"],typeof t=="function"?t:null)}var Te=Object.assign,Kf;function ia(t){if(Kf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Kf=e&&e[1]||""}return`
`+Kf+t}var qf=!1;function Qf(t,e){if(!t||qf)return"";qf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{qf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ia(t):""}function dx(t){switch(t.tag){case 5:return ia(t.type);case 16:return ia("Lazy");case 13:return ia("Suspense");case 19:return ia("SuspenseList");case 0:case 2:case 15:return t=Qf(t.type,!1),t;case 11:return t=Qf(t.type.render,!1),t;case 1:return t=Qf(t.type,!0),t;default:return""}}function pp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ss:return"Fragment";case Es:return"Portal";case hp:return"Profiler";case wg:return"StrictMode";case fp:return"Suspense";case dp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case HE:return(t.displayName||"Context")+".Consumer";case BE:return(t._context.displayName||"Context")+".Provider";case _g:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Eg:return e=t.displayName||null,e!==null?e:pp(t.type)||"Memo";case Tr:e=t._payload,t=t._init;try{return pp(t(e))}catch{}}return null}function px(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pp(e);case 8:return e===wg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function GE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mx(t){var e=GE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ol(t){t._valueTracker||(t._valueTracker=mx(t))}function KE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=GE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ic(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function mp(t,e){var n=e.checked;return Te({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function f0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function qE(t,e){e=e.checked,e!=null&&yg(t,"checked",e,!1)}function gp(t,e){qE(t,e);var n=Xr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vp(t,e.type,n):e.hasOwnProperty("defaultValue")&&vp(t,e.type,Xr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function d0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function vp(t,e,n){(e!=="number"||ic(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var sa=Array.isArray;function Ms(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function yp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(b(91));return Te({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function p0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(b(92));if(sa(n)){if(1<n.length)throw Error(b(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xr(n)}}function QE(t,e){var n=Xr(e.value),r=Xr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function m0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function YE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?YE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var al,XE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(al=al||document.createElement("div"),al.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=al.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function La(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var va={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gx=["Webkit","ms","Moz","O"];Object.keys(va).forEach(function(t){gx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),va[e]=va[t]})});function JE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||va.hasOwnProperty(t)&&va[t]?(""+e).trim():e+"px"}function ZE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=JE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var vx=Te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _p(t,e){if(e){if(vx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(b(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(b(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(b(61))}if(e.style!=null&&typeof e.style!="object")throw Error(b(62))}}function Ep(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sp=null;function Sg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tp=null,Fs=null,js=null;function g0(t){if(t=xu(t)){if(typeof Tp!="function")throw Error(b(280));var e=t.stateNode;e&&(e=vh(e),Tp(t.stateNode,t.type,e))}}function eS(t){Fs?js?js.push(t):js=[t]:Fs=t}function tS(){if(Fs){var t=Fs,e=js;if(js=Fs=null,g0(t),e)for(t=0;t<e.length;t++)g0(e[t])}}function nS(t,e){return t(e)}function rS(){}var Yf=!1;function iS(t,e,n){if(Yf)return t(e,n);Yf=!0;try{return nS(t,e,n)}finally{Yf=!1,(Fs!==null||js!==null)&&(rS(),tS())}}function Ma(t,e){var n=t.stateNode;if(n===null)return null;var r=vh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(b(231,e,typeof n));return n}var Cp=!1;if(nr)try{var Go={};Object.defineProperty(Go,"passive",{get:function(){Cp=!0}}),window.addEventListener("test",Go,Go),window.removeEventListener("test",Go,Go)}catch{Cp=!1}function yx(t,e,n,r,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var ya=!1,sc=null,oc=!1,Ip=null,wx={onError:function(t){ya=!0,sc=t}};function _x(t,e,n,r,i,s,o,a,u){ya=!1,sc=null,yx.apply(wx,arguments)}function Ex(t,e,n,r,i,s,o,a,u){if(_x.apply(this,arguments),ya){if(ya){var l=sc;ya=!1,sc=null}else throw Error(b(198));oc||(oc=!0,Ip=l)}}function ns(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function sS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function v0(t){if(ns(t)!==t)throw Error(b(188))}function Sx(t){var e=t.alternate;if(!e){if(e=ns(t),e===null)throw Error(b(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return v0(i),t;if(s===r)return v0(i),e;s=s.sibling}throw Error(b(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(b(189))}}if(n.alternate!==r)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?t:e}function oS(t){return t=Sx(t),t!==null?aS(t):null}function aS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=aS(t);if(e!==null)return e;t=t.sibling}return null}var uS=Mt.unstable_scheduleCallback,y0=Mt.unstable_cancelCallback,Tx=Mt.unstable_shouldYield,Cx=Mt.unstable_requestPaint,xe=Mt.unstable_now,Ix=Mt.unstable_getCurrentPriorityLevel,Tg=Mt.unstable_ImmediatePriority,lS=Mt.unstable_UserBlockingPriority,ac=Mt.unstable_NormalPriority,$x=Mt.unstable_LowPriority,cS=Mt.unstable_IdlePriority,dh=null,Pn=null;function kx(t){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(dh,t,void 0,(t.current.flags&128)===128)}catch{}}var vn=Math.clz32?Math.clz32:Ax,bx=Math.log,xx=Math.LN2;function Ax(t){return t>>>=0,t===0?32:31-(bx(t)/xx|0)|0}var ul=64,ll=4194304;function oa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function uc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=oa(a):(s&=o,s!==0&&(r=oa(s)))}else o=n&~i,o!==0?r=oa(o):s!==0&&(r=oa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-vn(e),i=1<<n,r|=t[n],e&=~i;return r}function Ox(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rx(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-vn(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=Ox(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function $p(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function hS(){var t=ul;return ul<<=1,!(ul&4194240)&&(ul=64),t}function Xf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ku(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vn(e),t[e]=n}function Px(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-vn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Cg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-vn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ie=0;function fS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var dS,Ig,pS,mS,gS,kp=!1,cl=[],Dr=null,Lr=null,Mr=null,Fa=new Map,ja=new Map,Ir=[],Nx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function w0(t,e){switch(t){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":Fa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ja.delete(e.pointerId)}}function Ko(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=xu(e),e!==null&&Ig(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Dx(t,e,n,r,i){switch(e){case"focusin":return Dr=Ko(Dr,t,e,n,r,i),!0;case"dragenter":return Lr=Ko(Lr,t,e,n,r,i),!0;case"mouseover":return Mr=Ko(Mr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Fa.set(s,Ko(Fa.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ja.set(s,Ko(ja.get(s)||null,t,e,n,r,i)),!0}return!1}function vS(t){var e=$i(t.target);if(e!==null){var n=ns(e);if(n!==null){if(e=n.tag,e===13){if(e=sS(n),e!==null){t.blockedOn=e,gS(t.priority,function(){pS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=bp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Sp=r,n.target.dispatchEvent(r),Sp=null}else return e=xu(n),e!==null&&Ig(e),t.blockedOn=n,!1;e.shift()}return!0}function _0(t,e,n){Vl(t)&&n.delete(e)}function Lx(){kp=!1,Dr!==null&&Vl(Dr)&&(Dr=null),Lr!==null&&Vl(Lr)&&(Lr=null),Mr!==null&&Vl(Mr)&&(Mr=null),Fa.forEach(_0),ja.forEach(_0)}function qo(t,e){t.blockedOn===e&&(t.blockedOn=null,kp||(kp=!0,Mt.unstable_scheduleCallback(Mt.unstable_NormalPriority,Lx)))}function Ua(t){function e(i){return qo(i,t)}if(0<cl.length){qo(cl[0],t);for(var n=1;n<cl.length;n++){var r=cl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Dr!==null&&qo(Dr,t),Lr!==null&&qo(Lr,t),Mr!==null&&qo(Mr,t),Fa.forEach(e),ja.forEach(e),n=0;n<Ir.length;n++)r=Ir[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ir.length&&(n=Ir[0],n.blockedOn===null);)vS(n),n.blockedOn===null&&Ir.shift()}var Us=dr.ReactCurrentBatchConfig,lc=!0;function Mx(t,e,n,r){var i=ie,s=Us.transition;Us.transition=null;try{ie=1,$g(t,e,n,r)}finally{ie=i,Us.transition=s}}function Fx(t,e,n,r){var i=ie,s=Us.transition;Us.transition=null;try{ie=4,$g(t,e,n,r)}finally{ie=i,Us.transition=s}}function $g(t,e,n,r){if(lc){var i=bp(t,e,n,r);if(i===null)ad(t,e,r,cc,n),w0(t,r);else if(Dx(i,t,e,n,r))r.stopPropagation();else if(w0(t,r),e&4&&-1<Nx.indexOf(t)){for(;i!==null;){var s=xu(i);if(s!==null&&dS(s),s=bp(t,e,n,r),s===null&&ad(t,e,r,cc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ad(t,e,r,null,n)}}var cc=null;function bp(t,e,n,r){if(cc=null,t=Sg(r),t=$i(t),t!==null)if(e=ns(t),e===null)t=null;else if(n=e.tag,n===13){if(t=sS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return cc=t,null}function yS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ix()){case Tg:return 1;case lS:return 4;case ac:case $x:return 16;case cS:return 536870912;default:return 16}default:return 16}}var Or=null,kg=null,zl=null;function wS(){if(zl)return zl;var t,e=kg,n=e.length,r,i="value"in Or?Or.value:Or.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return zl=i.slice(t,1<r?1-r:void 0)}function Bl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hl(){return!0}function E0(){return!1}function Vt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?hl:E0,this.isPropagationStopped=E0,this}return Te(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hl)},persist:function(){},isPersistent:hl}),e}var _o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bg=Vt(_o),bu=Te({},_o,{view:0,detail:0}),jx=Vt(bu),Jf,Zf,Qo,ph=Te({},bu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qo&&(Qo&&t.type==="mousemove"?(Jf=t.screenX-Qo.screenX,Zf=t.screenY-Qo.screenY):Zf=Jf=0,Qo=t),Jf)},movementY:function(t){return"movementY"in t?t.movementY:Zf}}),S0=Vt(ph),Ux=Te({},ph,{dataTransfer:0}),Vx=Vt(Ux),zx=Te({},bu,{relatedTarget:0}),ed=Vt(zx),Bx=Te({},_o,{animationName:0,elapsedTime:0,pseudoElement:0}),Hx=Vt(Bx),Wx=Te({},_o,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Gx=Vt(Wx),Kx=Te({},_o,{data:0}),T0=Vt(Kx),qx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Yx[t])?!!e[t]:!1}function xg(){return Xx}var Jx=Te({},bu,{key:function(t){if(t.key){var e=qx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Qx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xg,charCode:function(t){return t.type==="keypress"?Bl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zx=Vt(Jx),eA=Te({},ph,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C0=Vt(eA),tA=Te({},bu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xg}),nA=Vt(tA),rA=Te({},_o,{propertyName:0,elapsedTime:0,pseudoElement:0}),iA=Vt(rA),sA=Te({},ph,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oA=Vt(sA),aA=[9,13,27,32],Ag=nr&&"CompositionEvent"in window,wa=null;nr&&"documentMode"in document&&(wa=document.documentMode);var uA=nr&&"TextEvent"in window&&!wa,_S=nr&&(!Ag||wa&&8<wa&&11>=wa),I0=" ",$0=!1;function ES(t,e){switch(t){case"keyup":return aA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function SS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ts=!1;function lA(t,e){switch(t){case"compositionend":return SS(e);case"keypress":return e.which!==32?null:($0=!0,I0);case"textInput":return t=e.data,t===I0&&$0?null:t;default:return null}}function cA(t,e){if(Ts)return t==="compositionend"||!Ag&&ES(t,e)?(t=wS(),zl=kg=Or=null,Ts=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _S&&e.locale!=="ko"?null:e.data;default:return null}}var hA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function k0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hA[t.type]:e==="textarea"}function TS(t,e,n,r){eS(r),e=hc(e,"onChange"),0<e.length&&(n=new bg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _a=null,Va=null;function fA(t){NS(t,0)}function mh(t){var e=$s(t);if(KE(e))return t}function dA(t,e){if(t==="change")return e}var CS=!1;if(nr){var td;if(nr){var nd="oninput"in document;if(!nd){var b0=document.createElement("div");b0.setAttribute("oninput","return;"),nd=typeof b0.oninput=="function"}td=nd}else td=!1;CS=td&&(!document.documentMode||9<document.documentMode)}function x0(){_a&&(_a.detachEvent("onpropertychange",IS),Va=_a=null)}function IS(t){if(t.propertyName==="value"&&mh(Va)){var e=[];TS(e,Va,t,Sg(t)),iS(fA,e)}}function pA(t,e,n){t==="focusin"?(x0(),_a=e,Va=n,_a.attachEvent("onpropertychange",IS)):t==="focusout"&&x0()}function mA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return mh(Va)}function gA(t,e){if(t==="click")return mh(e)}function vA(t,e){if(t==="input"||t==="change")return mh(e)}function yA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wn=typeof Object.is=="function"?Object.is:yA;function za(t,e){if(wn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!cp.call(e,i)||!wn(t[i],e[i]))return!1}return!0}function A0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function O0(t,e){var n=A0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=A0(n)}}function $S(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$S(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kS(){for(var t=window,e=ic();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ic(t.document)}return e}function Og(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wA(t){var e=kS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&$S(n.ownerDocument.documentElement,n)){if(r!==null&&Og(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=O0(n,s);var o=O0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _A=nr&&"documentMode"in document&&11>=document.documentMode,Cs=null,xp=null,Ea=null,Ap=!1;function R0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ap||Cs==null||Cs!==ic(r)||(r=Cs,"selectionStart"in r&&Og(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ea&&za(Ea,r)||(Ea=r,r=hc(xp,"onSelect"),0<r.length&&(e=new bg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Cs)))}function fl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Is={animationend:fl("Animation","AnimationEnd"),animationiteration:fl("Animation","AnimationIteration"),animationstart:fl("Animation","AnimationStart"),transitionend:fl("Transition","TransitionEnd")},rd={},bS={};nr&&(bS=document.createElement("div").style,"AnimationEvent"in window||(delete Is.animationend.animation,delete Is.animationiteration.animation,delete Is.animationstart.animation),"TransitionEvent"in window||delete Is.transitionend.transition);function gh(t){if(rd[t])return rd[t];if(!Is[t])return t;var e=Is[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bS)return rd[t]=e[n];return t}var xS=gh("animationend"),AS=gh("animationiteration"),OS=gh("animationstart"),RS=gh("transitionend"),PS=new Map,P0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function si(t,e){PS.set(t,e),ts(e,[t])}for(var id=0;id<P0.length;id++){var sd=P0[id],EA=sd.toLowerCase(),SA=sd[0].toUpperCase()+sd.slice(1);si(EA,"on"+SA)}si(xS,"onAnimationEnd");si(AS,"onAnimationIteration");si(OS,"onAnimationStart");si("dblclick","onDoubleClick");si("focusin","onFocus");si("focusout","onBlur");si(RS,"onTransitionEnd");Xs("onMouseEnter",["mouseout","mouseover"]);Xs("onMouseLeave",["mouseout","mouseover"]);Xs("onPointerEnter",["pointerout","pointerover"]);Xs("onPointerLeave",["pointerout","pointerover"]);ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ts("onBeforeInput",["compositionend","keypress","textInput","paste"]);ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TA=new Set("cancel close invalid load scroll toggle".split(" ").concat(aa));function N0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Ex(r,e,void 0,t),t.currentTarget=null}function NS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;N0(i,a,l),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;N0(i,a,l),s=u}}}if(oc)throw t=Ip,oc=!1,Ip=null,t}function fe(t,e){var n=e[Dp];n===void 0&&(n=e[Dp]=new Set);var r=t+"__bubble";n.has(r)||(DS(e,t,2,!1),n.add(r))}function od(t,e,n){var r=0;e&&(r|=4),DS(n,t,r,e)}var dl="_reactListening"+Math.random().toString(36).slice(2);function Ba(t){if(!t[dl]){t[dl]=!0,zE.forEach(function(n){n!=="selectionchange"&&(TA.has(n)||od(n,!1,t),od(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[dl]||(e[dl]=!0,od("selectionchange",!1,e))}}function DS(t,e,n,r){switch(yS(e)){case 1:var i=Mx;break;case 4:i=Fx;break;default:i=$g}n=i.bind(null,e,n,t),i=void 0,!Cp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ad(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=$i(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}iS(function(){var l=s,c=Sg(n),h=[];e:{var f=PS.get(t);if(f!==void 0){var p=bg,g=t;switch(t){case"keypress":if(Bl(n)===0)break e;case"keydown":case"keyup":p=Zx;break;case"focusin":g="focus",p=ed;break;case"focusout":g="blur",p=ed;break;case"beforeblur":case"afterblur":p=ed;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=S0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Vx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=nA;break;case xS:case AS:case OS:p=Hx;break;case RS:p=iA;break;case"scroll":p=jx;break;case"wheel":p=oA;break;case"copy":case"cut":case"paste":p=Gx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=C0}var v=(e&4)!==0,w=!v&&t==="scroll",m=v?f!==null?f+"Capture":null:f;v=[];for(var d=l,y;d!==null;){y=d;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,m!==null&&(S=Ma(d,m),S!=null&&v.push(Ha(d,S,y)))),w)break;d=d.return}0<v.length&&(f=new p(f,g,null,n,c),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Sp&&(g=n.relatedTarget||n.fromElement)&&($i(g)||g[rr]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=l,g=g?$i(g):null,g!==null&&(w=ns(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=l),p!==g)){if(v=S0,S="onMouseLeave",m="onMouseEnter",d="mouse",(t==="pointerout"||t==="pointerover")&&(v=C0,S="onPointerLeave",m="onPointerEnter",d="pointer"),w=p==null?f:$s(p),y=g==null?f:$s(g),f=new v(S,d+"leave",p,n,c),f.target=w,f.relatedTarget=y,S=null,$i(c)===l&&(v=new v(m,d+"enter",g,n,c),v.target=y,v.relatedTarget=w,S=v),w=S,p&&g)t:{for(v=p,m=g,d=0,y=v;y;y=ps(y))d++;for(y=0,S=m;S;S=ps(S))y++;for(;0<d-y;)v=ps(v),d--;for(;0<y-d;)m=ps(m),y--;for(;d--;){if(v===m||m!==null&&v===m.alternate)break t;v=ps(v),m=ps(m)}v=null}else v=null;p!==null&&D0(h,f,p,v,!1),g!==null&&w!==null&&D0(h,w,g,v,!0)}}e:{if(f=l?$s(l):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var I=dA;else if(k0(f))if(CS)I=vA;else{I=mA;var C=pA}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(I=gA);if(I&&(I=I(t,l))){TS(h,I,n,c);break e}C&&C(t,f,l),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&vp(f,"number",f.value)}switch(C=l?$s(l):window,t){case"focusin":(k0(C)||C.contentEditable==="true")&&(Cs=C,xp=l,Ea=null);break;case"focusout":Ea=xp=Cs=null;break;case"mousedown":Ap=!0;break;case"contextmenu":case"mouseup":case"dragend":Ap=!1,R0(h,n,c);break;case"selectionchange":if(_A)break;case"keydown":case"keyup":R0(h,n,c)}var $;if(Ag)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Ts?ES(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(_S&&n.locale!=="ko"&&(Ts||R!=="onCompositionStart"?R==="onCompositionEnd"&&Ts&&($=wS()):(Or=c,kg="value"in Or?Or.value:Or.textContent,Ts=!0)),C=hc(l,R),0<C.length&&(R=new T0(R,t,null,n,c),h.push({event:R,listeners:C}),$?R.data=$:($=SS(n),$!==null&&(R.data=$)))),($=uA?lA(t,n):cA(t,n))&&(l=hc(l,"onBeforeInput"),0<l.length&&(c=new T0("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:l}),c.data=$))}NS(h,e)})}function Ha(t,e,n){return{instance:t,listener:e,currentTarget:n}}function hc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ma(t,n),s!=null&&r.unshift(Ha(t,s,i)),s=Ma(t,e),s!=null&&r.push(Ha(t,s,i))),t=t.return}return r}function ps(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function D0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=Ma(n,s),u!=null&&o.unshift(Ha(n,u,a))):i||(u=Ma(n,s),u!=null&&o.push(Ha(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var CA=/\r\n?/g,IA=/\u0000|\uFFFD/g;function L0(t){return(typeof t=="string"?t:""+t).replace(CA,`
`).replace(IA,"")}function pl(t,e,n){if(e=L0(e),L0(t)!==e&&n)throw Error(b(425))}function fc(){}var Op=null,Rp=null;function Pp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Np=typeof setTimeout=="function"?setTimeout:void 0,$A=typeof clearTimeout=="function"?clearTimeout:void 0,M0=typeof Promise=="function"?Promise:void 0,kA=typeof queueMicrotask=="function"?queueMicrotask:typeof M0<"u"?function(t){return M0.resolve(null).then(t).catch(bA)}:Np;function bA(t){setTimeout(function(){throw t})}function ud(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ua(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ua(e)}function Fr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function F0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Eo=Math.random().toString(36).slice(2),xn="__reactFiber$"+Eo,Wa="__reactProps$"+Eo,rr="__reactContainer$"+Eo,Dp="__reactEvents$"+Eo,xA="__reactListeners$"+Eo,AA="__reactHandles$"+Eo;function $i(t){var e=t[xn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[rr]||n[xn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=F0(t);t!==null;){if(n=t[xn])return n;t=F0(t)}return e}t=n,n=t.parentNode}return null}function xu(t){return t=t[xn]||t[rr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $s(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(b(33))}function vh(t){return t[Wa]||null}var Lp=[],ks=-1;function oi(t){return{current:t}}function ve(t){0>ks||(t.current=Lp[ks],Lp[ks]=null,ks--)}function ce(t,e){ks++,Lp[ks]=t.current,t.current=e}var Jr={},dt=oi(Jr),$t=oi(!1),Vi=Jr;function Js(t,e){var n=t.type.contextTypes;if(!n)return Jr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function kt(t){return t=t.childContextTypes,t!=null}function dc(){ve($t),ve(dt)}function j0(t,e,n){if(dt.current!==Jr)throw Error(b(168));ce(dt,e),ce($t,n)}function LS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(b(108,px(t)||"Unknown",i));return Te({},n,r)}function pc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Jr,Vi=dt.current,ce(dt,t),ce($t,$t.current),!0}function U0(t,e,n){var r=t.stateNode;if(!r)throw Error(b(169));n?(t=LS(t,e,Vi),r.__reactInternalMemoizedMergedChildContext=t,ve($t),ve(dt),ce(dt,t)):ve($t),ce($t,n)}var Hn=null,yh=!1,ld=!1;function MS(t){Hn===null?Hn=[t]:Hn.push(t)}function OA(t){yh=!0,MS(t)}function ai(){if(!ld&&Hn!==null){ld=!0;var t=0,e=ie;try{var n=Hn;for(ie=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Hn=null,yh=!1}catch(i){throw Hn!==null&&(Hn=Hn.slice(t+1)),uS(Tg,ai),i}finally{ie=e,ld=!1}}return null}var bs=[],xs=0,mc=null,gc=0,Kt=[],qt=0,zi=null,qn=1,Qn="";function wi(t,e){bs[xs++]=gc,bs[xs++]=mc,mc=t,gc=e}function FS(t,e,n){Kt[qt++]=qn,Kt[qt++]=Qn,Kt[qt++]=zi,zi=t;var r=qn;t=Qn;var i=32-vn(r)-1;r&=~(1<<i),n+=1;var s=32-vn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,qn=1<<32-vn(e)+i|n<<i|r,Qn=s+t}else qn=1<<s|n<<i|r,Qn=t}function Rg(t){t.return!==null&&(wi(t,1),FS(t,1,0))}function Pg(t){for(;t===mc;)mc=bs[--xs],bs[xs]=null,gc=bs[--xs],bs[xs]=null;for(;t===zi;)zi=Kt[--qt],Kt[qt]=null,Qn=Kt[--qt],Kt[qt]=null,qn=Kt[--qt],Kt[qt]=null}var Dt=null,Pt=null,_e=!1,dn=null;function jS(t,e){var n=Xt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function V0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Dt=t,Pt=Fr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Dt=t,Pt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=zi!==null?{id:qn,overflow:Qn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Xt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Dt=t,Pt=null,!0):!1;default:return!1}}function Mp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fp(t){if(_e){var e=Pt;if(e){var n=e;if(!V0(t,e)){if(Mp(t))throw Error(b(418));e=Fr(n.nextSibling);var r=Dt;e&&V0(t,e)?jS(r,n):(t.flags=t.flags&-4097|2,_e=!1,Dt=t)}}else{if(Mp(t))throw Error(b(418));t.flags=t.flags&-4097|2,_e=!1,Dt=t}}}function z0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Dt=t}function ml(t){if(t!==Dt)return!1;if(!_e)return z0(t),_e=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Pp(t.type,t.memoizedProps)),e&&(e=Pt)){if(Mp(t))throw US(),Error(b(418));for(;e;)jS(t,e),e=Fr(e.nextSibling)}if(z0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(b(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Pt=Fr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Pt=null}}else Pt=Dt?Fr(t.stateNode.nextSibling):null;return!0}function US(){for(var t=Pt;t;)t=Fr(t.nextSibling)}function Zs(){Pt=Dt=null,_e=!1}function Ng(t){dn===null?dn=[t]:dn.push(t)}var RA=dr.ReactCurrentBatchConfig;function Yo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(b(309));var r=n.stateNode}if(!r)throw Error(b(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(b(284));if(!n._owner)throw Error(b(290,t))}return t}function gl(t,e){throw t=Object.prototype.toString.call(e),Error(b(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function B0(t){var e=t._init;return e(t._payload)}function VS(t){function e(m,d){if(t){var y=m.deletions;y===null?(m.deletions=[d],m.flags|=16):y.push(d)}}function n(m,d){if(!t)return null;for(;d!==null;)e(m,d),d=d.sibling;return null}function r(m,d){for(m=new Map;d!==null;)d.key!==null?m.set(d.key,d):m.set(d.index,d),d=d.sibling;return m}function i(m,d){return m=zr(m,d),m.index=0,m.sibling=null,m}function s(m,d,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<d?(m.flags|=2,d):y):(m.flags|=2,d)):(m.flags|=1048576,d)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,d,y,S){return d===null||d.tag!==6?(d=gd(y,m.mode,S),d.return=m,d):(d=i(d,y),d.return=m,d)}function u(m,d,y,S){var I=y.type;return I===Ss?c(m,d,y.props.children,S,y.key):d!==null&&(d.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Tr&&B0(I)===d.type)?(S=i(d,y.props),S.ref=Yo(m,d,y),S.return=m,S):(S=Yl(y.type,y.key,y.props,null,m.mode,S),S.ref=Yo(m,d,y),S.return=m,S)}function l(m,d,y,S){return d===null||d.tag!==4||d.stateNode.containerInfo!==y.containerInfo||d.stateNode.implementation!==y.implementation?(d=vd(y,m.mode,S),d.return=m,d):(d=i(d,y.children||[]),d.return=m,d)}function c(m,d,y,S,I){return d===null||d.tag!==7?(d=Li(y,m.mode,S,I),d.return=m,d):(d=i(d,y),d.return=m,d)}function h(m,d,y){if(typeof d=="string"&&d!==""||typeof d=="number")return d=gd(""+d,m.mode,y),d.return=m,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case sl:return y=Yl(d.type,d.key,d.props,null,m.mode,y),y.ref=Yo(m,null,d),y.return=m,y;case Es:return d=vd(d,m.mode,y),d.return=m,d;case Tr:var S=d._init;return h(m,S(d._payload),y)}if(sa(d)||Wo(d))return d=Li(d,m.mode,y,null),d.return=m,d;gl(m,d)}return null}function f(m,d,y,S){var I=d!==null?d.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return I!==null?null:a(m,d,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case sl:return y.key===I?u(m,d,y,S):null;case Es:return y.key===I?l(m,d,y,S):null;case Tr:return I=y._init,f(m,d,I(y._payload),S)}if(sa(y)||Wo(y))return I!==null?null:c(m,d,y,S,null);gl(m,y)}return null}function p(m,d,y,S,I){if(typeof S=="string"&&S!==""||typeof S=="number")return m=m.get(y)||null,a(d,m,""+S,I);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case sl:return m=m.get(S.key===null?y:S.key)||null,u(d,m,S,I);case Es:return m=m.get(S.key===null?y:S.key)||null,l(d,m,S,I);case Tr:var C=S._init;return p(m,d,y,C(S._payload),I)}if(sa(S)||Wo(S))return m=m.get(y)||null,c(d,m,S,I,null);gl(d,S)}return null}function g(m,d,y,S){for(var I=null,C=null,$=d,R=d=0,q=null;$!==null&&R<y.length;R++){$.index>R?(q=$,$=null):q=$.sibling;var F=f(m,$,y[R],S);if(F===null){$===null&&($=q);break}t&&$&&F.alternate===null&&e(m,$),d=s(F,d,R),C===null?I=F:C.sibling=F,C=F,$=q}if(R===y.length)return n(m,$),_e&&wi(m,R),I;if($===null){for(;R<y.length;R++)$=h(m,y[R],S),$!==null&&(d=s($,d,R),C===null?I=$:C.sibling=$,C=$);return _e&&wi(m,R),I}for($=r(m,$);R<y.length;R++)q=p($,m,R,y[R],S),q!==null&&(t&&q.alternate!==null&&$.delete(q.key===null?R:q.key),d=s(q,d,R),C===null?I=q:C.sibling=q,C=q);return t&&$.forEach(function(Oe){return e(m,Oe)}),_e&&wi(m,R),I}function v(m,d,y,S){var I=Wo(y);if(typeof I!="function")throw Error(b(150));if(y=I.call(y),y==null)throw Error(b(151));for(var C=I=null,$=d,R=d=0,q=null,F=y.next();$!==null&&!F.done;R++,F=y.next()){$.index>R?(q=$,$=null):q=$.sibling;var Oe=f(m,$,F.value,S);if(Oe===null){$===null&&($=q);break}t&&$&&Oe.alternate===null&&e(m,$),d=s(Oe,d,R),C===null?I=Oe:C.sibling=Oe,C=Oe,$=q}if(F.done)return n(m,$),_e&&wi(m,R),I;if($===null){for(;!F.done;R++,F=y.next())F=h(m,F.value,S),F!==null&&(d=s(F,d,R),C===null?I=F:C.sibling=F,C=F);return _e&&wi(m,R),I}for($=r(m,$);!F.done;R++,F=y.next())F=p($,m,R,F.value,S),F!==null&&(t&&F.alternate!==null&&$.delete(F.key===null?R:F.key),d=s(F,d,R),C===null?I=F:C.sibling=F,C=F);return t&&$.forEach(function(pi){return e(m,pi)}),_e&&wi(m,R),I}function w(m,d,y,S){if(typeof y=="object"&&y!==null&&y.type===Ss&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case sl:e:{for(var I=y.key,C=d;C!==null;){if(C.key===I){if(I=y.type,I===Ss){if(C.tag===7){n(m,C.sibling),d=i(C,y.props.children),d.return=m,m=d;break e}}else if(C.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Tr&&B0(I)===C.type){n(m,C.sibling),d=i(C,y.props),d.ref=Yo(m,C,y),d.return=m,m=d;break e}n(m,C);break}else e(m,C);C=C.sibling}y.type===Ss?(d=Li(y.props.children,m.mode,S,y.key),d.return=m,m=d):(S=Yl(y.type,y.key,y.props,null,m.mode,S),S.ref=Yo(m,d,y),S.return=m,m=S)}return o(m);case Es:e:{for(C=y.key;d!==null;){if(d.key===C)if(d.tag===4&&d.stateNode.containerInfo===y.containerInfo&&d.stateNode.implementation===y.implementation){n(m,d.sibling),d=i(d,y.children||[]),d.return=m,m=d;break e}else{n(m,d);break}else e(m,d);d=d.sibling}d=vd(y,m.mode,S),d.return=m,m=d}return o(m);case Tr:return C=y._init,w(m,d,C(y._payload),S)}if(sa(y))return g(m,d,y,S);if(Wo(y))return v(m,d,y,S);gl(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,d!==null&&d.tag===6?(n(m,d.sibling),d=i(d,y),d.return=m,m=d):(n(m,d),d=gd(y,m.mode,S),d.return=m,m=d),o(m)):n(m,d)}return w}var eo=VS(!0),zS=VS(!1),vc=oi(null),yc=null,As=null,Dg=null;function Lg(){Dg=As=yc=null}function Mg(t){var e=vc.current;ve(vc),t._currentValue=e}function jp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Vs(t,e){yc=t,Dg=As=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(It=!0),t.firstContext=null)}function en(t){var e=t._currentValue;if(Dg!==t)if(t={context:t,memoizedValue:e,next:null},As===null){if(yc===null)throw Error(b(308));As=t,yc.dependencies={lanes:0,firstContext:t}}else As=As.next=t;return e}var ki=null;function Fg(t){ki===null?ki=[t]:ki.push(t)}function BS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Fg(e)):(n.next=i.next,i.next=n),e.interleaved=n,ir(t,r)}function ir(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Cr=!1;function jg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function HS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function jr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ee&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ir(t,n)}return i=r.interleaved,i===null?(e.next=e,Fg(r)):(e.next=i.next,i.next=e),r.interleaved=e,ir(t,n)}function Hl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cg(t,n)}}function H0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function wc(t,e,n,r){var i=t.updateQueue;Cr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(s!==null){var h=i.baseState;o=0,c=l=u=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,v=a;switch(f=e,p=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=Te({},h,f);break e;case 2:Cr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=p,u=h):c=c.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(u=h),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Hi|=o,t.lanes=o,t.memoizedState=h}}function W0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(b(191,i));i.call(r)}}}var Au={},Nn=oi(Au),Ga=oi(Au),Ka=oi(Au);function bi(t){if(t===Au)throw Error(b(174));return t}function Ug(t,e){switch(ce(Ka,e),ce(Ga,t),ce(Nn,Au),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wp(e,t)}ve(Nn),ce(Nn,e)}function to(){ve(Nn),ve(Ga),ve(Ka)}function WS(t){bi(Ka.current);var e=bi(Nn.current),n=wp(e,t.type);e!==n&&(ce(Ga,t),ce(Nn,n))}function Vg(t){Ga.current===t&&(ve(Nn),ve(Ga))}var Ee=oi(0);function _c(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cd=[];function zg(){for(var t=0;t<cd.length;t++)cd[t]._workInProgressVersionPrimary=null;cd.length=0}var Wl=dr.ReactCurrentDispatcher,hd=dr.ReactCurrentBatchConfig,Bi=0,Se=null,Le=null,ze=null,Ec=!1,Sa=!1,qa=0,PA=0;function et(){throw Error(b(321))}function Bg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!wn(t[n],e[n]))return!1;return!0}function Hg(t,e,n,r,i,s){if(Bi=s,Se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wl.current=t===null||t.memoizedState===null?MA:FA,t=n(r,i),Sa){s=0;do{if(Sa=!1,qa=0,25<=s)throw Error(b(301));s+=1,ze=Le=null,e.updateQueue=null,Wl.current=jA,t=n(r,i)}while(Sa)}if(Wl.current=Sc,e=Le!==null&&Le.next!==null,Bi=0,ze=Le=Se=null,Ec=!1,e)throw Error(b(300));return t}function Wg(){var t=qa!==0;return qa=0,t}function kn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Se.memoizedState=ze=t:ze=ze.next=t,ze}function tn(){if(Le===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Le.next;var e=ze===null?Se.memoizedState:ze.next;if(e!==null)ze=e,Le=t;else{if(t===null)throw Error(b(310));Le=t,t={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},ze===null?Se.memoizedState=ze=t:ze=ze.next=t}return ze}function Qa(t,e){return typeof e=="function"?e(t):e}function fd(t){var e=tn(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=Le,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,l=s;do{var c=l.lane;if((Bi&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var h={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=h,o=r):u=u.next=h,Se.lanes|=c,Hi|=c}l=l.next}while(l!==null&&l!==s);u===null?o=r:u.next=a,wn(r,e.memoizedState)||(It=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Se.lanes|=s,Hi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function dd(t){var e=tn(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);wn(s,e.memoizedState)||(It=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function GS(){}function KS(t,e){var n=Se,r=tn(),i=e(),s=!wn(r.memoizedState,i);if(s&&(r.memoizedState=i,It=!0),r=r.queue,Gg(YS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ze!==null&&ze.memoizedState.tag&1){if(n.flags|=2048,Ya(9,QS.bind(null,n,r,i,e),void 0,null),Be===null)throw Error(b(349));Bi&30||qS(n,e,i)}return i}function qS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function QS(t,e,n,r){e.value=n,e.getSnapshot=r,XS(e)&&JS(t)}function YS(t,e,n){return n(function(){XS(e)&&JS(t)})}function XS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!wn(t,n)}catch{return!0}}function JS(t){var e=ir(t,1);e!==null&&yn(e,t,1,-1)}function G0(t){var e=kn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:t},e.queue=t,t=t.dispatch=LA.bind(null,Se,t),[e.memoizedState,t]}function Ya(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ZS(){return tn().memoizedState}function Gl(t,e,n,r){var i=kn();Se.flags|=t,i.memoizedState=Ya(1|e,n,void 0,r===void 0?null:r)}function wh(t,e,n,r){var i=tn();r=r===void 0?null:r;var s=void 0;if(Le!==null){var o=Le.memoizedState;if(s=o.destroy,r!==null&&Bg(r,o.deps)){i.memoizedState=Ya(e,n,s,r);return}}Se.flags|=t,i.memoizedState=Ya(1|e,n,s,r)}function K0(t,e){return Gl(8390656,8,t,e)}function Gg(t,e){return wh(2048,8,t,e)}function eT(t,e){return wh(4,2,t,e)}function tT(t,e){return wh(4,4,t,e)}function nT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function rT(t,e,n){return n=n!=null?n.concat([t]):null,wh(4,4,nT.bind(null,e,t),n)}function Kg(){}function iT(t,e){var n=tn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function sT(t,e){var n=tn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function oT(t,e,n){return Bi&21?(wn(n,e)||(n=hS(),Se.lanes|=n,Hi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,It=!0),t.memoizedState=n)}function NA(t,e){var n=ie;ie=n!==0&&4>n?n:4,t(!0);var r=hd.transition;hd.transition={};try{t(!1),e()}finally{ie=n,hd.transition=r}}function aT(){return tn().memoizedState}function DA(t,e,n){var r=Vr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uT(t))lT(e,n);else if(n=BS(t,e,n,r),n!==null){var i=Et();yn(n,t,r,i),cT(n,e,r)}}function LA(t,e,n){var r=Vr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uT(t))lT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,wn(a,o)){var u=e.interleaved;u===null?(i.next=i,Fg(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=BS(t,e,i,r),n!==null&&(i=Et(),yn(n,t,r,i),cT(n,e,r))}}function uT(t){var e=t.alternate;return t===Se||e!==null&&e===Se}function lT(t,e){Sa=Ec=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function cT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cg(t,n)}}var Sc={readContext:en,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},MA={readContext:en,useCallback:function(t,e){return kn().memoizedState=[t,e===void 0?null:e],t},useContext:en,useEffect:K0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Gl(4194308,4,nT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Gl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Gl(4,2,t,e)},useMemo:function(t,e){var n=kn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=kn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=DA.bind(null,Se,t),[r.memoizedState,t]},useRef:function(t){var e=kn();return t={current:t},e.memoizedState=t},useState:G0,useDebugValue:Kg,useDeferredValue:function(t){return kn().memoizedState=t},useTransition:function(){var t=G0(!1),e=t[0];return t=NA.bind(null,t[1]),kn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Se,i=kn();if(_e){if(n===void 0)throw Error(b(407));n=n()}else{if(n=e(),Be===null)throw Error(b(349));Bi&30||qS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,K0(YS.bind(null,r,s,t),[t]),r.flags|=2048,Ya(9,QS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=kn(),e=Be.identifierPrefix;if(_e){var n=Qn,r=qn;n=(r&~(1<<32-vn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=qa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=PA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},FA={readContext:en,useCallback:iT,useContext:en,useEffect:Gg,useImperativeHandle:rT,useInsertionEffect:eT,useLayoutEffect:tT,useMemo:sT,useReducer:fd,useRef:ZS,useState:function(){return fd(Qa)},useDebugValue:Kg,useDeferredValue:function(t){var e=tn();return oT(e,Le.memoizedState,t)},useTransition:function(){var t=fd(Qa)[0],e=tn().memoizedState;return[t,e]},useMutableSource:GS,useSyncExternalStore:KS,useId:aT,unstable_isNewReconciler:!1},jA={readContext:en,useCallback:iT,useContext:en,useEffect:Gg,useImperativeHandle:rT,useInsertionEffect:eT,useLayoutEffect:tT,useMemo:sT,useReducer:dd,useRef:ZS,useState:function(){return dd(Qa)},useDebugValue:Kg,useDeferredValue:function(t){var e=tn();return Le===null?e.memoizedState=t:oT(e,Le.memoizedState,t)},useTransition:function(){var t=dd(Qa)[0],e=tn().memoizedState;return[t,e]},useMutableSource:GS,useSyncExternalStore:KS,useId:aT,unstable_isNewReconciler:!1};function cn(t,e){if(t&&t.defaultProps){e=Te({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Up(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Te({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _h={isMounted:function(t){return(t=t._reactInternals)?ns(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Et(),i=Vr(t),s=Zn(r,i);s.payload=e,n!=null&&(s.callback=n),e=jr(t,s,i),e!==null&&(yn(e,t,i,r),Hl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Et(),i=Vr(t),s=Zn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=jr(t,s,i),e!==null&&(yn(e,t,i,r),Hl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Et(),r=Vr(t),i=Zn(n,r);i.tag=2,e!=null&&(i.callback=e),e=jr(t,i,r),e!==null&&(yn(e,t,r,n),Hl(e,t,r))}};function q0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!za(n,r)||!za(i,s):!0}function hT(t,e,n){var r=!1,i=Jr,s=e.contextType;return typeof s=="object"&&s!==null?s=en(s):(i=kt(e)?Vi:dt.current,r=e.contextTypes,s=(r=r!=null)?Js(t,i):Jr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_h,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Q0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&_h.enqueueReplaceState(e,e.state,null)}function Vp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},jg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=en(s):(s=kt(e)?Vi:dt.current,i.context=Js(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Up(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&_h.enqueueReplaceState(i,i.state,null),wc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function no(t,e){try{var n="",r=e;do n+=dx(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function pd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function zp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var UA=typeof WeakMap=="function"?WeakMap:Map;function fT(t,e,n){n=Zn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Cc||(Cc=!0,Jp=r),zp(t,e)},n}function dT(t,e,n){n=Zn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){zp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){zp(t,e),typeof r!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Y0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new UA;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=eO.bind(null,t,e,n),e.then(t,t))}function X0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function J0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zn(-1,1),e.tag=2,jr(n,e,1))),n.lanes|=1),t)}var VA=dr.ReactCurrentOwner,It=!1;function wt(t,e,n,r){e.child=t===null?zS(e,null,n,r):eo(e,t.child,n,r)}function Z0(t,e,n,r,i){n=n.render;var s=e.ref;return Vs(e,i),r=Hg(t,e,n,r,s,i),n=Wg(),t!==null&&!It?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,sr(t,e,i)):(_e&&n&&Rg(e),e.flags|=1,wt(t,e,r,i),e.child)}function e1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!tv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,pT(t,e,s,r,i)):(t=Yl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:za,n(o,r)&&t.ref===e.ref)return sr(t,e,i)}return e.flags|=1,t=zr(s,r),t.ref=e.ref,t.return=e,e.child=t}function pT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(za(s,r)&&t.ref===e.ref)if(It=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(It=!0);else return e.lanes=t.lanes,sr(t,e,i)}return Bp(t,e,n,r,i)}function mT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(Rs,Rt),Rt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ce(Rs,Rt),Rt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ce(Rs,Rt),Rt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ce(Rs,Rt),Rt|=r;return wt(t,e,i,n),e.child}function gT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Bp(t,e,n,r,i){var s=kt(n)?Vi:dt.current;return s=Js(e,s),Vs(e,i),n=Hg(t,e,n,r,s,i),r=Wg(),t!==null&&!It?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,sr(t,e,i)):(_e&&r&&Rg(e),e.flags|=1,wt(t,e,n,i),e.child)}function t1(t,e,n,r,i){if(kt(n)){var s=!0;pc(e)}else s=!1;if(Vs(e,i),e.stateNode===null)Kl(t,e),hT(e,n,r),Vp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=en(l):(l=kt(n)?Vi:dt.current,l=Js(e,l));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==l)&&Q0(e,o,r,l),Cr=!1;var f=e.memoizedState;o.state=f,wc(e,r,o,i),u=e.memoizedState,a!==r||f!==u||$t.current||Cr?(typeof c=="function"&&(Up(e,n,c,r),u=e.memoizedState),(a=Cr||q0(e,n,a,r,f,u,l))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,HS(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:cn(e.type,a),o.props=l,h=e.pendingProps,f=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=en(u):(u=kt(n)?Vi:dt.current,u=Js(e,u));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==u)&&Q0(e,o,r,u),Cr=!1,f=e.memoizedState,o.state=f,wc(e,r,o,i);var g=e.memoizedState;a!==h||f!==g||$t.current||Cr?(typeof p=="function"&&(Up(e,n,p,r),g=e.memoizedState),(l=Cr||q0(e,n,l,r,f,g,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=u,r=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Hp(t,e,n,r,s,i)}function Hp(t,e,n,r,i,s){gT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&U0(e,n,!1),sr(t,e,s);r=e.stateNode,VA.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=eo(e,t.child,null,s),e.child=eo(e,null,a,s)):wt(t,e,a,s),e.memoizedState=r.state,i&&U0(e,n,!0),e.child}function vT(t){var e=t.stateNode;e.pendingContext?j0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&j0(t,e.context,!1),Ug(t,e.containerInfo)}function n1(t,e,n,r,i){return Zs(),Ng(i),e.flags|=256,wt(t,e,n,r),e.child}var Wp={dehydrated:null,treeContext:null,retryLane:0};function Gp(t){return{baseLanes:t,cachePool:null,transitions:null}}function yT(t,e,n){var r=e.pendingProps,i=Ee.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ce(Ee,i&1),t===null)return Fp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Th(o,r,0,null),t=Li(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Gp(n),e.memoizedState=Wp,t):qg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return zA(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=zr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=zr(a,s):(s=Li(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Gp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Wp,r}return s=t.child,t=s.sibling,r=zr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function qg(t,e){return e=Th({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function vl(t,e,n,r){return r!==null&&Ng(r),eo(e,t.child,null,n),t=qg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zA(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=pd(Error(b(422))),vl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Th({mode:"visible",children:r.children},i,0,null),s=Li(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&eo(e,t.child,null,o),e.child.memoizedState=Gp(o),e.memoizedState=Wp,s);if(!(e.mode&1))return vl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(b(419)),r=pd(s,r,void 0),vl(t,e,o,r)}if(a=(o&t.childLanes)!==0,It||a){if(r=Be,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ir(t,i),yn(r,t,i,-1))}return ev(),r=pd(Error(b(421))),vl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=tO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Pt=Fr(i.nextSibling),Dt=e,_e=!0,dn=null,t!==null&&(Kt[qt++]=qn,Kt[qt++]=Qn,Kt[qt++]=zi,qn=t.id,Qn=t.overflow,zi=e),e=qg(e,r.children),e.flags|=4096,e)}function r1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),jp(t.return,e,n)}function md(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function wT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(wt(t,e,r.children,n),r=Ee.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&r1(t,n,e);else if(t.tag===19)r1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ce(Ee,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&_c(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),md(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&_c(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}md(e,!0,n,null,s);break;case"together":md(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Kl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function sr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Hi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(b(153));if(e.child!==null){for(t=e.child,n=zr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function BA(t,e,n){switch(e.tag){case 3:vT(e),Zs();break;case 5:WS(e);break;case 1:kt(e.type)&&pc(e);break;case 4:Ug(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ce(vc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ce(Ee,Ee.current&1),e.flags|=128,null):n&e.child.childLanes?yT(t,e,n):(ce(Ee,Ee.current&1),t=sr(t,e,n),t!==null?t.sibling:null);ce(Ee,Ee.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return wT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ce(Ee,Ee.current),r)break;return null;case 22:case 23:return e.lanes=0,mT(t,e,n)}return sr(t,e,n)}var _T,Kp,ET,ST;_T=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Kp=function(){};ET=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,bi(Nn.current);var s=null;switch(n){case"input":i=mp(t,i),r=mp(t,r),s=[];break;case"select":i=Te({},i,{value:void 0}),r=Te({},r,{value:void 0}),s=[];break;case"textarea":i=yp(t,i),r=yp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=fc)}_p(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Da.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Da.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&fe("scroll",t),s||a===u||(s=[])):(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};ST=function(t,e,n,r){n!==r&&(e.flags|=4)};function Xo(t,e){if(!_e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function HA(t,e,n){var r=e.pendingProps;switch(Pg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(e),null;case 1:return kt(e.type)&&dc(),tt(e),null;case 3:return r=e.stateNode,to(),ve($t),ve(dt),zg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ml(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,dn!==null&&(tm(dn),dn=null))),Kp(t,e),tt(e),null;case 5:Vg(e);var i=bi(Ka.current);if(n=e.type,t!==null&&e.stateNode!=null)ET(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(b(166));return tt(e),null}if(t=bi(Nn.current),ml(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[xn]=e,r[Wa]=s,t=(e.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(i=0;i<aa.length;i++)fe(aa[i],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":f0(r,s),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},fe("invalid",r);break;case"textarea":p0(r,s),fe("invalid",r)}_p(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&pl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&pl(r.textContent,a,t),i=["children",""+a]):Da.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&fe("scroll",r)}switch(n){case"input":ol(r),d0(r,s,!0);break;case"textarea":ol(r),m0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=fc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=YE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[xn]=e,t[Wa]=r,_T(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ep(n,r),n){case"dialog":fe("cancel",t),fe("close",t),i=r;break;case"iframe":case"object":case"embed":fe("load",t),i=r;break;case"video":case"audio":for(i=0;i<aa.length;i++)fe(aa[i],t);i=r;break;case"source":fe("error",t),i=r;break;case"img":case"image":case"link":fe("error",t),fe("load",t),i=r;break;case"details":fe("toggle",t),i=r;break;case"input":f0(t,r),i=mp(t,r),fe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Te({},r,{value:void 0}),fe("invalid",t);break;case"textarea":p0(t,r),i=yp(t,r),fe("invalid",t);break;default:i=r}_p(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?ZE(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&XE(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&La(t,u):typeof u=="number"&&La(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Da.hasOwnProperty(s)?u!=null&&s==="onScroll"&&fe("scroll",t):u!=null&&yg(t,s,u,o))}switch(n){case"input":ol(t),d0(t,r,!1);break;case"textarea":ol(t),m0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ms(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ms(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=fc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tt(e),null;case 6:if(t&&e.stateNode!=null)ST(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(b(166));if(n=bi(Ka.current),bi(Nn.current),ml(e)){if(r=e.stateNode,n=e.memoizedProps,r[xn]=e,(s=r.nodeValue!==n)&&(t=Dt,t!==null))switch(t.tag){case 3:pl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xn]=e,e.stateNode=r}return tt(e),null;case 13:if(ve(Ee),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(_e&&Pt!==null&&e.mode&1&&!(e.flags&128))US(),Zs(),e.flags|=98560,s=!1;else if(s=ml(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(b(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(b(317));s[xn]=e}else Zs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tt(e),s=!1}else dn!==null&&(tm(dn),dn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ee.current&1?Fe===0&&(Fe=3):ev())),e.updateQueue!==null&&(e.flags|=4),tt(e),null);case 4:return to(),Kp(t,e),t===null&&Ba(e.stateNode.containerInfo),tt(e),null;case 10:return Mg(e.type._context),tt(e),null;case 17:return kt(e.type)&&dc(),tt(e),null;case 19:if(ve(Ee),s=e.memoizedState,s===null)return tt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Xo(s,!1);else{if(Fe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=_c(t),o!==null){for(e.flags|=128,Xo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ce(Ee,Ee.current&1|2),e.child}t=t.sibling}s.tail!==null&&xe()>ro&&(e.flags|=128,r=!0,Xo(s,!1),e.lanes=4194304)}else{if(!r)if(t=_c(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Xo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!_e)return tt(e),null}else 2*xe()-s.renderingStartTime>ro&&n!==1073741824&&(e.flags|=128,r=!0,Xo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=xe(),e.sibling=null,n=Ee.current,ce(Ee,r?n&1|2:n&1),e):(tt(e),null);case 22:case 23:return Zg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Rt&1073741824&&(tt(e),e.subtreeFlags&6&&(e.flags|=8192)):tt(e),null;case 24:return null;case 25:return null}throw Error(b(156,e.tag))}function WA(t,e){switch(Pg(e),e.tag){case 1:return kt(e.type)&&dc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return to(),ve($t),ve(dt),zg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Vg(e),null;case 13:if(ve(Ee),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(b(340));Zs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ve(Ee),null;case 4:return to(),null;case 10:return Mg(e.type._context),null;case 22:case 23:return Zg(),null;case 24:return null;default:return null}}var yl=!1,ot=!1,GA=typeof WeakSet=="function"?WeakSet:Set,N=null;function Os(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ie(t,e,r)}else n.current=null}function qp(t,e,n){try{n()}catch(r){Ie(t,e,r)}}var i1=!1;function KA(t,e){if(Op=lc,t=kS(),Og(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,l=0,c=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(u=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++l===i&&(a=o),f===s&&++c===r&&(u=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rp={focusedElem:t,selectionRange:n},lc=!1,N=e;N!==null;)if(e=N,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,N=t;else for(;N!==null;){e=N;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,w=g.memoizedState,m=e.stateNode,d=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:cn(e.type,v),w);m.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(S){Ie(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,N=t;break}N=e.return}return g=i1,i1=!1,g}function Ta(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&qp(e,n,s)}i=i.next}while(i!==r)}}function Eh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Qp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function TT(t){var e=t.alternate;e!==null&&(t.alternate=null,TT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xn],delete e[Wa],delete e[Dp],delete e[xA],delete e[AA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function CT(t){return t.tag===5||t.tag===3||t.tag===4}function s1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||CT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=fc));else if(r!==4&&(t=t.child,t!==null))for(Yp(t,e,n),t=t.sibling;t!==null;)Yp(t,e,n),t=t.sibling}function Xp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Xp(t,e,n),t=t.sibling;t!==null;)Xp(t,e,n),t=t.sibling}var qe=null,fn=!1;function _r(t,e,n){for(n=n.child;n!==null;)IT(t,e,n),n=n.sibling}function IT(t,e,n){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(dh,n)}catch{}switch(n.tag){case 5:ot||Os(n,e);case 6:var r=qe,i=fn;qe=null,_r(t,e,n),qe=r,fn=i,qe!==null&&(fn?(t=qe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qe.removeChild(n.stateNode));break;case 18:qe!==null&&(fn?(t=qe,n=n.stateNode,t.nodeType===8?ud(t.parentNode,n):t.nodeType===1&&ud(t,n),Ua(t)):ud(qe,n.stateNode));break;case 4:r=qe,i=fn,qe=n.stateNode.containerInfo,fn=!0,_r(t,e,n),qe=r,fn=i;break;case 0:case 11:case 14:case 15:if(!ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&qp(n,e,o),i=i.next}while(i!==r)}_r(t,e,n);break;case 1:if(!ot&&(Os(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ie(n,e,a)}_r(t,e,n);break;case 21:_r(t,e,n);break;case 22:n.mode&1?(ot=(r=ot)||n.memoizedState!==null,_r(t,e,n),ot=r):_r(t,e,n);break;default:_r(t,e,n)}}function o1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new GA),e.forEach(function(r){var i=nO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function an(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:qe=a.stateNode,fn=!1;break e;case 3:qe=a.stateNode.containerInfo,fn=!0;break e;case 4:qe=a.stateNode.containerInfo,fn=!0;break e}a=a.return}if(qe===null)throw Error(b(160));IT(s,o,i),qe=null,fn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){Ie(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$T(e,t),e=e.sibling}function $T(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(an(e,t),In(t),r&4){try{Ta(3,t,t.return),Eh(3,t)}catch(v){Ie(t,t.return,v)}try{Ta(5,t,t.return)}catch(v){Ie(t,t.return,v)}}break;case 1:an(e,t),In(t),r&512&&n!==null&&Os(n,n.return);break;case 5:if(an(e,t),In(t),r&512&&n!==null&&Os(n,n.return),t.flags&32){var i=t.stateNode;try{La(i,"")}catch(v){Ie(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&qE(i,s),Ep(a,o);var l=Ep(a,s);for(o=0;o<u.length;o+=2){var c=u[o],h=u[o+1];c==="style"?ZE(i,h):c==="dangerouslySetInnerHTML"?XE(i,h):c==="children"?La(i,h):yg(i,c,h,l)}switch(a){case"input":gp(i,s);break;case"textarea":QE(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Ms(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Ms(i,!!s.multiple,s.defaultValue,!0):Ms(i,!!s.multiple,s.multiple?[]:"",!1))}i[Wa]=s}catch(v){Ie(t,t.return,v)}}break;case 6:if(an(e,t),In(t),r&4){if(t.stateNode===null)throw Error(b(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){Ie(t,t.return,v)}}break;case 3:if(an(e,t),In(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ua(e.containerInfo)}catch(v){Ie(t,t.return,v)}break;case 4:an(e,t),In(t);break;case 13:an(e,t),In(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Xg=xe())),r&4&&o1(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(ot=(l=ot)||c,an(e,t),ot=l):an(e,t),In(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&t.mode&1)for(N=t,c=t.child;c!==null;){for(h=N=c;N!==null;){switch(f=N,p=f.child,f.tag){case 0:case 11:case 14:case 15:Ta(4,f,f.return);break;case 1:Os(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){Ie(r,n,v)}}break;case 5:Os(f,f.return);break;case 22:if(f.memoizedState!==null){u1(h);continue}}p!==null?(p.return=f,N=p):u1(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=JE("display",o))}catch(v){Ie(t,t.return,v)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(v){Ie(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:an(e,t),In(t),r&4&&o1(t);break;case 21:break;default:an(e,t),In(t)}}function In(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(CT(n)){var r=n;break e}n=n.return}throw Error(b(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(La(i,""),r.flags&=-33);var s=s1(t);Xp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=s1(t);Yp(t,a,o);break;default:throw Error(b(161))}}catch(u){Ie(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qA(t,e,n){N=t,kT(t)}function kT(t,e,n){for(var r=(t.mode&1)!==0;N!==null;){var i=N,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||yl;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||ot;a=yl;var l=ot;if(yl=o,(ot=u)&&!l)for(N=i;N!==null;)o=N,u=o.child,o.tag===22&&o.memoizedState!==null?l1(i):u!==null?(u.return=o,N=u):l1(i);for(;s!==null;)N=s,kT(s),s=s.sibling;N=i,yl=a,ot=l}a1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,N=s):a1(t)}}function a1(t){for(;N!==null;){var e=N;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ot||Eh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ot)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:cn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&W0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}W0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Ua(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}ot||e.flags&512&&Qp(e)}catch(f){Ie(e,e.return,f)}}if(e===t){N=null;break}if(n=e.sibling,n!==null){n.return=e.return,N=n;break}N=e.return}}function u1(t){for(;N!==null;){var e=N;if(e===t){N=null;break}var n=e.sibling;if(n!==null){n.return=e.return,N=n;break}N=e.return}}function l1(t){for(;N!==null;){var e=N;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Eh(4,e)}catch(u){Ie(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Ie(e,i,u)}}var s=e.return;try{Qp(e)}catch(u){Ie(e,s,u)}break;case 5:var o=e.return;try{Qp(e)}catch(u){Ie(e,o,u)}}}catch(u){Ie(e,e.return,u)}if(e===t){N=null;break}var a=e.sibling;if(a!==null){a.return=e.return,N=a;break}N=e.return}}var QA=Math.ceil,Tc=dr.ReactCurrentDispatcher,Qg=dr.ReactCurrentOwner,Jt=dr.ReactCurrentBatchConfig,ee=0,Be=null,De=null,Xe=0,Rt=0,Rs=oi(0),Fe=0,Xa=null,Hi=0,Sh=0,Yg=0,Ca=null,Ct=null,Xg=0,ro=1/0,Bn=null,Cc=!1,Jp=null,Ur=null,wl=!1,Rr=null,Ic=0,Ia=0,Zp=null,ql=-1,Ql=0;function Et(){return ee&6?xe():ql!==-1?ql:ql=xe()}function Vr(t){return t.mode&1?ee&2&&Xe!==0?Xe&-Xe:RA.transition!==null?(Ql===0&&(Ql=hS()),Ql):(t=ie,t!==0||(t=window.event,t=t===void 0?16:yS(t.type)),t):1}function yn(t,e,n,r){if(50<Ia)throw Ia=0,Zp=null,Error(b(185));ku(t,n,r),(!(ee&2)||t!==Be)&&(t===Be&&(!(ee&2)&&(Sh|=n),Fe===4&&$r(t,Xe)),bt(t,r),n===1&&ee===0&&!(e.mode&1)&&(ro=xe()+500,yh&&ai()))}function bt(t,e){var n=t.callbackNode;Rx(t,e);var r=uc(t,t===Be?Xe:0);if(r===0)n!==null&&y0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&y0(n),e===1)t.tag===0?OA(c1.bind(null,t)):MS(c1.bind(null,t)),kA(function(){!(ee&6)&&ai()}),n=null;else{switch(fS(r)){case 1:n=Tg;break;case 4:n=lS;break;case 16:n=ac;break;case 536870912:n=cS;break;default:n=ac}n=DT(n,bT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bT(t,e){if(ql=-1,Ql=0,ee&6)throw Error(b(327));var n=t.callbackNode;if(zs()&&t.callbackNode!==n)return null;var r=uc(t,t===Be?Xe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=$c(t,r);else{e=r;var i=ee;ee|=2;var s=AT();(Be!==t||Xe!==e)&&(Bn=null,ro=xe()+500,Di(t,e));do try{JA();break}catch(a){xT(t,a)}while(!0);Lg(),Tc.current=s,ee=i,De!==null?e=0:(Be=null,Xe=0,e=Fe)}if(e!==0){if(e===2&&(i=$p(t),i!==0&&(r=i,e=em(t,i))),e===1)throw n=Xa,Di(t,0),$r(t,r),bt(t,xe()),n;if(e===6)$r(t,r);else{if(i=t.current.alternate,!(r&30)&&!YA(i)&&(e=$c(t,r),e===2&&(s=$p(t),s!==0&&(r=s,e=em(t,s))),e===1))throw n=Xa,Di(t,0),$r(t,r),bt(t,xe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(b(345));case 2:_i(t,Ct,Bn);break;case 3:if($r(t,r),(r&130023424)===r&&(e=Xg+500-xe(),10<e)){if(uc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Et(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Np(_i.bind(null,t,Ct,Bn),e);break}_i(t,Ct,Bn);break;case 4:if($r(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-vn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*QA(r/1960))-r,10<r){t.timeoutHandle=Np(_i.bind(null,t,Ct,Bn),r);break}_i(t,Ct,Bn);break;case 5:_i(t,Ct,Bn);break;default:throw Error(b(329))}}}return bt(t,xe()),t.callbackNode===n?bT.bind(null,t):null}function em(t,e){var n=Ca;return t.current.memoizedState.isDehydrated&&(Di(t,e).flags|=256),t=$c(t,e),t!==2&&(e=Ct,Ct=n,e!==null&&tm(e)),t}function tm(t){Ct===null?Ct=t:Ct.push.apply(Ct,t)}function YA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!wn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $r(t,e){for(e&=~Yg,e&=~Sh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-vn(e),r=1<<n;t[n]=-1,e&=~r}}function c1(t){if(ee&6)throw Error(b(327));zs();var e=uc(t,0);if(!(e&1))return bt(t,xe()),null;var n=$c(t,e);if(t.tag!==0&&n===2){var r=$p(t);r!==0&&(e=r,n=em(t,r))}if(n===1)throw n=Xa,Di(t,0),$r(t,e),bt(t,xe()),n;if(n===6)throw Error(b(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_i(t,Ct,Bn),bt(t,xe()),null}function Jg(t,e){var n=ee;ee|=1;try{return t(e)}finally{ee=n,ee===0&&(ro=xe()+500,yh&&ai())}}function Wi(t){Rr!==null&&Rr.tag===0&&!(ee&6)&&zs();var e=ee;ee|=1;var n=Jt.transition,r=ie;try{if(Jt.transition=null,ie=1,t)return t()}finally{ie=r,Jt.transition=n,ee=e,!(ee&6)&&ai()}}function Zg(){Rt=Rs.current,ve(Rs)}function Di(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,$A(n)),De!==null)for(n=De.return;n!==null;){var r=n;switch(Pg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&dc();break;case 3:to(),ve($t),ve(dt),zg();break;case 5:Vg(r);break;case 4:to();break;case 13:ve(Ee);break;case 19:ve(Ee);break;case 10:Mg(r.type._context);break;case 22:case 23:Zg()}n=n.return}if(Be=t,De=t=zr(t.current,null),Xe=Rt=e,Fe=0,Xa=null,Yg=Sh=Hi=0,Ct=Ca=null,ki!==null){for(e=0;e<ki.length;e++)if(n=ki[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ki=null}return t}function xT(t,e){do{var n=De;try{if(Lg(),Wl.current=Sc,Ec){for(var r=Se.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ec=!1}if(Bi=0,ze=Le=Se=null,Sa=!1,qa=0,Qg.current=null,n===null||n.return===null){Fe=1,Xa=e,De=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=Xe,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=X0(o);if(p!==null){p.flags&=-257,J0(p,o,a,s,e),p.mode&1&&Y0(s,l,e),e=p,u=l;var g=e.updateQueue;if(g===null){var v=new Set;v.add(u),e.updateQueue=v}else g.add(u);break e}else{if(!(e&1)){Y0(s,l,e),ev();break e}u=Error(b(426))}}else if(_e&&a.mode&1){var w=X0(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),J0(w,o,a,s,e),Ng(no(u,a));break e}}s=u=no(u,a),Fe!==4&&(Fe=2),Ca===null?Ca=[s]:Ca.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=fT(s,u,e);H0(s,m);break e;case 1:a=u;var d=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof d.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ur===null||!Ur.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=dT(s,a,e);H0(s,S);break e}}s=s.return}while(s!==null)}RT(n)}catch(I){e=I,De===n&&n!==null&&(De=n=n.return);continue}break}while(!0)}function AT(){var t=Tc.current;return Tc.current=Sc,t===null?Sc:t}function ev(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),Be===null||!(Hi&268435455)&&!(Sh&268435455)||$r(Be,Xe)}function $c(t,e){var n=ee;ee|=2;var r=AT();(Be!==t||Xe!==e)&&(Bn=null,Di(t,e));do try{XA();break}catch(i){xT(t,i)}while(!0);if(Lg(),ee=n,Tc.current=r,De!==null)throw Error(b(261));return Be=null,Xe=0,Fe}function XA(){for(;De!==null;)OT(De)}function JA(){for(;De!==null&&!Tx();)OT(De)}function OT(t){var e=NT(t.alternate,t,Rt);t.memoizedProps=t.pendingProps,e===null?RT(t):De=e,Qg.current=null}function RT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=WA(n,e),n!==null){n.flags&=32767,De=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Fe=6,De=null;return}}else if(n=HA(n,e,Rt),n!==null){De=n;return}if(e=e.sibling,e!==null){De=e;return}De=e=t}while(e!==null);Fe===0&&(Fe=5)}function _i(t,e,n){var r=ie,i=Jt.transition;try{Jt.transition=null,ie=1,ZA(t,e,n,r)}finally{Jt.transition=i,ie=r}return null}function ZA(t,e,n,r){do zs();while(Rr!==null);if(ee&6)throw Error(b(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(b(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Px(t,s),t===Be&&(De=Be=null,Xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wl||(wl=!0,DT(ac,function(){return zs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Jt.transition,Jt.transition=null;var o=ie;ie=1;var a=ee;ee|=4,Qg.current=null,KA(t,n),$T(n,t),wA(Rp),lc=!!Op,Rp=Op=null,t.current=n,qA(n),Cx(),ee=a,ie=o,Jt.transition=s}else t.current=n;if(wl&&(wl=!1,Rr=t,Ic=i),s=t.pendingLanes,s===0&&(Ur=null),kx(n.stateNode),bt(t,xe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Cc)throw Cc=!1,t=Jp,Jp=null,t;return Ic&1&&t.tag!==0&&zs(),s=t.pendingLanes,s&1?t===Zp?Ia++:(Ia=0,Zp=t):Ia=0,ai(),null}function zs(){if(Rr!==null){var t=fS(Ic),e=Jt.transition,n=ie;try{if(Jt.transition=null,ie=16>t?16:t,Rr===null)var r=!1;else{if(t=Rr,Rr=null,Ic=0,ee&6)throw Error(b(331));var i=ee;for(ee|=4,N=t.current;N!==null;){var s=N,o=s.child;if(N.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(N=l;N!==null;){var c=N;switch(c.tag){case 0:case 11:case 15:Ta(8,c,s)}var h=c.child;if(h!==null)h.return=c,N=h;else for(;N!==null;){c=N;var f=c.sibling,p=c.return;if(TT(c),c===l){N=null;break}if(f!==null){f.return=p,N=f;break}N=p}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}N=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,N=o;else e:for(;N!==null;){if(s=N,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ta(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,N=m;break e}N=s.return}}var d=t.current;for(N=d;N!==null;){o=N;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,N=y;else e:for(o=d;N!==null;){if(a=N,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Eh(9,a)}}catch(I){Ie(a,a.return,I)}if(a===o){N=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,N=S;break e}N=a.return}}if(ee=i,ai(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(dh,t)}catch{}r=!0}return r}finally{ie=n,Jt.transition=e}}return!1}function h1(t,e,n){e=no(n,e),e=fT(t,e,1),t=jr(t,e,1),e=Et(),t!==null&&(ku(t,1,e),bt(t,e))}function Ie(t,e,n){if(t.tag===3)h1(t,t,n);else for(;e!==null;){if(e.tag===3){h1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ur===null||!Ur.has(r))){t=no(n,t),t=dT(e,t,1),e=jr(e,t,1),t=Et(),e!==null&&(ku(e,1,t),bt(e,t));break}}e=e.return}}function eO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Et(),t.pingedLanes|=t.suspendedLanes&n,Be===t&&(Xe&n)===n&&(Fe===4||Fe===3&&(Xe&130023424)===Xe&&500>xe()-Xg?Di(t,0):Yg|=n),bt(t,e)}function PT(t,e){e===0&&(t.mode&1?(e=ll,ll<<=1,!(ll&130023424)&&(ll=4194304)):e=1);var n=Et();t=ir(t,e),t!==null&&(ku(t,e,n),bt(t,n))}function tO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),PT(t,n)}function nO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(b(314))}r!==null&&r.delete(e),PT(t,n)}var NT;NT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||$t.current)It=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return It=!1,BA(t,e,n);It=!!(t.flags&131072)}else It=!1,_e&&e.flags&1048576&&FS(e,gc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Kl(t,e),t=e.pendingProps;var i=Js(e,dt.current);Vs(e,n),i=Hg(null,e,r,t,i,n);var s=Wg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,kt(r)?(s=!0,pc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,jg(e),i.updater=_h,e.stateNode=i,i._reactInternals=e,Vp(e,r,t,n),e=Hp(null,e,r,!0,s,n)):(e.tag=0,_e&&s&&Rg(e),wt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Kl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=iO(r),t=cn(r,t),i){case 0:e=Bp(null,e,r,t,n);break e;case 1:e=t1(null,e,r,t,n);break e;case 11:e=Z0(null,e,r,t,n);break e;case 14:e=e1(null,e,r,cn(r.type,t),n);break e}throw Error(b(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cn(r,i),Bp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cn(r,i),t1(t,e,r,i,n);case 3:e:{if(vT(e),t===null)throw Error(b(387));r=e.pendingProps,s=e.memoizedState,i=s.element,HS(t,e),wc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=no(Error(b(423)),e),e=n1(t,e,r,n,i);break e}else if(r!==i){i=no(Error(b(424)),e),e=n1(t,e,r,n,i);break e}else for(Pt=Fr(e.stateNode.containerInfo.firstChild),Dt=e,_e=!0,dn=null,n=zS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zs(),r===i){e=sr(t,e,n);break e}wt(t,e,r,n)}e=e.child}return e;case 5:return WS(e),t===null&&Fp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Pp(r,i)?o=null:s!==null&&Pp(r,s)&&(e.flags|=32),gT(t,e),wt(t,e,o,n),e.child;case 6:return t===null&&Fp(e),null;case 13:return yT(t,e,n);case 4:return Ug(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=eo(e,null,r,n):wt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cn(r,i),Z0(t,e,r,i,n);case 7:return wt(t,e,e.pendingProps,n),e.child;case 8:return wt(t,e,e.pendingProps.children,n),e.child;case 12:return wt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ce(vc,r._currentValue),r._currentValue=o,s!==null)if(wn(s.value,o)){if(s.children===i.children&&!$t.current){e=sr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Zn(-1,n&-n),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),jp(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(b(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),jp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}wt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Vs(e,n),i=en(i),r=r(i),e.flags|=1,wt(t,e,r,n),e.child;case 14:return r=e.type,i=cn(r,e.pendingProps),i=cn(r.type,i),e1(t,e,r,i,n);case 15:return pT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cn(r,i),Kl(t,e),e.tag=1,kt(r)?(t=!0,pc(e)):t=!1,Vs(e,n),hT(e,r,i),Vp(e,r,i,n),Hp(null,e,r,!0,t,n);case 19:return wT(t,e,n);case 22:return mT(t,e,n)}throw Error(b(156,e.tag))};function DT(t,e){return uS(t,e)}function rO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(t,e,n,r){return new rO(t,e,n,r)}function tv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function iO(t){if(typeof t=="function")return tv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_g)return 11;if(t===Eg)return 14}return 2}function zr(t,e){var n=t.alternate;return n===null?(n=Xt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Yl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")tv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ss:return Li(n.children,i,s,e);case wg:o=8,i|=8;break;case hp:return t=Xt(12,n,e,i|2),t.elementType=hp,t.lanes=s,t;case fp:return t=Xt(13,n,e,i),t.elementType=fp,t.lanes=s,t;case dp:return t=Xt(19,n,e,i),t.elementType=dp,t.lanes=s,t;case WE:return Th(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case BE:o=10;break e;case HE:o=9;break e;case _g:o=11;break e;case Eg:o=14;break e;case Tr:o=16,r=null;break e}throw Error(b(130,t==null?t:typeof t,""))}return e=Xt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Li(t,e,n,r){return t=Xt(7,t,r,e),t.lanes=n,t}function Th(t,e,n,r){return t=Xt(22,t,r,e),t.elementType=WE,t.lanes=n,t.stateNode={isHidden:!1},t}function gd(t,e,n){return t=Xt(6,t,null,e),t.lanes=n,t}function vd(t,e,n){return e=Xt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function sO(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xf(0),this.expirationTimes=Xf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function nv(t,e,n,r,i,s,o,a,u){return t=new sO(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Xt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jg(s),t}function oO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Es,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function LT(t){if(!t)return Jr;t=t._reactInternals;e:{if(ns(t)!==t||t.tag!==1)throw Error(b(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(kt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(b(171))}if(t.tag===1){var n=t.type;if(kt(n))return LS(t,n,e)}return e}function MT(t,e,n,r,i,s,o,a,u){return t=nv(n,r,!0,t,i,s,o,a,u),t.context=LT(null),n=t.current,r=Et(),i=Vr(n),s=Zn(r,i),s.callback=e??null,jr(n,s,i),t.current.lanes=i,ku(t,i,r),bt(t,r),t}function Ch(t,e,n,r){var i=e.current,s=Et(),o=Vr(i);return n=LT(n),e.context===null?e.context=n:e.pendingContext=n,e=Zn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=jr(i,e,o),t!==null&&(yn(t,i,o,s),Hl(t,i,o)),o}function kc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function f1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function rv(t,e){f1(t,e),(t=t.alternate)&&f1(t,e)}function aO(){return null}var FT=typeof reportError=="function"?reportError:function(t){console.error(t)};function iv(t){this._internalRoot=t}Ih.prototype.render=iv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(b(409));Ch(t,e,null,null)};Ih.prototype.unmount=iv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wi(function(){Ch(null,t,null,null)}),e[rr]=null}};function Ih(t){this._internalRoot=t}Ih.prototype.unstable_scheduleHydration=function(t){if(t){var e=mS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ir.length&&e!==0&&e<Ir[n].priority;n++);Ir.splice(n,0,t),n===0&&vS(t)}};function sv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $h(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function d1(){}function uO(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=kc(o);s.call(l)}}var o=MT(e,r,t,0,null,!1,!1,"",d1);return t._reactRootContainer=o,t[rr]=o.current,Ba(t.nodeType===8?t.parentNode:t),Wi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=kc(u);a.call(l)}}var u=nv(t,0,!1,null,null,!1,!1,"",d1);return t._reactRootContainer=u,t[rr]=u.current,Ba(t.nodeType===8?t.parentNode:t),Wi(function(){Ch(e,u,n,r)}),u}function kh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=kc(o);a.call(u)}}Ch(e,o,t,i)}else o=uO(n,e,t,i,r);return kc(o)}dS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=oa(e.pendingLanes);n!==0&&(Cg(e,n|1),bt(e,xe()),!(ee&6)&&(ro=xe()+500,ai()))}break;case 13:Wi(function(){var r=ir(t,1);if(r!==null){var i=Et();yn(r,t,1,i)}}),rv(t,1)}};Ig=function(t){if(t.tag===13){var e=ir(t,134217728);if(e!==null){var n=Et();yn(e,t,134217728,n)}rv(t,134217728)}};pS=function(t){if(t.tag===13){var e=Vr(t),n=ir(t,e);if(n!==null){var r=Et();yn(n,t,e,r)}rv(t,e)}};mS=function(){return ie};gS=function(t,e){var n=ie;try{return ie=t,e()}finally{ie=n}};Tp=function(t,e,n){switch(e){case"input":if(gp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=vh(r);if(!i)throw Error(b(90));KE(r),gp(r,i)}}}break;case"textarea":QE(t,n);break;case"select":e=n.value,e!=null&&Ms(t,!!n.multiple,e,!1)}};nS=Jg;rS=Wi;var lO={usingClientEntryPoint:!1,Events:[xu,$s,vh,eS,tS,Jg]},Jo={findFiberByHostInstance:$i,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cO={bundleType:Jo.bundleType,version:Jo.version,rendererPackageName:Jo.rendererPackageName,rendererConfig:Jo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=oS(t),t===null?null:t.stateNode},findFiberByHostInstance:Jo.findFiberByHostInstance||aO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_l.isDisabled&&_l.supportsFiber)try{dh=_l.inject(cO),Pn=_l}catch{}}Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lO;Ut.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sv(e))throw Error(b(200));return oO(t,e,null,n)};Ut.createRoot=function(t,e){if(!sv(t))throw Error(b(299));var n=!1,r="",i=FT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=nv(t,1,!1,null,null,n,!1,r,i),t[rr]=e.current,Ba(t.nodeType===8?t.parentNode:t),new iv(e)};Ut.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(b(188)):(t=Object.keys(t).join(","),Error(b(268,t)));return t=oS(e),t=t===null?null:t.stateNode,t};Ut.flushSync=function(t){return Wi(t)};Ut.hydrate=function(t,e,n){if(!$h(e))throw Error(b(200));return kh(null,t,e,!0,n)};Ut.hydrateRoot=function(t,e,n){if(!sv(t))throw Error(b(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=FT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=MT(e,null,t,1,n??null,i,!1,s,o),t[rr]=e.current,Ba(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ih(e)};Ut.render=function(t,e,n){if(!$h(e))throw Error(b(200));return kh(null,t,e,!1,n)};Ut.unmountComponentAtNode=function(t){if(!$h(t))throw Error(b(40));return t._reactRootContainer?(Wi(function(){kh(null,null,t,!1,function(){t._reactRootContainer=null,t[rr]=null})}),!0):!1};Ut.unstable_batchedUpdates=Jg;Ut.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!$h(n))throw Error(b(200));if(t==null||t._reactInternals===void 0)throw Error(b(38));return kh(t,e,n,!1,r)};Ut.version="18.3.1-next-f1338f8080-20240426";function jT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jT)}catch(t){console.error(t)}}jT(),jE.exports=Ut;var UT=jE.exports,p1=UT;lp.createRoot=p1.createRoot,lp.hydrateRoot=p1.hydrateRoot;var nm=new Map,El=new WeakMap,m1=0,hO=void 0;function fO(t){return t?(El.has(t)||(m1+=1,El.set(t,m1.toString())),El.get(t)):"0"}function dO(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?fO(t.root):t[e]}`).toString()}function pO(t){const e=dO(t);let n=nm.get(e);if(!n){const r=new Map;let i;const s=new IntersectionObserver(o=>{o.forEach(a=>{var u;const l=a.isIntersecting&&i.some(c=>a.intersectionRatio>=c);t.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=l),(u=r.get(a.target))==null||u.forEach(c=>{c(l,a)})})},t);i=s.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:e,observer:s,elements:r},nm.set(e,n)}return n}function mO(t,e,n={},r=hO){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const u=t.getBoundingClientRect();return e(r,{isIntersecting:r,target:t,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:u,intersectionRect:u,rootBounds:u}),()=>{}}const{id:i,observer:s,elements:o}=pO(n),a=o.get(t)||[];return o.has(t)||o.set(t,a),a.push(e),s.observe(t),function(){a.splice(a.indexOf(e),1),a.length===0&&(o.delete(t),s.unobserve(t)),o.size===0&&(s.disconnect(),nm.delete(i))}}function gO({threshold:t,delay:e,trackVisibility:n,rootMargin:r,root:i,triggerOnce:s,skip:o,initialInView:a,fallbackInView:u,onChange:l}={}){var c;const[h,f]=E.useState(null),p=E.useRef(),[g,v]=E.useState({inView:!!a,entry:void 0});p.current=l,E.useEffect(()=>{if(o||!h)return;let y;return y=mO(h,(S,I)=>{v({inView:S,entry:I}),p.current&&p.current(S,I),I.isIntersecting&&s&&y&&(y(),y=void 0)},{root:i,rootMargin:r,threshold:t,trackVisibility:n,delay:e},u),()=>{y&&y()}},[Array.isArray(t)?t.toString():t,h,i,r,s,o,n,u,e]);const w=(c=g.entry)==null?void 0:c.target,m=E.useRef();!h&&w&&!s&&!o&&m.current!==w&&(m.current=w,v({inView:!!a,entry:void 0}));const d=[f,g.inView,g.entry];return d.ref=d[0],d.inView=d[1],d.entry=d[2],d}function pn(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Zr(t){return!!t&&!!t[we]}function or(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===IO}(t)||Array.isArray(t)||!!t[S1]||!!(!((e=t.constructor)===null||e===void 0)&&e[S1])||ov(t)||av(t))}function Gi(t,e,n){n===void 0&&(n=!1),So(t)===0?(n?Object.keys:Hs)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function So(t){var e=t[we];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:ov(t)?2:av(t)?3:0}function Bs(t,e){return So(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function vO(t,e){return So(t)===2?t.get(e):t[e]}function VT(t,e,n){var r=So(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function zT(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function ov(t){return TO&&t instanceof Map}function av(t){return CO&&t instanceof Set}function Ei(t){return t.o||t.t}function uv(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=HT(t);delete e[we];for(var n=Hs(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function lv(t,e){return e===void 0&&(e=!1),cv(t)||Zr(t)||!or(t)||(So(t)>1&&(t.set=t.add=t.clear=t.delete=yO),Object.freeze(t),e&&Gi(t,function(n,r){return lv(r,!0)},!0)),t}function yO(){pn(2)}function cv(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Dn(t){var e=om[t];return e||pn(18,t),e}function wO(t,e){om[t]||(om[t]=e)}function rm(){return Ja}function yd(t,e){e&&(Dn("Patches"),t.u=[],t.s=[],t.v=e)}function bc(t){im(t),t.p.forEach(_O),t.p=null}function im(t){t===Ja&&(Ja=t.l)}function g1(t){return Ja={p:[],l:Ja,h:t,m:!0,_:0}}function _O(t){var e=t[we];e.i===0||e.i===1?e.j():e.g=!0}function wd(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||Dn("ES5").S(e,t,r),r?(n[we].P&&(bc(e),pn(4)),or(t)&&(t=xc(e,t),e.l||Ac(e,t)),e.u&&Dn("Patches").M(n[we].t,t,e.u,e.s)):t=xc(e,n,[]),bc(e),e.u&&e.v(e.u,e.s),t!==BT?t:void 0}function xc(t,e,n){if(cv(e))return e;var r=e[we];if(!r)return Gi(e,function(a,u){return v1(t,r,e,a,u,n)},!0),e;if(r.A!==t)return e;if(!r.P)return Ac(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=uv(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),Gi(s,function(a,u){return v1(t,r,i,a,u,n,o)}),Ac(t,i,!1),n&&t.u&&Dn("Patches").N(r,n,t.u,t.s)}return r.o}function v1(t,e,n,r,i,s,o){if(Zr(i)){var a=xc(t,i,s&&e&&e.i!==3&&!Bs(e.R,r)?s.concat(r):void 0);if(VT(n,r,a),!Zr(a))return;t.m=!1}else o&&n.add(i);if(or(i)&&!cv(i)){if(!t.h.D&&t._<1)return;xc(t,i),e&&e.A.l||Ac(t,i)}}function Ac(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&lv(e,n)}function _d(t,e){var n=t[we];return(n?Ei(n):t)[e]}function y1(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function kr(t){t.P||(t.P=!0,t.l&&kr(t.l))}function Ed(t){t.o||(t.o=uv(t.t))}function sm(t,e,n){var r=ov(e)?Dn("MapSet").F(e,n):av(e)?Dn("MapSet").T(e,n):t.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:rm(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},u=a,l=Za;o&&(u=[a],l=ua);var c=Proxy.revocable(u,l),h=c.revoke,f=c.proxy;return a.k=f,a.j=h,f}(e,n):Dn("ES5").J(e,n);return(n?n.A:rm()).p.push(r),r}function EO(t){return Zr(t)||pn(22,t),function e(n){if(!or(n))return n;var r,i=n[we],s=So(n);if(i){if(!i.P&&(i.i<4||!Dn("ES5").K(i)))return i.t;i.I=!0,r=w1(n,s),i.I=!1}else r=w1(n,s);return Gi(r,function(o,a){i&&vO(i.t,o)===a||VT(r,o,e(a))}),s===3?new Set(r):r}(t)}function w1(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return uv(t)}function SO(){function t(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var u=this[we];return Za.get(u,s)},set:function(u){var l=this[we];Za.set(l,s,u)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][we];if(!a.P)switch(a.i){case 5:r(a)&&kr(a);break;case 4:n(a)&&kr(a)}}}function n(s){for(var o=s.t,a=s.k,u=Hs(a),l=u.length-1;l>=0;l--){var c=u[l];if(c!==we){var h=o[c];if(h===void 0&&!Bs(o,c))return!0;var f=a[c],p=f&&f[we];if(p?p.t!==h:!zT(f,h))return!0}}var g=!!o[we];return u.length!==Hs(o).length+(g?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var u=0;u<o.length;u++)if(!o.hasOwnProperty(u))return!0;return!1}var i={};wO("ES5",{J:function(s,o){var a=Array.isArray(s),u=function(c,h){if(c){for(var f=Array(h.length),p=0;p<h.length;p++)Object.defineProperty(f,""+p,t(p,!0));return f}var g=HT(h);delete g[we];for(var v=Hs(g),w=0;w<v.length;w++){var m=v[w];g[m]=t(m,c||!!g[m].enumerable)}return Object.create(Object.getPrototypeOf(h),g)}(a,s),l={i:a?5:4,A:o?o.A:rm(),P:!1,I:!1,R:{},l:o,t:s,k:u,o:null,g:!1,C:!1};return Object.defineProperty(u,we,{value:l,writable:!0}),u},S:function(s,o,a){a?Zr(o)&&o[we].A===s&&e(s.p):(s.u&&function u(l){if(l&&typeof l=="object"){var c=l[we];if(c){var h=c.t,f=c.k,p=c.R,g=c.i;if(g===4)Gi(f,function(y){y!==we&&(h[y]!==void 0||Bs(h,y)?p[y]||u(f[y]):(p[y]=!0,kr(c)))}),Gi(h,function(y){f[y]!==void 0||Bs(f,y)||(p[y]=!1,kr(c))});else if(g===5){if(r(c)&&(kr(c),p.length=!0),f.length<h.length)for(var v=f.length;v<h.length;v++)p[v]=!1;else for(var w=h.length;w<f.length;w++)p[w]=!0;for(var m=Math.min(f.length,h.length),d=0;d<m;d++)f.hasOwnProperty(d)||(p[d]=!0),p[d]===void 0&&u(f[d])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var _1,Ja,hv=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",TO=typeof Map<"u",CO=typeof Set<"u",E1=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",BT=hv?Symbol.for("immer-nothing"):((_1={})["immer-nothing"]=!0,_1),S1=hv?Symbol.for("immer-draftable"):"__$immer_draftable",we=hv?Symbol.for("immer-state"):"__$immer_state",IO=""+Object.prototype.constructor,Hs=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,HT=Object.getOwnPropertyDescriptors||function(t){var e={};return Hs(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},om={},Za={get:function(t,e){if(e===we)return t;var n=Ei(t);if(!Bs(n,e))return function(i,s,o){var a,u=y1(s,o);return u?"value"in u?u.value:(a=u.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!or(r)?r:r===_d(t.t,e)?(Ed(t),t.o[e]=sm(t.A.h,r,t)):r},has:function(t,e){return e in Ei(t)},ownKeys:function(t){return Reflect.ownKeys(Ei(t))},set:function(t,e,n){var r=y1(Ei(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=_d(Ei(t),e),s=i==null?void 0:i[we];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(zT(n,i)&&(n!==void 0||Bs(t.t,e)))return!0;Ed(t),kr(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return _d(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Ed(t),kr(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Ei(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){pn(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){pn(12)}},ua={};Gi(Za,function(t,e){ua[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),ua.deleteProperty=function(t,e){return ua.set.call(this,t,e,void 0)},ua.set=function(t,e,n){return Za.set.call(this,t[0],e,n,t[0])};var $O=function(){function t(n){var r=this;this.O=E1,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var u=r;return function(v){var w=this;v===void 0&&(v=a);for(var m=arguments.length,d=Array(m>1?m-1:0),y=1;y<m;y++)d[y-1]=arguments[y];return u.produce(v,function(S){var I;return(I=s).call.apply(I,[w,S].concat(d))})}}var l;if(typeof s!="function"&&pn(6),o!==void 0&&typeof o!="function"&&pn(7),or(i)){var c=g1(r),h=sm(r,i,void 0),f=!0;try{l=s(h),f=!1}finally{f?bc(c):im(c)}return typeof Promise<"u"&&l instanceof Promise?l.then(function(v){return yd(c,o),wd(v,c)},function(v){throw bc(c),v}):(yd(c,o),wd(l,c))}if(!i||typeof i!="object"){if((l=s(i))===void 0&&(l=i),l===BT&&(l=void 0),r.D&&lv(l,!0),o){var p=[],g=[];Dn("Patches").M(i,l,p,g),o(p,g)}return l}pn(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(l){for(var c=arguments.length,h=Array(c>1?c-1:0),f=1;f<c;f++)h[f-1]=arguments[f];return r.produceWithPatches(l,function(p){return i.apply(void 0,[p].concat(h))})};var o,a,u=r.produce(i,s,function(l,c){o=l,a=c});return typeof Promise<"u"&&u instanceof Promise?u.then(function(l){return[l,o,a]}):[u,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){or(n)||pn(8),Zr(n)&&(n=EO(n));var r=g1(this),i=sm(this,n,void 0);return i[we].C=!0,im(r),i},e.finishDraft=function(n,r){var i=n&&n[we],s=i.A;return yd(s,r),wd(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!E1&&pn(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Dn("Patches").$;return Zr(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),Ft=new $O,kO=Ft.produce;Ft.produceWithPatches.bind(Ft);Ft.setAutoFreeze.bind(Ft);Ft.setUseProxies.bind(Ft);Ft.applyPatches.bind(Ft);Ft.createDraft.bind(Ft);Ft.finishDraft.bind(Ft);const WT=kO;function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}function bO(t,e){if(eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xO(t){var e=bO(t,"string");return eu(e)=="symbol"?e:e+""}function AO(t,e,n){return e=xO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T1(Object(n),!0).forEach(function(r){AO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var I1=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Sd=function(){return Math.random().toString(36).substring(7).split("").join(".")},Oc={INIT:"@@redux/INIT"+Sd(),REPLACE:"@@redux/REPLACE"+Sd(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Sd()}};function OO(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function GT(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(rt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(rt(1));return n(GT)(t,e)}if(typeof t!="function")throw new Error(rt(2));var i=t,s=e,o=[],a=o,u=!1;function l(){a===o&&(a=o.slice())}function c(){if(u)throw new Error(rt(3));return s}function h(v){if(typeof v!="function")throw new Error(rt(4));if(u)throw new Error(rt(5));var w=!0;return l(),a.push(v),function(){if(w){if(u)throw new Error(rt(6));w=!1,l();var d=a.indexOf(v);a.splice(d,1),o=null}}}function f(v){if(!OO(v))throw new Error(rt(7));if(typeof v.type>"u")throw new Error(rt(8));if(u)throw new Error(rt(9));try{u=!0,s=i(s,v)}finally{u=!1}for(var w=o=a,m=0;m<w.length;m++){var d=w[m];d()}return v}function p(v){if(typeof v!="function")throw new Error(rt(10));i=v,f({type:Oc.REPLACE})}function g(){var v,w=h;return v={subscribe:function(d){if(typeof d!="object"||d===null)throw new Error(rt(11));function y(){d.next&&d.next(c())}y();var S=w(y);return{unsubscribe:S}}},v[I1]=function(){return this},v}return f({type:Oc.INIT}),r={dispatch:f,subscribe:h,getState:c,replaceReducer:p},r[I1]=g,r}function RO(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Oc.INIT});if(typeof r>"u")throw new Error(rt(12));if(typeof n(void 0,{type:Oc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(rt(13))})}function PO(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{RO(n)}catch(a){o=a}return function(u,l){if(u===void 0&&(u={}),o)throw o;for(var c=!1,h={},f=0;f<s.length;f++){var p=s[f],g=n[p],v=u[p],w=g(v,l);if(typeof w>"u")throw l&&l.type,new Error(rt(14));h[p]=w,c=c||w!==v}return c=c||s.length!==Object.keys(u).length,c?h:u}}function Rc(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function NO(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(rt(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(u){return u(o)});return s=Rc.apply(void 0,a)(i.dispatch),C1(C1({},i),{},{dispatch:s})}}}function KT(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var am=KT();am.withExtraArgument=KT;var qT=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),DO=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},io=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},LO=Object.defineProperty,MO=Object.defineProperties,FO=Object.getOwnPropertyDescriptors,$1=Object.getOwnPropertySymbols,jO=Object.prototype.hasOwnProperty,UO=Object.prototype.propertyIsEnumerable,k1=function(t,e,n){return e in t?LO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Br=function(t,e){for(var n in e||(e={}))jO.call(e,n)&&k1(t,n,e[n]);if($1)for(var r=0,i=$1(e);r<i.length;r++){var n=i[r];UO.call(e,n)&&k1(t,n,e[n])}return t},Td=function(t,e){return MO(t,FO(e))},VO=function(t,e,n){return new Promise(function(r,i){var s=function(u){try{a(n.next(u))}catch(l){i(l)}},o=function(u){try{a(n.throw(u))}catch(l){i(l)}},a=function(u){return u.done?r(u.value):Promise.resolve(u.value).then(s,o)};a((n=n.apply(t,e)).next())})},zO=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Rc:Rc.apply(null,arguments)};function BO(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}function Hr(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Br(Br({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}var HO=function(t){qT(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,io([void 0],n[0].concat(this)))):new(e.bind.apply(e,io([void 0],n.concat(this))))},e}(Array),WO=function(t){qT(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,io([void 0],n[0].concat(this)))):new(e.bind.apply(e,io([void 0],n.concat(this))))},e}(Array);function um(t){return or(t)?WT(t,function(){}):t}function GO(t){return typeof t=="boolean"}function KO(){return function(e){return qO(e)}}function qO(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck,t.actionCreatorCheck;var r=new HO;return n&&(GO(n)?r.push(am):r.push(am.withExtraArgument(n.extraArgument))),r}var QO=!0;function YO(t){var e=KO(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,a=n.devTools,u=a===void 0?!0:a,l=n.preloadedState,c=l===void 0?void 0:l,h=n.enhancers,f=h===void 0?void 0:h,p;if(typeof i=="function")p=i;else if(BO(i))p=PO(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var g=o;typeof g=="function"&&(g=g(e));var v=NO.apply(void 0,g),w=Rc;u&&(w=zO(Br({trace:!QO},typeof u=="object"&&u)));var m=new WO(v),d=m;Array.isArray(f)?d=io([v],f):typeof f=="function"&&(d=f(m));var y=w.apply(void 0,d);return GT(p,c,y)}function QT(t){var e={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function XO(t){return typeof t=="function"}function JO(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?QT(e):[e,n,r],s=i[0],o=i[1],a=i[2],u;if(XO(t))u=function(){return um(t())};else{var l=um(t);u=function(){return l}}function c(h,f){h===void 0&&(h=u());var p=io([s[f.type]],o.filter(function(g){var v=g.matcher;return v(f)}).map(function(g){var v=g.reducer;return v}));return p.filter(function(g){return!!g}).length===0&&(p=[a]),p.reduce(function(g,v){if(v)if(Zr(g)){var w=g,m=v(w,f);return m===void 0?g:m}else{if(or(g))return WT(g,function(d){return v(d,f)});var m=v(g,f);if(m===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}return g},h)}return c.getInitialState=u,c}function ZO(t,e){return t+"/"+e}function rs(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:um(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var h=r[c],f=ZO(e,c),p,g;"reducer"in h?(p=h.reducer,g=h.prepare):p=h,s[c]=p,o[f]=p,a[c]=g?Hr(f,g):Hr(f)});function u(){var c=typeof t.extraReducers=="function"?QT(t.extraReducers):[t.extraReducers],h=c[0],f=h===void 0?{}:h,p=c[1],g=p===void 0?[]:p,v=c[2],w=v===void 0?void 0:v,m=Br(Br({},f),o);return JO(n,function(d){for(var y in m)d.addCase(y,m[y]);for(var S=0,I=g;S<I.length;S++){var C=I[S];d.addMatcher(C.matcher,C.reducer)}w&&d.addDefaultCase(w)})}var l;return{name:e,reducer:function(c,h){return l||(l=u()),l(c,h)},actions:a,caseReducers:s,getInitialState:function(){return l||(l=u()),l.getInitialState()}}}var eR="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",tR=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=eR[Math.random()*64|0];return e},nR=["name","message","stack","code"],Cd=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),b1=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),rR=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=nR;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}},bn=function(){function t(e,n,r){var i=Hr(e+"/fulfilled",function(l,c,h,f){return{payload:l,meta:Td(Br({},f||{}),{arg:h,requestId:c,requestStatus:"fulfilled"})}}),s=Hr(e+"/pending",function(l,c,h){return{payload:void 0,meta:Td(Br({},h||{}),{arg:c,requestId:l,requestStatus:"pending"})}}),o=Hr(e+"/rejected",function(l,c,h,f,p){return{payload:f,error:(r&&r.serializeError||rR)(l||"Rejected"),meta:Td(Br({},p||{}),{arg:h,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function l(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return l.prototype.abort=function(){},l}();function u(l){return function(c,h,f){var p=r!=null&&r.idGenerator?r.idGenerator(l):tR(),g=new a,v;function w(d){v=d,g.abort()}var m=function(){return VO(this,null,function(){var d,y,S,I,C,$,R;return DO(this,function(q){switch(q.label){case 0:return q.trys.push([0,4,,5]),I=(d=r==null?void 0:r.condition)==null?void 0:d.call(r,l,{getState:h,extra:f}),sR(I)?[4,I]:[3,2];case 1:I=q.sent(),q.label=2;case 2:if(I===!1||g.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return C=new Promise(function(F,Oe){return g.signal.addEventListener("abort",function(){return Oe({name:"AbortError",message:v||"Aborted"})})}),c(s(p,l,(y=r==null?void 0:r.getPendingMeta)==null?void 0:y.call(r,{requestId:p,arg:l},{getState:h,extra:f}))),[4,Promise.race([C,Promise.resolve(n(l,{dispatch:c,getState:h,extra:f,requestId:p,signal:g.signal,abort:w,rejectWithValue:function(F,Oe){return new Cd(F,Oe)},fulfillWithValue:function(F,Oe){return new b1(F,Oe)}})).then(function(F){if(F instanceof Cd)throw F;return F instanceof b1?i(F.payload,p,l,F.meta):i(F,p,l)})])];case 3:return S=q.sent(),[3,5];case 4:return $=q.sent(),S=$ instanceof Cd?o(null,p,l,$.payload,$.meta):o($,p,l),[3,5];case 5:return R=r&&!r.dispatchConditionRejection&&o.match(S)&&S.meta.condition,R||c(S),[2,S]}})})}();return Object.assign(m,{abort:w,requestId:p,arg:l,unwrap:function(){return m.then(iR)}})}}return Object.assign(u,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t}();function iR(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function sR(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var fv="listenerMiddleware";Hr(fv+"/add");Hr(fv+"/removeAll");Hr(fv+"/remove");var x1;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);SO();const oR={isOpened:!1,inView:!1},YT=rs({name:"navbar",initialState:oR,reducers:{openNavbar(t,e){t.isOpened=e.payload},setInView(t,e){t.inView=e.payload}}});var XT={exports:{}},JT={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var so=E;function aR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var uR=typeof Object.is=="function"?Object.is:aR,lR=so.useState,cR=so.useEffect,hR=so.useLayoutEffect,fR=so.useDebugValue;function dR(t,e){var n=e(),r=lR({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return hR(function(){i.value=n,i.getSnapshot=e,Id(i)&&s({inst:i})},[t,n,e]),cR(function(){return Id(i)&&s({inst:i}),t(function(){Id(i)&&s({inst:i})})},[t]),fR(n),n}function Id(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!uR(t,n)}catch{return!0}}function pR(t,e){return e()}var mR=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?pR:dR;JT.useSyncExternalStore=so.useSyncExternalStore!==void 0?so.useSyncExternalStore:mR;XT.exports=JT;var gR=XT.exports,ZT={exports:{}},eC={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bh=E,vR=gR;function yR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wR=typeof Object.is=="function"?Object.is:yR,_R=vR.useSyncExternalStore,ER=bh.useRef,SR=bh.useEffect,TR=bh.useMemo,CR=bh.useDebugValue;eC.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=ER(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=TR(function(){function u(p){if(!l){if(l=!0,c=p,p=r(p),i!==void 0&&o.hasValue){var g=o.value;if(i(g,p))return h=g}return h=p}if(g=h,wR(c,p))return g;var v=r(p);return i!==void 0&&i(g,v)?g:(c=p,h=v)}var l=!1,c,h,f=n===void 0?null:n;return[function(){return u(e())},f===null?void 0:function(){return u(f())}]},[e,n,r,i]);var a=_R(t,s[0],s[1]);return SR(function(){o.hasValue=!0,o.value=a},[a]),CR(a),a};ZT.exports=eC;var IR=ZT.exports;function $R(t){t()}let tC=$R;const kR=t=>tC=t,bR=()=>tC,A1=Symbol.for("react-redux-context"),O1=typeof globalThis<"u"?globalThis:{};function xR(){var t;if(!E.createContext)return{};const e=(t=O1[A1])!=null?t:O1[A1]=new Map;let n=e.get(E.createContext);return n||(n=E.createContext(null),e.set(E.createContext,n)),n}const ei=xR();function dv(t=ei){return function(){return E.useContext(t)}}const nC=dv(),AR=()=>{throw new Error("uSES not initialized!")};let rC=AR;const OR=t=>{rC=t},RR=(t,e)=>t===e;function PR(t=ei){const e=t===ei?nC:dv(t);return function(r,i={}){const{equalityFn:s=RR,stabilityCheck:o=void 0,noopCheck:a=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:u,subscription:l,getServerState:c,stabilityCheck:h,noopCheck:f}=e();E.useRef(!0);const p=E.useCallback({[r.name](v){return r(v)}}[r.name],[r,h,o]),g=rC(l.addNestedSub,u.getState,c||u.getState,p,s);return E.useDebugValue(g),g}}const iC=PR();var sC={exports:{}},oe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var We=typeof Symbol=="function"&&Symbol.for,pv=We?Symbol.for("react.element"):60103,mv=We?Symbol.for("react.portal"):60106,xh=We?Symbol.for("react.fragment"):60107,Ah=We?Symbol.for("react.strict_mode"):60108,Oh=We?Symbol.for("react.profiler"):60114,Rh=We?Symbol.for("react.provider"):60109,Ph=We?Symbol.for("react.context"):60110,gv=We?Symbol.for("react.async_mode"):60111,Nh=We?Symbol.for("react.concurrent_mode"):60111,Dh=We?Symbol.for("react.forward_ref"):60112,Lh=We?Symbol.for("react.suspense"):60113,NR=We?Symbol.for("react.suspense_list"):60120,Mh=We?Symbol.for("react.memo"):60115,Fh=We?Symbol.for("react.lazy"):60116,DR=We?Symbol.for("react.block"):60121,LR=We?Symbol.for("react.fundamental"):60117,MR=We?Symbol.for("react.responder"):60118,FR=We?Symbol.for("react.scope"):60119;function zt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case pv:switch(t=t.type,t){case gv:case Nh:case xh:case Oh:case Ah:case Lh:return t;default:switch(t=t&&t.$$typeof,t){case Ph:case Dh:case Fh:case Mh:case Rh:return t;default:return e}}case mv:return e}}}function oC(t){return zt(t)===Nh}oe.AsyncMode=gv;oe.ConcurrentMode=Nh;oe.ContextConsumer=Ph;oe.ContextProvider=Rh;oe.Element=pv;oe.ForwardRef=Dh;oe.Fragment=xh;oe.Lazy=Fh;oe.Memo=Mh;oe.Portal=mv;oe.Profiler=Oh;oe.StrictMode=Ah;oe.Suspense=Lh;oe.isAsyncMode=function(t){return oC(t)||zt(t)===gv};oe.isConcurrentMode=oC;oe.isContextConsumer=function(t){return zt(t)===Ph};oe.isContextProvider=function(t){return zt(t)===Rh};oe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===pv};oe.isForwardRef=function(t){return zt(t)===Dh};oe.isFragment=function(t){return zt(t)===xh};oe.isLazy=function(t){return zt(t)===Fh};oe.isMemo=function(t){return zt(t)===Mh};oe.isPortal=function(t){return zt(t)===mv};oe.isProfiler=function(t){return zt(t)===Oh};oe.isStrictMode=function(t){return zt(t)===Ah};oe.isSuspense=function(t){return zt(t)===Lh};oe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===xh||t===Nh||t===Oh||t===Ah||t===Lh||t===NR||typeof t=="object"&&t!==null&&(t.$$typeof===Fh||t.$$typeof===Mh||t.$$typeof===Rh||t.$$typeof===Ph||t.$$typeof===Dh||t.$$typeof===LR||t.$$typeof===MR||t.$$typeof===FR||t.$$typeof===DR)};oe.typeOf=zt;sC.exports=oe;var jR=sC.exports,aC=jR,UR={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},VR={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},uC={};uC[aC.ForwardRef]=UR;uC[aC.Memo]=VR;var ae={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv=Symbol.for("react.element"),yv=Symbol.for("react.portal"),jh=Symbol.for("react.fragment"),Uh=Symbol.for("react.strict_mode"),Vh=Symbol.for("react.profiler"),zh=Symbol.for("react.provider"),Bh=Symbol.for("react.context"),zR=Symbol.for("react.server_context"),Hh=Symbol.for("react.forward_ref"),Wh=Symbol.for("react.suspense"),Gh=Symbol.for("react.suspense_list"),Kh=Symbol.for("react.memo"),qh=Symbol.for("react.lazy"),BR=Symbol.for("react.offscreen"),lC;lC=Symbol.for("react.module.reference");function rn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case vv:switch(t=t.type,t){case jh:case Vh:case Uh:case Wh:case Gh:return t;default:switch(t=t&&t.$$typeof,t){case zR:case Bh:case Hh:case qh:case Kh:case zh:return t;default:return e}}case yv:return e}}}ae.ContextConsumer=Bh;ae.ContextProvider=zh;ae.Element=vv;ae.ForwardRef=Hh;ae.Fragment=jh;ae.Lazy=qh;ae.Memo=Kh;ae.Portal=yv;ae.Profiler=Vh;ae.StrictMode=Uh;ae.Suspense=Wh;ae.SuspenseList=Gh;ae.isAsyncMode=function(){return!1};ae.isConcurrentMode=function(){return!1};ae.isContextConsumer=function(t){return rn(t)===Bh};ae.isContextProvider=function(t){return rn(t)===zh};ae.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===vv};ae.isForwardRef=function(t){return rn(t)===Hh};ae.isFragment=function(t){return rn(t)===jh};ae.isLazy=function(t){return rn(t)===qh};ae.isMemo=function(t){return rn(t)===Kh};ae.isPortal=function(t){return rn(t)===yv};ae.isProfiler=function(t){return rn(t)===Vh};ae.isStrictMode=function(t){return rn(t)===Uh};ae.isSuspense=function(t){return rn(t)===Wh};ae.isSuspenseList=function(t){return rn(t)===Gh};ae.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===jh||t===Vh||t===Uh||t===Wh||t===Gh||t===BR||typeof t=="object"&&t!==null&&(t.$$typeof===qh||t.$$typeof===Kh||t.$$typeof===zh||t.$$typeof===Bh||t.$$typeof===Hh||t.$$typeof===lC||t.getModuleId!==void 0)};ae.typeOf=rn;function HR(){const t=bR();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const R1={notify(){},get:()=>[]};function WR(t,e){let n,r=R1,i=0,s=!1;function o(v){c();const w=r.subscribe(v);let m=!1;return()=>{m||(m=!0,w(),h())}}function a(){r.notify()}function u(){g.onStateChange&&g.onStateChange()}function l(){return s}function c(){i++,n||(n=t.subscribe(u),r=HR())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=R1)}function f(){s||(s=!0,c())}function p(){s&&(s=!1,h())}const g={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:u,isSubscribed:l,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>r};return g}const GR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",KR=GR?E.useLayoutEffect:E.useEffect;function qR({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",noopCheck:s="once"}){const o=E.useMemo(()=>{const l=WR(t);return{store:t,subscription:l,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:s}},[t,r,i,s]),a=E.useMemo(()=>t.getState(),[t]);KR(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==t.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,a]);const u=e||ei;return E.createElement(u.Provider,{value:o},n)}function cC(t=ei){const e=t===ei?nC:dv(t);return function(){const{store:r}=e();return r}}const QR=cC();function YR(t=ei){const e=t===ei?QR:cC(t);return function(){return e().dispatch}}const XR=YR();OR(IR.useSyncExternalStoreWithSelector);kR(UT.unstable_batchedUpdates);const is=XR,To=iC,hC=()=>{const t=is(),{openNavbar:e,setInView:n}=YT.actions;return{openNavbar:r=>t(e(r)),setInView:r=>t(n(r))}},JR=()=>To(t=>t.navbar);/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tu(){return tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tu.apply(this,arguments)}var Pr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Pr||(Pr={}));const P1="popstate";function ZR(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return lm("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Pc(i)}return tP(e,n,null,t)}function Ae(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eP(){return Math.random().toString(36).substr(2,8)}function N1(t,e){return{usr:t.state,key:t.key,idx:e}}function lm(t,e,n,r){return n===void 0&&(n=null),tu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Co(e):e,{state:n,key:e&&e.key||r||eP()})}function Pc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Co(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function tP(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Pr.Pop,u=null,l=c();l==null&&(l=0,o.replaceState(tu({},o.state,{idx:l}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=Pr.Pop;let w=c(),m=w==null?null:w-l;l=w,u&&u({action:a,location:v.location,delta:m})}function f(w,m){a=Pr.Push;let d=lm(v.location,w,m);l=c()+1;let y=N1(d,l),S=v.createHref(d);try{o.pushState(y,"",S)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(S)}s&&u&&u({action:a,location:v.location,delta:1})}function p(w,m){a=Pr.Replace;let d=lm(v.location,w,m);l=c();let y=N1(d,l),S=v.createHref(d);o.replaceState(y,"",S),s&&u&&u({action:a,location:v.location,delta:0})}function g(w){let m=i.location.origin!=="null"?i.location.origin:i.location.href,d=typeof w=="string"?w:Pc(w);return d=d.replace(/ $/,"%20"),Ae(m,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,m)}let v={get action(){return a},get location(){return t(i,o)},listen(w){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(P1,h),u=w,()=>{i.removeEventListener(P1,h),u=null}},createHref(w){return e(i,w)},createURL:g,encodeLocation(w){let m=g(w);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(w){return o.go(w)}};return v}var D1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(D1||(D1={}));function nP(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Co(e):e,i=wv(r.pathname||"/",n);if(i==null)return null;let s=dC(t);rP(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let u=mP(i);o=fP(s[a],u)}return o}function dC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Ae(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=Wr([r,u.relativePath]),c=n.concat(u);s.children&&s.children.length>0&&(Ae(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),dC(s.children,e,c,l)),!(s.path==null&&!s.index)&&e.push({path:l,score:cP(l,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of pC(s.path))i(s,o,u)}),e}function pC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=pC(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function rP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const iP=/^:[\w-]+$/,sP=3,oP=2,aP=1,uP=10,lP=-2,L1=t=>t==="*";function cP(t,e){let n=t.split("/"),r=n.length;return n.some(L1)&&(r+=lP),e&&(r+=oP),n.filter(i=>!L1(i)).reduce((i,s)=>i+(iP.test(s)?sP:s===""?aP:uP),r)}function hP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function fP(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,l=i==="/"?e:e.slice(i.length)||"/",c=dP({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);let h=a.route;s.push({params:r,pathname:Wr([i,c.pathname]),pathnameBase:wP(Wr([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=Wr([i,c.pathnameBase]))}return s}function dP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=pP(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,c,h)=>{let{paramName:f,isOptional:p}=c;if(f==="*"){let v=a[h]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const g=a[h];return p&&!g?l[f]=void 0:l[f]=(g||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:o,pattern:t}}function pP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),fC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function mP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function wv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function gP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Co(t):t;return{pathname:n?n.startsWith("/")?n:vP(n,e):e,search:_P(r),hash:EP(i)}}function vP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function $d(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _v(t,e){let n=yP(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ev(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Co(t):(i=tu({},t),Ae(!i.pathname||!i.pathname.includes("?"),$d("?","pathname","search",i)),Ae(!i.pathname||!i.pathname.includes("#"),$d("#","pathname","hash",i)),Ae(!i.search||!i.search.includes("#"),$d("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let u=gP(i,a),l=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const Wr=t=>t.join("/").replace(/\/\/+/g,"/"),wP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_P=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,EP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function SP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const mC=["post","put","patch","delete"];new Set(mC);const TP=["get",...mC];new Set(TP);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nu(){return nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nu.apply(this,arguments)}const Sv=E.createContext(null),CP=E.createContext(null),ui=E.createContext(null),Qh=E.createContext(null),pr=E.createContext({outlet:null,matches:[],isDataRoute:!1}),gC=E.createContext(null);function IP(t,e){let{relative:n}=e===void 0?{}:e;Io()||Ae(!1);let{basename:r,navigator:i}=E.useContext(ui),{hash:s,pathname:o,search:a}=yC(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Wr([r,o])),i.createHref({pathname:u,search:a,hash:s})}function Io(){return E.useContext(Qh)!=null}function $o(){return Io()||Ae(!1),E.useContext(Qh).location}function vC(t){E.useContext(ui).static||E.useLayoutEffect(t)}function Ou(){let{isDataRoute:t}=E.useContext(pr);return t?UP():$P()}function $P(){Io()||Ae(!1);let t=E.useContext(Sv),{basename:e,future:n,navigator:r}=E.useContext(ui),{matches:i}=E.useContext(pr),{pathname:s}=$o(),o=JSON.stringify(_v(i,n.v7_relativeSplatPath)),a=E.useRef(!1);return vC(()=>{a.current=!0}),E.useCallback(function(l,c){if(c===void 0&&(c={}),!a.current)return;if(typeof l=="number"){r.go(l);return}let h=Ev(l,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Wr([e,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[e,r,o,s,t])}const kP=E.createContext(null);function bP(t){let e=E.useContext(pr).outlet;return e&&E.createElement(kP.Provider,{value:t},e)}function yC(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=E.useContext(ui),{matches:i}=E.useContext(pr),{pathname:s}=$o(),o=JSON.stringify(_v(i,r.v7_relativeSplatPath));return E.useMemo(()=>Ev(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function xP(t,e){return AP(t,e)}function AP(t,e,n,r){Io()||Ae(!1);let{navigator:i}=E.useContext(ui),{matches:s}=E.useContext(pr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let l=$o(),c;if(e){var h;let w=typeof e=="string"?Co(e):e;u==="/"||(h=w.pathname)!=null&&h.startsWith(u)||Ae(!1),c=w}else c=l;let f=c.pathname||"/",p=f;if(u!=="/"){let w=u.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=nP(t,{pathname:p}),v=DP(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Wr([u,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:Wr([u,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return e&&v?E.createElement(Qh.Provider,{value:{location:nu({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Pr.Pop}},v):v}function OP(){let t=jP(),e=SP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,null)}const RP=E.createElement(OP,null);class PP extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?E.createElement(pr.Provider,{value:this.props.routeContext},E.createElement(gC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function NP(t){let{routeContext:e,match:n,children:r}=t,i=E.useContext(Sv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(pr.Provider,{value:e},r)}function DP(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);c>=0||Ae(!1),o=o.slice(0,Math.min(o.length,c+1))}let u=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let h=o[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=c),h.route.id){let{loaderData:f,errors:p}=n,g=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){u=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((c,h,f)=>{let p,g=!1,v=null,w=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||RP,u&&(l<0&&f===0?(g=!0,w=null):l===f&&(g=!0,w=h.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,f+1)),d=()=>{let y;return p?y=v:g?y=w:h.route.Component?y=E.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=c,E.createElement(NP,{match:h,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:y})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?E.createElement(PP,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:d(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):d()},null)}var wC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(wC||{}),Nc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Nc||{});function LP(t){let e=E.useContext(Sv);return e||Ae(!1),e}function MP(t){let e=E.useContext(CP);return e||Ae(!1),e}function FP(t){let e=E.useContext(pr);return e||Ae(!1),e}function _C(t){let e=FP(),n=e.matches[e.matches.length-1];return n.route.id||Ae(!1),n.route.id}function jP(){var t;let e=E.useContext(gC),n=MP(Nc.UseRouteError),r=_C(Nc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function UP(){let{router:t}=LP(wC.UseNavigateStable),e=_C(Nc.UseNavigateStable),n=E.useRef(!1);return vC(()=>{n.current=!0}),E.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,nu({fromRouteId:e},s)))},[t,e])}function EC(t){let{to:e,replace:n,state:r,relative:i}=t;Io()||Ae(!1);let{future:s,static:o}=E.useContext(ui),{matches:a}=E.useContext(pr),{pathname:u}=$o(),l=Ou(),c=Ev(e,_v(a,s.v7_relativeSplatPath),u,i==="path"),h=JSON.stringify(c);return E.useEffect(()=>l(JSON.parse(h),{replace:n,state:r,relative:i}),[l,h,i,n,r]),null}function SC(t){return bP(t.context)}function yt(t){Ae(!1)}function VP(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Pr.Pop,navigator:s,static:o=!1,future:a}=t;Io()&&Ae(!1);let u=e.replace(/^\/*/,"/"),l=E.useMemo(()=>({basename:u,navigator:s,static:o,future:nu({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=Co(r));let{pathname:c="/",search:h="",hash:f="",state:p=null,key:g="default"}=r,v=E.useMemo(()=>{let w=wv(c,u);return w==null?null:{location:{pathname:w,search:h,hash:f,state:p,key:g},navigationType:i}},[u,c,h,f,p,g,i]);return v==null?null:E.createElement(ui.Provider,{value:l},E.createElement(Qh.Provider,{children:n,value:v}))}function zP(t){let{children:e,location:n}=t;return xP(cm(e),n)}new Promise(()=>{});function cm(t,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let s=[...e,i];if(r.type===E.Fragment){n.push.apply(n,cm(r.props.children,s));return}r.type!==yt&&Ae(!1),!r.props.index||!r.props.children||Ae(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=cm(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hm(){return hm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hm.apply(this,arguments)}function BP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function HP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function WP(t,e){return t.button===0&&(!e||e==="_self")&&!HP(t)}const GP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],KP="6";try{window.__reactRouterVersion=KP}catch{}const qP="startTransition",M1=ex[qP];function QP(t){let{basename:e,children:n,future:r,window:i}=t,s=E.useRef();s.current==null&&(s.current=ZR({window:i,v5Compat:!0}));let o=s.current,[a,u]=E.useState({action:o.action,location:o.location}),{v7_startTransition:l}=r||{},c=E.useCallback(h=>{l&&M1?M1(()=>u(h)):u(h)},[u,l]);return E.useLayoutEffect(()=>o.listen(c),[o,c]),E.createElement(VP,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const YP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mn=E.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:l,preventScrollReset:c,unstable_viewTransition:h}=e,f=BP(e,GP),{basename:p}=E.useContext(ui),g,v=!1;if(typeof l=="string"&&XP.test(l)&&(g=l,YP))try{let y=new URL(window.location.href),S=l.startsWith("//")?new URL(y.protocol+l):new URL(l),I=wv(S.pathname,p);S.origin===y.origin&&I!=null?l=I+S.search+S.hash:v=!0}catch{}let w=IP(l,{relative:i}),m=JP(l,{replace:o,state:a,target:u,preventScrollReset:c,relative:i,unstable_viewTransition:h});function d(y){r&&r(y),y.defaultPrevented||m(y)}return E.createElement("a",hm({},f,{href:g||w,onClick:v||s?r:d,ref:n,target:u}))});var F1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(F1||(F1={}));var j1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(j1||(j1={}));function JP(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,u=Ou(),l=$o(),c=yC(t,{relative:o});return E.useCallback(h=>{if(WP(h,n)){h.preventDefault();let f=r!==void 0?r:Pc(l)===Pc(c);u(t,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[l,u,c,r,i,n,t,s,o,a])}var $e=(t=>(t.WAITING="Waiting for request",t.LOADING="Loading data",t.SUCCESS="Data recieved",t.ERROR="Fetching data error",t))($e||{}),U1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ZP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},CC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|l>>6,p=l&63;u||(p=64,o||(f=64)),r.push(n[c],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(TC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ZP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||h==null)throw new eN;const f=s<<2|a>>4;if(r.push(f),l!==64){const p=a<<4&240|l>>2;if(r.push(p),h!==64){const g=l<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class eN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tN=function(t){const e=TC(t);return CC.encodeByteArray(e,!0)},Dc=function(t){return tN(t).replace(/\./g,"")},IC=function(t){try{return CC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=()=>nN().__FIREBASE_DEFAULTS__,iN=()=>{if(typeof process>"u"||typeof U1>"u")return;const t=U1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},sN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&IC(t[1]);return e&&JSON.parse(e)},Tv=()=>{try{return rN()||iN()||sN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$C=t=>{var e,n;return(n=(e=Tv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},oN=t=>{const e=$C(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},kC=()=>{var t;return(t=Tv())===null||t===void 0?void 0:t.config},bC=t=>{var e;return(e=Tv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Dc(JSON.stringify(n)),Dc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pt())}function cN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fN(){const t=pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dN(){try{return typeof indexedDB=="object"}catch{return!1}}function pN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN="FirebaseError";class mr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=mN,Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ru.prototype.create)}}class Ru{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?gN(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new mr(i,a,r)}}function gN(t,e){return t.replace(vN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const vN=/\{\$([^}]+)}/g;function yN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Lc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(V1(s)&&V1(o)){if(!Lc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function V1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function la(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ca(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function wN(t,e){const n=new _N(t,e);return n.subscribe.bind(n)}class _N{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");EN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=kd),i.error===void 0&&(i.error=kd),i.complete===void 0&&(i.complete=kd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function kd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t){return t&&t._delegate?t._delegate:t}class Ki{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new aN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CN(e))try{this.getOrInitializeService({instanceIdentifier:Si})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Si){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Si){return this.instances.has(e)}getOptions(e=Si){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Si){return this.component?this.component.multipleInstances?e:Si:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TN(t){return t===Si?void 0:t}function CN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new SN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(te||(te={}));const $N={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},kN=te.INFO,bN={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},xN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=bN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cv{constructor(e){this.name=e,this._logLevel=kN,this._logHandler=xN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$N[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...e),this._logHandler(this,te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...e),this._logHandler(this,te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,te.INFO,...e),this._logHandler(this,te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,te.WARN,...e),this._logHandler(this,te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...e),this._logHandler(this,te.ERROR,...e)}}const AN=(t,e)=>e.some(n=>t instanceof n);let z1,B1;function ON(){return z1||(z1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RN(){return B1||(B1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xC=new WeakMap,fm=new WeakMap,AC=new WeakMap,bd=new WeakMap,Iv=new WeakMap;function PN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Gr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&xC.set(n,t)}).catch(()=>{}),Iv.set(e,t),e}function NN(t){if(fm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});fm.set(t,e)}let dm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||AC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DN(t){dm=t(dm)}function LN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(xd(this),e,...n);return AC.set(r,e.sort?e.sort():[e]),Gr(r)}:RN().includes(t)?function(...e){return t.apply(xd(this),e),Gr(xC.get(this))}:function(...e){return Gr(t.apply(xd(this),e))}}function MN(t){return typeof t=="function"?LN(t):(t instanceof IDBTransaction&&NN(t),AN(t,ON())?new Proxy(t,dm):t)}function Gr(t){if(t instanceof IDBRequest)return PN(t);if(bd.has(t))return bd.get(t);const e=MN(t);return e!==t&&(bd.set(t,e),Iv.set(e,t)),e}const xd=t=>Iv.get(t);function FN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Gr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Gr(o.result),u.oldVersion,u.newVersion,Gr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const jN=["get","getKey","getAll","getAllKeys","count"],UN=["put","add","delete","clear"],Ad=new Map;function H1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ad.get(e))return Ad.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=UN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||jN.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return Ad.set(e,s),s}DN(t=>({...t,get:(e,n,r)=>H1(e,n)||t.get(e,n,r),has:(e,n)=>!!H1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function zN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pm="@firebase/app",W1="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new Cv("@firebase/app"),BN="@firebase/app-compat",HN="@firebase/analytics-compat",WN="@firebase/analytics",GN="@firebase/app-check-compat",KN="@firebase/app-check",qN="@firebase/auth",QN="@firebase/auth-compat",YN="@firebase/database",XN="@firebase/database-compat",JN="@firebase/functions",ZN="@firebase/functions-compat",eD="@firebase/installations",tD="@firebase/installations-compat",nD="@firebase/messaging",rD="@firebase/messaging-compat",iD="@firebase/performance",sD="@firebase/performance-compat",oD="@firebase/remote-config",aD="@firebase/remote-config-compat",uD="@firebase/storage",lD="@firebase/storage-compat",cD="@firebase/firestore",hD="@firebase/firestore-compat",fD="firebase",dD="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="[DEFAULT]",pD={[pm]:"fire-core",[BN]:"fire-core-compat",[WN]:"fire-analytics",[HN]:"fire-analytics-compat",[KN]:"fire-app-check",[GN]:"fire-app-check-compat",[qN]:"fire-auth",[QN]:"fire-auth-compat",[YN]:"fire-rtdb",[XN]:"fire-rtdb-compat",[JN]:"fire-fn",[ZN]:"fire-fn-compat",[eD]:"fire-iid",[tD]:"fire-iid-compat",[nD]:"fire-fcm",[rD]:"fire-fcm-compat",[iD]:"fire-perf",[sD]:"fire-perf-compat",[oD]:"fire-rc",[aD]:"fire-rc-compat",[uD]:"fire-gcs",[lD]:"fire-gcs-compat",[cD]:"fire-fst",[hD]:"fire-fst-compat","fire-js":"fire-js",[fD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=new Map,gm=new Map;function mD(t,e){try{t.container.addComponent(e)}catch(n){qi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function oo(t){const e=t.name;if(gm.has(e))return qi.debug(`There were multiple attempts to register component ${e}.`),!1;gm.set(e,t);for(const n of Mc.values())mD(n,t);return!0}function $v(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Kr=new Ru("app","Firebase",gD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=dD;function OC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:mm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Kr.create("bad-app-name",{appName:String(i)});if(n||(n=kC()),!n)throw Kr.create("no-options");const s=Mc.get(i);if(s){if(Lc(n,s.options)&&Lc(r,s.config))return s;throw Kr.create("duplicate-app",{appName:i})}const o=new IN(i);for(const u of gm.values())o.addComponent(u);const a=new vD(n,r,o);return Mc.set(i,a),a}function RC(t=mm){const e=Mc.get(t);if(!e&&t===mm&&kC())return OC();if(!e)throw Kr.create("no-app",{appName:t});return e}function qr(t,e,n){var r;let i=(r=pD[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qi.warn(a.join(" "));return}oo(new Ki(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD="firebase-heartbeat-database",wD=1,ru="firebase-heartbeat-store";let Od=null;function PC(){return Od||(Od=FN(yD,wD,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ru)}}}).catch(t=>{throw Kr.create("idb-open",{originalErrorMessage:t.message})})),Od}async function _D(t){try{return await(await PC()).transaction(ru).objectStore(ru).get(NC(t))}catch(e){if(e instanceof mr)qi.warn(e.message);else{const n=Kr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qi.warn(n.message)}}}async function G1(t,e){try{const r=(await PC()).transaction(ru,"readwrite");await r.objectStore(ru).put(e,NC(t)),await r.done}catch(n){if(n instanceof mr)qi.warn(n.message);else{const r=Kr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qi.warn(r.message)}}}function NC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=1024,SD=30*24*60*60*1e3;class TD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ID(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=K1();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=SD}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=K1(),{heartbeatsToSend:n,unsentEntries:r}=CD(this._heartbeatsCache.heartbeats),i=Dc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function K1(){return new Date().toISOString().substring(0,10)}function CD(t,e=ED){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),q1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),q1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ID{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dN()?pN().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await _D(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return G1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return G1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function q1(t){return Dc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(t){oo(new Ki("platform-logger",e=>new VN(e),"PRIVATE")),oo(new Ki("heartbeat",e=>new TD(e),"PRIVATE")),qr(pm,W1,t),qr(pm,W1,"esm2017"),qr("fire-js","")}$D("");var kD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},A,kv=kv||{},z=kD||self;function Yh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Xh(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function bD(t){return Object.prototype.hasOwnProperty.call(t,Rd)&&t[Rd]||(t[Rd]=++xD)}var Rd="closure_uid_"+(1e9*Math.random()>>>0),xD=0;function AD(t,e,n){return t.call.apply(t.bind,arguments)}function OD(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ct(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ct=AD:ct=OD,ct.apply(null,arguments)}function Sl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ge(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function li(){this.s=this.s,this.o=this.o}var RD=0;li.prototype.s=!1;li.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),RD!=0)&&bD(this)};li.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const DC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function bv(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Q1(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Yh(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function ht(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ht.prototype.h=function(){this.defaultPrevented=!0};var PD=function(){if(!z.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{z.addEventListener("test",()=>{},e),z.removeEventListener("test",()=>{},e)}catch{}return t}();function iu(t){return/^[\s\xa0]*$/.test(t)}function Jh(){var t=z.navigator;return t&&(t=t.userAgent)?t:""}function An(t){return Jh().indexOf(t)!=-1}function xv(t){return xv[" "](t),t}xv[" "]=function(){};function ND(t,e){var n=kL;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var DD=An("Opera"),ao=An("Trident")||An("MSIE"),LC=An("Edge"),vm=LC||ao,MC=An("Gecko")&&!(Jh().toLowerCase().indexOf("webkit")!=-1&&!An("Edge"))&&!(An("Trident")||An("MSIE"))&&!An("Edge"),LD=Jh().toLowerCase().indexOf("webkit")!=-1&&!An("Edge");function FC(){var t=z.document;return t?t.documentMode:void 0}var ym;e:{var Pd="",Nd=function(){var t=Jh();if(MC)return/rv:([^\);]+)(\)|;)/.exec(t);if(LC)return/Edge\/([\d\.]+)/.exec(t);if(ao)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(LD)return/WebKit\/(\S+)/.exec(t);if(DD)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Nd&&(Pd=Nd?Nd[1]:""),ao){var Dd=FC();if(Dd!=null&&Dd>parseFloat(Pd)){ym=String(Dd);break e}}ym=Pd}var wm;if(z.document&&ao){var Y1=FC();wm=Y1||parseInt(ym,10)||void 0}else wm=void 0;var MD=wm;function su(t,e){if(ht.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(MC){e:{try{xv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:FD[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&su.$.h.call(this)}}Ge(su,ht);var FD={2:"touch",3:"pen",4:"mouse"};su.prototype.h=function(){su.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Zh="closure_listenable_"+(1e6*Math.random()|0),jD=0;function UD(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++jD,this.fa=this.ia=!1}function ef(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Av(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function VD(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function jC(t){const e={};for(const n in t)e[n]=t[n];return e}const X1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function UC(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<X1.length;s++)n=X1[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function tf(t){this.src=t,this.g={},this.h=0}tf.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Em(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new UD(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function _m(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=DC(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(ef(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Em(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Ov="closure_lm_"+(1e6*Math.random()|0),Ld={};function VC(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)VC(t,e[s],n,r,i);return null}return n=HC(n),t&&t[Zh]?t.O(e,n,Xh(r)?!!r.capture:!!r,i):zD(t,e,n,!1,r,i)}function zD(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Xh(i)?!!i.capture:!!i,a=Pv(t);if(a||(t[Ov]=a=new tf(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=BD(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)PD||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(BC(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function BD(){function t(n){return e.call(t.src,t.listener,n)}const e=HD;return t}function zC(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)zC(t,e[s],n,r,i);else r=Xh(r)?!!r.capture:!!r,n=HC(n),t&&t[Zh]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Em(s,n,r,i),-1<n&&(ef(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Pv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Em(e,n,r,i)),(n=-1<t?e[t]:null)&&Rv(n))}function Rv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Zh])_m(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(BC(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Pv(e))?(_m(n,t),n.h==0&&(n.src=null,e[Ov]=null)):ef(t)}}}function BC(t){return t in Ld?Ld[t]:Ld[t]="on"+t}function HD(t,e){if(t.fa)t=!0;else{e=new su(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Rv(t),t=n.call(r,e)}return t}function Pv(t){return t=t[Ov],t instanceof tf?t:null}var Md="__closure_events_fn_"+(1e9*Math.random()>>>0);function HC(t){return typeof t=="function"?t:(t[Md]||(t[Md]=function(e){return t.handleEvent(e)}),t[Md])}function He(){li.call(this),this.i=new tf(this),this.S=this,this.J=null}Ge(He,li);He.prototype[Zh]=!0;He.prototype.removeEventListener=function(t,e,n,r){zC(this,t,e,n,r)};function Je(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new ht(e,t);else if(e instanceof ht)e.target=e.target||t;else{var i=e;e=new ht(r,t),UC(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Tl(o,r,!0,e)&&i}if(o=e.g=t,i=Tl(o,r,!0,e)&&i,i=Tl(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Tl(o,r,!1,e)&&i}He.prototype.N=function(){if(He.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ef(n[r]);delete t.g[e],t.h--}}this.J=null};He.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};He.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Tl(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&_m(t.i,o),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var Nv=z.JSON.stringify;class WD{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function GD(){var t=Dv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class KD{constructor(){this.h=this.g=null}add(e,n){const r=WC.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var WC=new WD(()=>new qD,t=>t.reset());class qD{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function QD(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function YD(t){z.setTimeout(()=>{throw t},0)}let ou,au=!1,Dv=new KD,GC=()=>{const t=z.Promise.resolve(void 0);ou=()=>{t.then(XD)}};var XD=()=>{for(var t;t=GD();){try{t.h.call(t.g)}catch(n){YD(n)}var e=WC;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}au=!1};function nf(t,e){He.call(this),this.h=t||1,this.g=e||z,this.j=ct(this.qb,this),this.l=Date.now()}Ge(nf,He);A=nf.prototype;A.ga=!1;A.T=null;A.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Je(this,"tick"),this.ga&&(Lv(this),this.start()))}};A.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Lv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}A.N=function(){nf.$.N.call(this),Lv(this),delete this.g};function Mv(t,e,n){if(typeof t=="function")n&&(t=ct(t,n));else if(t&&typeof t.handleEvent=="function")t=ct(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:z.setTimeout(t,e||0)}function KC(t){t.g=Mv(()=>{t.g=null,t.i&&(t.i=!1,KC(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class JD extends li{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:KC(this)}N(){super.N(),this.g&&(z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function uu(t){li.call(this),this.h=t,this.g={}}Ge(uu,li);var J1=[];function qC(t,e,n,r){Array.isArray(n)||(n&&(J1[0]=n.toString()),n=J1);for(var i=0;i<n.length;i++){var s=VC(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function QC(t){Av(t.g,function(e,n){this.g.hasOwnProperty(n)&&Rv(e)},t),t.g={}}uu.prototype.N=function(){uu.$.N.call(this),QC(this)};uu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function rf(){this.g=!0}rf.prototype.Ea=function(){this.g=!1};function ZD(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+l+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function eL(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ps(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+nL(t,n)+(r?" "+r:"")})}function tL(t,e){t.info(function(){return"TIMEOUT: "+e})}rf.prototype.info=function(){};function nL(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Nv(n)}catch{return e}}var ss={},Z1=null;function sf(){return Z1=Z1||new He}ss.Ta="serverreachability";function YC(t){ht.call(this,ss.Ta,t)}Ge(YC,ht);function lu(t){const e=sf();Je(e,new YC(e))}ss.STAT_EVENT="statevent";function XC(t,e){ht.call(this,ss.STAT_EVENT,t),this.stat=e}Ge(XC,ht);function _t(t){const e=sf();Je(e,new XC(e,t))}ss.Ua="timingevent";function JC(t,e){ht.call(this,ss.Ua,t),this.size=e}Ge(JC,ht);function Pu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return z.setTimeout(function(){t()},e)}var of={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ZC={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Fv(){}Fv.prototype.h=null;function ew(t){return t.h||(t.h=t.i())}function eI(){}var Nu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function jv(){ht.call(this,"d")}Ge(jv,ht);function Uv(){ht.call(this,"c")}Ge(Uv,ht);var Sm;function af(){}Ge(af,Fv);af.prototype.g=function(){return new XMLHttpRequest};af.prototype.i=function(){return{}};Sm=new af;function Du(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new uu(this),this.P=rL,t=vm?125:void 0,this.V=new nf(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new tI}function tI(){this.i=null,this.g="",this.h=!1}var rL=45e3,Tm={},Fc={};A=Du.prototype;A.setTimeout=function(t){this.P=t};function Cm(t,e,n){t.L=1,t.v=lf(ar(e)),t.s=n,t.S=!0,nI(t,null)}function nI(t,e){t.G=Date.now(),Lu(t),t.A=ar(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),cI(n.i,"t",r),t.C=0,n=t.l.J,t.h=new tI,t.g=OI(t.l,n?e:null,!t.s),0<t.O&&(t.M=new JD(ct(t.Pa,t,t.g),t.O)),qC(t.U,t.g,"readystatechange",t.nb),e=t.I?jC(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),lu(),ZD(t.j,t.u,t.A,t.m,t.W,t.s)}A.nb=function(t){t=t.target;const e=this.M;e&&On(t)==3?e.l():this.Pa(t)};A.Pa=function(t){try{if(t==this.g)e:{const c=On(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||vm||this.g&&(this.h.h||this.g.ja()||iw(this.g)))){this.J||c!=4||e==7||(e==8||0>=h?lu(3):lu(2)),uf(this);var n=this.g.da();this.ca=n;t:if(rI(this)){var r=iw(this.g);t="";var i=r.length,s=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xi(this),$a(this);var o="";break t}this.h.i=new z.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,eL(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!iu(a)){var l=a;break t}}l=null}if(n=l)Ps(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Im(this,n);else{this.i=!1,this.o=3,_t(12),xi(this),$a(this);break e}}this.S?(iI(this,c,o),vm&&this.i&&c==3&&(qC(this.U,this.V,"tick",this.mb),this.V.start())):(Ps(this.j,this.m,o,null),Im(this,o)),c==4&&xi(this),this.i&&!this.J&&(c==4?kI(this.l,this):(this.i=!1,Lu(this)))}else CL(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,_t(12)):(this.o=0,_t(13)),xi(this),$a(this)}}}catch{}finally{}};function rI(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function iI(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=iL(t,n),i==Fc){e==4&&(t.o=4,_t(14),r=!1),Ps(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Tm){t.o=4,_t(15),Ps(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ps(t.j,t.m,i,null),Im(t,i);rI(t)&&i!=Fc&&i!=Tm&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,_t(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Gv(e),e.M=!0,_t(11))):(Ps(t.j,t.m,n,"[Invalid Chunked Response]"),xi(t),$a(t))}A.mb=function(){if(this.g){var t=On(this.g),e=this.g.ja();this.C<e.length&&(uf(this),iI(this,t,e),this.i&&t!=4&&Lu(this))}};function iL(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Fc:(n=Number(e.substring(n,r)),isNaN(n)?Tm:(r+=1,r+n>e.length?Fc:(e=e.slice(r,r+n),t.C=r+n,e)))}A.cancel=function(){this.J=!0,xi(this)};function Lu(t){t.Y=Date.now()+t.P,sI(t,t.P)}function sI(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Pu(ct(t.lb,t),e)}function uf(t){t.B&&(z.clearTimeout(t.B),t.B=null)}A.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(tL(this.j,this.A),this.L!=2&&(lu(),_t(17)),xi(this),this.o=2,$a(this)):sI(this,this.Y-t)};function $a(t){t.l.H==0||t.J||kI(t.l,t)}function xi(t){uf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Lv(t.V),QC(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Im(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||$m(n.i,t))){if(!t.K&&$m(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Vc(n),ff(n);else break e;Wv(n),_t(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Pu(ct(n.ib,n),6e3));if(1>=dI(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ai(n,11)}else if((t.K||n.g==t)&&Vc(n),!iu(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];const c=l[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=l[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=l[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Vv(s,s.h),s.h=null))}if(r.F){const v=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,ge(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=AI(r,r.J?r.pa:null,r.Y),o.K){pI(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(uf(a),Lu(a)),r.g=o}else II(r);0<n.j.length&&df(n)}else l[0]!="stop"&&l[0]!="close"||Ai(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Ai(n,7):Hv(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}lu(4)}catch{}}function sL(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Yh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function oL(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Yh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function oI(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Yh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=oL(t),r=sL(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var aI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aL(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Mi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Mi){this.h=t.h,jc(this,t.j),this.s=t.s,this.g=t.g,Uc(this,t.m),this.l=t.l;var e=t.i,n=new cu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),tw(this,n),this.o=t.o}else t&&(e=String(t).match(aI))?(this.h=!1,jc(this,e[1]||"",!0),this.s=ha(e[2]||""),this.g=ha(e[3]||"",!0),Uc(this,e[4]),this.l=ha(e[5]||"",!0),tw(this,e[6]||"",!0),this.o=ha(e[7]||"")):(this.h=!1,this.i=new cu(null,this.h))}Mi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(fa(e,nw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(fa(e,nw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(fa(n,n.charAt(0)=="/"?cL:lL,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",fa(n,fL)),t.join("")};function ar(t){return new Mi(t)}function jc(t,e,n){t.j=n?ha(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Uc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function tw(t,e,n){e instanceof cu?(t.i=e,dL(t.i,t.h)):(n||(e=fa(e,hL)),t.i=new cu(e,t.h))}function ge(t,e,n){t.i.set(e,n)}function lf(t){return ge(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ha(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function fa(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,uL),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function uL(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var nw=/[#\/\?@]/g,lL=/[#\?:]/g,cL=/[#\?]/g,hL=/[#\?@]/g,fL=/#/g;function cu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ci(t){t.g||(t.g=new Map,t.h=0,t.i&&aL(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}A=cu.prototype;A.add=function(t,e){ci(this),this.i=null,t=xo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function uI(t,e){ci(t),e=xo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function lI(t,e){return ci(t),e=xo(t,e),t.g.has(e)}A.forEach=function(t,e){ci(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};A.ta=function(){ci(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};A.Z=function(t){ci(this);let e=[];if(typeof t=="string")lI(this,t)&&(e=e.concat(this.g.get(xo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};A.set=function(t,e){return ci(this),this.i=null,t=xo(this,t),lI(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};A.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function cI(t,e,n){uI(t,e),0<n.length&&(t.i=null,t.g.set(xo(t,e),bv(n)),t.h+=n.length)}A.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function xo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function dL(t,e){e&&!t.j&&(ci(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(uI(this,r),cI(this,i,n))},t)),t.j=e}var pL=class{constructor(t,e){this.g=t,this.map=e}};function hI(t){this.l=t||mL,z.PerformanceNavigationTiming?(t=z.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(z.g&&z.g.Ka&&z.g.Ka()&&z.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var mL=10;function fI(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function dI(t){return t.h?1:t.g?t.g.size:0}function $m(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Vv(t,e){t.g?t.g.add(e):t.h=e}function pI(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}hI.prototype.cancel=function(){if(this.i=mI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function mI(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return bv(t.i)}var gL=class{stringify(t){return z.JSON.stringify(t,void 0)}parse(t){return z.JSON.parse(t,void 0)}};function vL(){this.g=new gL}function yL(t,e,n){const r=n||"";try{oI(t,function(i,s){let o=i;Xh(i)&&(o=Nv(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function wL(t,e){const n=new rf;if(z.Image){const r=new Image;r.onload=Sl(Cl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Sl(Cl,n,r,"TestLoadImage: error",!1,e),r.onabort=Sl(Cl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Sl(Cl,n,r,"TestLoadImage: timeout",!1,e),z.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Cl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Mu(t){this.l=t.fc||null,this.j=t.ob||!1}Ge(Mu,Fv);Mu.prototype.g=function(){return new cf(this.l,this.j)};Mu.prototype.i=function(t){return function(){return t}}({});function cf(t,e){He.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=zv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ge(cf,He);var zv=0;A=cf.prototype;A.open=function(t,e){if(this.readyState!=zv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,hu(this)};A.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||z).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};A.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fu(this)),this.readyState=zv};A.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,hu(this)),this.g&&(this.readyState=3,hu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof z.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;gI(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function gI(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}A.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Fu(this):hu(this),this.readyState==3&&gI(this)}};A.Za=function(t){this.g&&(this.response=this.responseText=t,Fu(this))};A.Ya=function(t){this.g&&(this.response=t,Fu(this))};A.ka=function(){this.g&&Fu(this)};function Fu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,hu(t)}A.setRequestHeader=function(t,e){this.v.append(t,e)};A.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};A.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function hu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(cf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var _L=z.JSON.parse;function be(t){He.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=vI,this.L=this.M=!1}Ge(be,He);var vI="",EL=/^https?$/i,SL=["POST","PUT"];A=be.prototype;A.Oa=function(t){this.M=t};A.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Sm.g(),this.C=this.u?ew(this.u):ew(Sm),this.g.onreadystatechange=ct(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){rw(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=z.FormData&&t instanceof z.FormData,!(0<=DC(SL,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{_I(this),0<this.B&&((this.L=TL(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ct(this.ua,this)):this.A=Mv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){rw(this,s)}};function TL(t){return ao&&typeof t.timeout=="number"&&t.ontimeout!==void 0}A.ua=function(){typeof kv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Je(this,"timeout"),this.abort(8))};function rw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,yI(t),hf(t)}function yI(t){t.F||(t.F=!0,Je(t,"complete"),Je(t,"error"))}A.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Je(this,"complete"),Je(this,"abort"),hf(this))};A.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hf(this,!0)),be.$.N.call(this)};A.La=function(){this.s||(this.G||this.v||this.l?wI(this):this.kb())};A.kb=function(){wI(this)};function wI(t){if(t.h&&typeof kv<"u"&&(!t.C[1]||On(t)!=4||t.da()!=2)){if(t.v&&On(t)==4)Mv(t.La,0,t);else if(Je(t,"readystatechange"),On(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(aI)[1]||null;!i&&z.self&&z.self.location&&(i=z.self.location.protocol.slice(0,-1)),r=!EL.test(i?i.toLowerCase():"")}n=r}if(n)Je(t,"complete"),Je(t,"success");else{t.m=6;try{var s=2<On(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",yI(t)}}finally{hf(t)}}}}function hf(t,e){if(t.g){_I(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Je(t,"ready");try{n.onreadystatechange=r}catch{}}}function _I(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(z.clearTimeout(t.A),t.A=null)}A.isActive=function(){return!!this.g};function On(t){return t.g?t.g.readyState:0}A.da=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}};A.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};A.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),_L(e)}};function iw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case vI:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function CL(t){const e={};t=(t.g&&2<=On(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(iu(t[r]))continue;var n=QD(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}VD(e,function(r){return r.join(", ")})}A.Ia=function(){return this.m};A.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function EI(t){let e="";return Av(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Bv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=EI(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ge(t,e,n))}function Zo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function SI(t){this.Ga=0,this.j=[],this.l=new rf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Zo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Zo("baseRetryDelayMs",5e3,t),this.hb=Zo("retryDelaySeedMs",1e4,t),this.eb=Zo("forwardChannelMaxRetries",2,t),this.xa=Zo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new hI(t&&t.concurrentRequestLimit),this.Ja=new vL,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}A=SI.prototype;A.ra=8;A.H=1;function Hv(t){if(TI(t),t.H==3){var e=t.W++,n=ar(t.I);if(ge(n,"SID",t.K),ge(n,"RID",e),ge(n,"TYPE","terminate"),ju(t,n),e=new Du(t,t.l,e),e.L=2,e.v=lf(ar(n)),n=!1,z.navigator&&z.navigator.sendBeacon)try{n=z.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&z.Image&&(new Image().src=e.v,n=!0),n||(e.g=OI(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Lu(e)}xI(t)}function ff(t){t.g&&(Gv(t),t.g.cancel(),t.g=null)}function TI(t){ff(t),t.u&&(z.clearTimeout(t.u),t.u=null),Vc(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&z.clearTimeout(t.m),t.m=null)}function df(t){if(!fI(t.i)&&!t.m){t.m=!0;var e=t.Na;ou||GC(),au||(ou(),au=!0),Dv.add(e,t),t.C=0}}function IL(t,e){return dI(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Pu(ct(t.Na,t,e),bI(t,t.C)),t.C++,!0)}A.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Du(this,this.l,t);let s=this.s;if(this.U&&(s?(s=jC(s),UC(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=CI(this,i,e),n=ar(this.I),ge(n,"RID",t),ge(n,"CVER",22),this.F&&ge(n,"X-HTTP-Session-Id",this.F),ju(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(EI(s)))+"&"+e:this.o&&Bv(n,this.o,s)),Vv(this.i,i),this.bb&&ge(n,"TYPE","init"),this.P?(ge(n,"$req",e),ge(n,"SID","null"),i.aa=!0,Cm(i,n,null)):Cm(i,n,e),this.H=2}}else this.H==3&&(t?sw(this,t):this.j.length==0||fI(this.i)||sw(this))};function sw(t,e){var n;e?n=e.m:n=t.W++;const r=ar(t.I);ge(r,"SID",t.K),ge(r,"RID",n),ge(r,"AID",t.V),ju(t,r),t.o&&t.s&&Bv(r,t.o,t.s),n=new Du(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=CI(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Vv(t.i,n),Cm(n,r,e)}function ju(t,e){t.na&&Av(t.na,function(n,r){ge(e,r,n)}),t.h&&oI({},function(n,r){ge(e,r,n)})}function CI(t,e,n){n=Math.min(t.j.length,n);var r=t.h?ct(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].g;const c=i[u].map;if(l-=s,0>l)s=Math.max(0,i[u].g-100),a=!1;else try{yL(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function II(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ou||GC(),au||(ou(),au=!0),Dv.add(e,t),t.A=0}}function Wv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Pu(ct(t.Ma,t),bI(t,t.A)),t.A++,!0)}A.Ma=function(){if(this.u=null,$I(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Pu(ct(this.jb,this),t)}};A.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,_t(10),ff(this),$I(this))};function Gv(t){t.B!=null&&(z.clearTimeout(t.B),t.B=null)}function $I(t){t.g=new Du(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ar(t.wa);ge(e,"RID","rpc"),ge(e,"SID",t.K),ge(e,"AID",t.V),ge(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ge(e,"TO",t.qa),ge(e,"TYPE","xmlhttp"),ju(t,e),t.o&&t.s&&Bv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=lf(ar(e)),n.s=null,n.S=!0,nI(n,t)}A.ib=function(){this.v!=null&&(this.v=null,ff(this),Wv(this),_t(19))};function Vc(t){t.v!=null&&(z.clearTimeout(t.v),t.v=null)}function kI(t,e){var n=null;if(t.g==e){Vc(t),Gv(t),t.g=null;var r=2}else if($m(t.i,e))n=e.F,pI(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=sf(),Je(r,new JC(r,n)),df(t)}else II(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&IL(t,e)||r==2&&Wv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ai(t,5);break;case 4:Ai(t,10);break;case 3:Ai(t,6);break;default:Ai(t,2)}}}function bI(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ai(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=ct(t.pb,t);n||(n=new Mi("//www.google.com/images/cleardot.gif"),z.location&&z.location.protocol=="http"||jc(n,"https"),lf(n)),wL(n.toString(),r)}else _t(2);t.H=0,t.h&&t.h.za(e),xI(t),TI(t)}A.pb=function(t){t?(this.l.info("Successfully pinged google.com"),_t(2)):(this.l.info("Failed to ping google.com"),_t(1))};function xI(t){if(t.H=0,t.ma=[],t.h){const e=mI(t.i);(e.length!=0||t.j.length!=0)&&(Q1(t.ma,e),Q1(t.ma,t.j),t.i.i.length=0,bv(t.j),t.j.length=0),t.h.ya()}}function AI(t,e,n){var r=n instanceof Mi?ar(n):new Mi(n);if(r.g!="")e&&(r.g=e+"."+r.g),Uc(r,r.m);else{var i=z.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Mi(null);r&&jc(s,r),e&&(s.g=e),i&&Uc(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&ge(r,n,e),ge(r,"VER",t.ra),ju(t,r),r}function OI(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new be(new Mu({ob:!0})):new be(t.va),e.Oa(t.J),e}A.isActive=function(){return!!this.h&&this.h.isActive(this)};function RI(){}A=RI.prototype;A.Ba=function(){};A.Aa=function(){};A.za=function(){};A.ya=function(){};A.isActive=function(){return!0};A.Va=function(){};function zc(){if(ao&&!(10<=Number(MD)))throw Error("Environmental error: no available transport.")}zc.prototype.g=function(t,e){return new jt(t,e)};function jt(t,e){He.call(this),this.g=new SI(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!iu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!iu(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ao(this)}Ge(jt,He);jt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;_t(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=AI(t,null,t.Y),df(t)};jt.prototype.close=function(){Hv(this.g)};jt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Nv(t),t=n);e.j.push(new pL(e.fb++,t)),e.H==3&&df(e)};jt.prototype.N=function(){this.g.h=null,delete this.j,Hv(this.g),delete this.g,jt.$.N.call(this)};function PI(t){jv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ge(PI,jv);function NI(){Uv.call(this),this.status=1}Ge(NI,Uv);function Ao(t){this.g=t}Ge(Ao,RI);Ao.prototype.Ba=function(){Je(this.g,"a")};Ao.prototype.Aa=function(t){Je(this.g,new PI(t))};Ao.prototype.za=function(t){Je(this.g,new NI)};Ao.prototype.ya=function(){Je(this.g,"b")};function $L(){this.blockSize=-1}function _n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ge(_n,$L);_n.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Fd(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}_n.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Fd(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Fd(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Fd(this,r),i=0;break}}this.h=i,this.i+=e};_n.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function se(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var kL={};function Kv(t){return-128<=t&&128>t?ND(t,function(e){return new se([e|0],0>e?-1:0)}):new se([t|0],0>t?-1:0)}function Rn(t){if(isNaN(t)||!isFinite(t))return Ws;if(0>t)return Ye(Rn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=km;return new se(e,0)}function DI(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ye(DI(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Rn(Math.pow(e,8)),r=Ws,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Rn(Math.pow(e,s)),r=r.R(s).add(Rn(o))):(r=r.R(n),r=r.add(Rn(o)))}return r}var km=4294967296,Ws=Kv(0),bm=Kv(1),ow=Kv(16777216);A=se.prototype;A.ea=function(){if(Qt(this))return-Ye(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:km+r)*e,e*=km}return t};A.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Yn(this))return"0";if(Qt(this))return"-"+Ye(this).toString(t);for(var e=Rn(Math.pow(t,6)),n=this,r="";;){var i=Hc(n,e).g;n=Bc(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Yn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};A.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Yn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Qt(t){return t.h==-1}A.X=function(t){return t=Bc(this,t),Qt(t)?-1:Yn(t)?0:1};function Ye(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new se(n,~t.h).add(bm)}A.abs=function(){return Qt(this)?Ye(this):this};A.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new se(n,n[n.length-1]&-2147483648?-1:0)};function Bc(t,e){return t.add(Ye(e))}A.R=function(t){if(Yn(this)||Yn(t))return Ws;if(Qt(this))return Qt(t)?Ye(this).R(Ye(t)):Ye(Ye(this).R(t));if(Qt(t))return Ye(this.R(Ye(t)));if(0>this.X(ow)&&0>t.X(ow))return Rn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,u=t.D(i)&65535;n[2*r+2*i]+=o*u,Il(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Il(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Il(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Il(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new se(n,0)};function Il(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ea(t,e){this.g=t,this.h=e}function Hc(t,e){if(Yn(e))throw Error("division by zero");if(Yn(t))return new ea(Ws,Ws);if(Qt(t))return e=Hc(Ye(t),e),new ea(Ye(e.g),Ye(e.h));if(Qt(e))return e=Hc(t,Ye(e)),new ea(Ye(e.g),e.h);if(30<t.g.length){if(Qt(t)||Qt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=bm,r=e;0>=r.X(t);)n=aw(n),r=aw(r);var i=ms(n,1),s=ms(r,1);for(r=ms(r,2),n=ms(n,2);!Yn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=ms(r,1),n=ms(n,1)}return e=Bc(t,i.R(e)),new ea(i,e)}for(i=Ws;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Rn(n),o=s.R(e);Qt(o)||0<o.X(t);)n-=r,s=Rn(n),o=s.R(e);Yn(s)&&(s=bm),i=i.add(s),t=Bc(t,o)}return new ea(i,t)}A.gb=function(t){return Hc(this,t).h};A.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new se(n,this.h&t.h)};A.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new se(n,this.h|t.h)};A.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new se(n,this.h^t.h)};function aw(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new se(n,t.h)}function ms(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new se(i,t.h)}zc.prototype.createWebChannel=zc.prototype.g;jt.prototype.send=jt.prototype.u;jt.prototype.open=jt.prototype.m;jt.prototype.close=jt.prototype.close;of.NO_ERROR=0;of.TIMEOUT=8;of.HTTP_ERROR=6;ZC.COMPLETE="complete";eI.EventType=Nu;Nu.OPEN="a";Nu.CLOSE="b";Nu.ERROR="c";Nu.MESSAGE="d";He.prototype.listen=He.prototype.O;be.prototype.listenOnce=be.prototype.P;be.prototype.getLastError=be.prototype.Sa;be.prototype.getLastErrorCode=be.prototype.Ia;be.prototype.getStatus=be.prototype.da;be.prototype.getResponseJson=be.prototype.Wa;be.prototype.getResponseText=be.prototype.ja;be.prototype.send=be.prototype.ha;be.prototype.setWithCredentials=be.prototype.Oa;_n.prototype.digest=_n.prototype.l;_n.prototype.reset=_n.prototype.reset;_n.prototype.update=_n.prototype.j;se.prototype.add=se.prototype.add;se.prototype.multiply=se.prototype.R;se.prototype.modulo=se.prototype.gb;se.prototype.compare=se.prototype.X;se.prototype.toNumber=se.prototype.ea;se.prototype.toString=se.prototype.toString;se.prototype.getBits=se.prototype.D;se.fromNumber=Rn;se.fromString=DI;var bL=function(){return new zc},xL=function(){return sf()},jd=of,AL=ZC,OL=ss,uw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},RL=Mu,$l=eI,PL=be,NL=_n,Gs=se;const lw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}st.UNAUTHENTICATED=new st(null),st.GOOGLE_CREDENTIALS=new st("google-credentials-uid"),st.FIRST_PARTY=new st("first-party-uid"),st.MOCK_USER=new st("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=new Cv("@firebase/firestore");function cw(){return Qi.logLevel}function L(t,...e){if(Qi.logLevel<=te.DEBUG){const n=e.map(qv);Qi.debug(`Firestore (${Oo}): ${t}`,...n)}}function ur(t,...e){if(Qi.logLevel<=te.ERROR){const n=e.map(qv);Qi.error(`Firestore (${Oo}): ${t}`,...n)}}function uo(t,...e){if(Qi.logLevel<=te.WARN){const n=e.map(qv);Qi.warn(`Firestore (${Oo}): ${t}`,...n)}}function qv(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B(t="Unexpected state"){const e=`FIRESTORE (${Oo}) INTERNAL ASSERTION FAILED: `+t;throw ur(e),new Error(e)}function ye(t,e){t||B()}function G(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class V extends mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(st.UNAUTHENTICATED))}shutdown(){}}class LL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ML{constructor(e){this.t=e,this.currentUser=st.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Qr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Qr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ye(typeof r.accessToken=="string"),new LI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ye(e===null||typeof e=="string"),new st(e)}}class FL{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=st.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class jL{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new FL(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(st.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VL{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,L("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ye(typeof n.token=="string"),this.T=n.token,new UL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=zL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ne(t,e){return t<e?-1:t>e?1:0}function lo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new V(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new V(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return je.fromMillis(Date.now())}static fromDate(e){return je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new je(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ne(this.nanoseconds,e.nanoseconds):ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.timestamp=e}static fromTimestamp(e){return new W(e)}static min(){return new W(new je(0,0))}static max(){return new W(new je(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n,r){n===void 0?n=0:n>e.length&&B(),r===void 0?r=e.length-n:r>e.length-n&&B(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return fu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ke extends fu{construct(e,n,r){return new ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new V(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ke(n)}static emptyPath(){return new ke([])}}const BL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ut extends fu{construct(e,n,r){return new ut(e,n,r)}static isValidIdentifier(e){return BL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ut(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new V(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new V(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new V(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new V(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ut(n)}static emptyPath(){return new ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.path=e}static fromPath(e){return new U(ke.fromString(e))}static fromName(e){return new U(ke.fromString(e).popFirst(5))}static empty(){return new U(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new U(new ke(e.slice()))}}function HL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=W.fromTimestamp(r===1e9?new je(n+1,0):new je(n,r));return new ti(i,U.empty(),e)}function WL(t){return new ti(t.readTime,t.key,-1)}class ti{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ti(W.min(),U.empty(),-1)}static max(){return new ti(W.max(),U.empty(),-1)}}function GL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=U.comparator(t.documentKey,e.documentKey),n!==0?n:ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uu(t){if(t.code!==k.FAILED_PRECONDITION||t.message!==KL)throw t;L("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&B(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new x((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof x?n:x.resolve(n)}catch(n){return x.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):x.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):x.reject(n)}static resolve(e){return new x((n,r)=>{n(e)})}static reject(e){return new x((n,r)=>{r(e)})}static waitFor(e){return new x((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=x.resolve(!1);for(const r of e)n=n.next(i=>i?x.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new x((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(e[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new x((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Vu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Qv.ct=-1;function pf(t){return t==null}function Wc(t){return t===0&&1/t==-1/0}function QL(t){return typeof t=="number"&&Number.isInteger(t)&&!Wc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ro(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function FI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e,n){this.comparator=e,this.root=n||Qe.EMPTY}insert(e,n){return new Ce(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(e){return new Ce(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kl(this.root,e,this.comparator,!1)}getReverseIterator(){return new kl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kl(this.root,e,this.comparator,!0)}}class kl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qe{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Qe.RED,this.left=i??Qe.EMPTY,this.right=s??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Qe(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Qe.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw B();const e=this.left.check();if(e!==this.right.check())throw B();return e+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw B()}get value(){throw B()}get color(){throw B()}get left(){throw B()}get right(){throw B()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Qe(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.comparator=e,this.data=new Ce(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fw(this.data.getIterator())}getIteratorFrom(e){return new fw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ft(this.comparator);return n.data=e,n}}class fw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.fields=e,e.sort(ut.comparator)}static empty(){return new gn([])}unionWith(e){let n=new ft(ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return lo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new jI("Invalid base64 string: "+i):i}}(e);return new gt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gt.EMPTY_BYTE_STRING=new gt("");const YL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ni(t){if(ye(!!t),typeof t=="string"){let e=0;const n=YL.exec(t);if(ye(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ne(t.seconds),nanos:Ne(t.nanos)}}function Ne(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Yi(t){return typeof t=="string"?gt.fromBase64String(t):gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Xv(t){const e=t.mapValue.fields.__previous_value__;return Yv(e)?Xv(e):e}function du(t){const e=ni(t.mapValue.fields.__local_write_time__.timestampValue);return new je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class pu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new pu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof pu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Xi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Yv(t)?4:JL(t)?9007199254740991:10:B()}function Fn(t,e){if(t===e)return!0;const n=Xi(t);if(n!==Xi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return du(t).isEqual(du(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=ni(r.timestampValue),o=ni(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Yi(r.bytesValue).isEqual(Yi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ne(r.geoPointValue.latitude)===Ne(i.geoPointValue.latitude)&&Ne(r.geoPointValue.longitude)===Ne(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ne(r.integerValue)===Ne(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ne(r.doubleValue),o=Ne(i.doubleValue);return s===o?Wc(s)===Wc(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return lo(t.arrayValue.values||[],e.arrayValue.values||[],Fn);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(hw(s)!==hw(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Fn(s[a],o[a])))return!1;return!0}(t,e);default:return B()}}function mu(t,e){return(t.values||[]).find(n=>Fn(n,e))!==void 0}function co(t,e){if(t===e)return 0;const n=Xi(t),r=Xi(e);if(n!==r)return ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ne(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ne(i.integerValue||i.doubleValue),a=Ne(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return dw(t.timestampValue,e.timestampValue);case 4:return dw(du(t),du(e));case 5:return ne(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Yi(i),a=Yi(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const l=ne(o[u],a[u]);if(l!==0)return l}return ne(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ne(Ne(i.latitude),Ne(s.latitude));return o!==0?o:ne(Ne(i.longitude),Ne(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const l=co(o[u],a[u]);if(l)return l}return ne(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===bl.mapValue&&s===bl.mapValue)return 0;if(i===bl.mapValue)return 1;if(s===bl.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},l=Object.keys(u);a.sort(),l.sort();for(let c=0;c<a.length&&c<l.length;++c){const h=ne(a[c],l[c]);if(h!==0)return h;const f=co(o[a[c]],u[l[c]]);if(f!==0)return f}return ne(a.length,l.length)}(t.mapValue,e.mapValue);default:throw B()}}function dw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ne(t,e);const n=ni(t),r=ni(e),i=ne(n.seconds,r.seconds);return i!==0?i:ne(n.nanos,r.nanos)}function ho(t){return xm(t)}function xm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=ni(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Yi(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,U.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=xm(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${xm(r.fields[a])}`;return s+"}"}(t.mapValue):B();var e,n}function Am(t){return!!t&&"integerValue"in t}function Jv(t){return!!t&&"arrayValue"in t}function pw(t){return!!t&&"nullValue"in t}function mw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xl(t){return!!t&&"mapValue"in t}function ka(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ro(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ka(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ka(t.arrayValue.values[n]);return e}return Object.assign({},t)}function JL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.value=e}static empty(){return new Yt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ka(n)}setAll(e){let n=ut.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ka(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Xl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Xl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ro(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Yt(ka(this.value))}}function UI(t){const e=[];return Ro(t.fields,(n,r)=>{const i=new ut([n]);if(Xl(r)){const s=UI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new at(e,0,W.min(),W.min(),W.min(),Yt.empty(),0)}static newFoundDocument(e,n,r,i){return new at(e,1,n,W.min(),r,i,0)}static newNoDocument(e,n){return new at(e,2,n,W.min(),W.min(),Yt.empty(),0)}static newUnknownDocument(e,n){return new at(e,3,n,W.min(),W.min(),Yt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(W.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=W.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof at&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new at(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n){this.position=e,this.inclusive=n}}function gw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=U.comparator(U.fromName(o.referenceValue),n.key):r=co(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function vw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n="asc"){this.field=e,this.dir=n}}function ZL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{}class Me extends VI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new tM(e,n,r):n==="array-contains"?new iM(e,r):n==="in"?new sM(e,r):n==="not-in"?new oM(e,r):n==="array-contains-any"?new aM(e,r):new Me(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new nM(e,r):new rM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(co(n,this.value)):n!==null&&Xi(this.value)===Xi(n)&&this.matchesComparison(co(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return B()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class jn extends VI{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new jn(e,n)}matches(e){return zI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function zI(t){return t.op==="and"}function BI(t){return eM(t)&&zI(t)}function eM(t){for(const e of t.filters)if(e instanceof jn)return!1;return!0}function Om(t){if(t instanceof Me)return t.field.canonicalString()+t.op.toString()+ho(t.value);if(BI(t))return t.filters.map(e=>Om(e)).join(",");{const e=t.filters.map(n=>Om(n)).join(",");return`${t.op}(${e})`}}function HI(t,e){return t instanceof Me?function(n,r){return r instanceof Me&&n.op===r.op&&n.field.isEqual(r.field)&&Fn(n.value,r.value)}(t,e):t instanceof jn?function(n,r){return r instanceof jn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&HI(s,r.filters[o]),!0):!1}(t,e):void B()}function WI(t){return t instanceof Me?function(e){return`${e.field.canonicalString()} ${e.op} ${ho(e.value)}`}(t):t instanceof jn?function(e){return e.op.toString()+" {"+e.getFilters().map(WI).join(" ,")+"}"}(t):"Filter"}class tM extends Me{constructor(e,n,r){super(e,n,r),this.key=U.fromName(r.referenceValue)}matches(e){const n=U.comparator(e.key,this.key);return this.matchesComparison(n)}}class nM extends Me{constructor(e,n){super(e,"in",n),this.keys=GI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class rM extends Me{constructor(e,n){super(e,"not-in",n),this.keys=GI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function GI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>U.fromName(r.referenceValue))}class iM extends Me{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jv(n)&&mu(n.arrayValue,this.value)}}class sM extends Me{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mu(this.value.arrayValue,n)}}class oM extends Me{constructor(e,n){super(e,"not-in",n)}matches(e){if(mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!mu(this.value.arrayValue,n)}}class aM extends Me{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>mu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function yw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new uM(t,e,n,r,i,s,o)}function Zv(t){const e=G(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Om(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),pf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ho(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ho(r)).join(",")),e.dt=n}return e.dt}function ey(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ZL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!HI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vw(t.startAt,e.startAt)&&vw(t.endAt,e.endAt)}function Rm(t){return U.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null,this.startAt,this.endAt}}function lM(t,e,n,r,i,s,o,a){return new mf(t,e,n,r,i,s,o,a)}function ty(t){return new mf(t)}function ww(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function cM(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function hM(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function fM(t){return t.collectionGroup!==null}function Ks(t){const e=G(t);if(e.wt===null){e.wt=[];const n=hM(e),r=cM(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new ba(n)),e.wt.push(new ba(ut.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new ba(ut.keyField(),s))}}}return e.wt}function lr(t){const e=G(t);if(!e._t)if(e.limitType==="F")e._t=yw(e.path,e.collectionGroup,Ks(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Ks(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new ba(s.field,o))}const r=e.endAt?new Gc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Gc(e.startAt.position,e.startAt.inclusive):null;e._t=yw(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Pm(t,e,n){return new mf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gf(t,e){return ey(lr(t),lr(e))&&t.limitType===e.limitType}function KI(t){return`${Zv(lr(t))}|lt:${t.limitType}`}function Nm(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>WI(r)).join(", ")}]`),pf(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ho(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ho(r)).join(",")),`Target(${n})`}(lr(t))}; limitType=${t.limitType})`}function vf(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):U.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Ks(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=gw(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Ks(n),r)||n.endAt&&!function(i,s,o){const a=gw(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Ks(n),r))}(t,e)}function dM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qI(t){return(e,n)=>{let r=!1;for(const i of Ks(t)){const s=pM(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function pM(t,e,n){const r=t.field.isKeyField()?U.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return a!==null&&u!==null?co(a,u):B()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return B()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ro(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return FI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=new Ce(U.comparator);function cr(){return mM}const QI=new Ce(U.comparator);function da(...t){let e=QI;for(const n of t)e=e.insert(n.key,n);return e}function YI(t){let e=QI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Oi(){return xa()}function XI(){return xa()}function xa(){return new Po(t=>t.toString(),(t,e)=>t.isEqual(e))}const gM=new Ce(U.comparator),vM=new ft(U.comparator);function X(...t){let e=vM;for(const n of t)e=e.add(n);return e}const yM=new ft(ne);function wM(){return yM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wc(e)?"-0":e}}function ZI(t){return{integerValue:""+t}}function _M(t,e){return QL(e)?ZI(e):JI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(){this._=void 0}}function EM(t,e,n){return t instanceof Kc?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Yv(i)&&(i=Xv(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof gu?t2(t,e):t instanceof vu?n2(t,e):function(r,i){const s=e2(r,i),o=_w(s)+_w(r.gt);return Am(s)&&Am(r.gt)?ZI(o):JI(r.serializer,o)}(t,e)}function SM(t,e,n){return t instanceof gu?t2(t,e):t instanceof vu?n2(t,e):n}function e2(t,e){return t instanceof qc?Am(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Kc extends yf{}class gu extends yf{constructor(e){super(),this.elements=e}}function t2(t,e){const n=r2(e);for(const r of t.elements)n.some(i=>Fn(i,r))||n.push(r);return{arrayValue:{values:n}}}class vu extends yf{constructor(e){super(),this.elements=e}}function n2(t,e){let n=r2(e);for(const r of t.elements)n=n.filter(i=>!Fn(i,r));return{arrayValue:{values:n}}}class qc extends yf{constructor(e,n){super(),this.serializer=e,this.gt=n}}function _w(t){return Ne(t.integerValue||t.doubleValue)}function r2(t){return Jv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function TM(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof gu&&r instanceof gu||n instanceof vu&&r instanceof vu?lo(n.elements,r.elements,Fn):n instanceof qc&&r instanceof qc?Fn(n.gt,r.gt):n instanceof Kc&&r instanceof Kc}(t.transform,e.transform)}class CM{constructor(e,n){this.version=e,this.transformResults=n}}class er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wf{}function i2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new o2(t.key,er.none()):new zu(t.key,t.data,er.none());{const n=t.data,r=Yt.empty();let i=new ft(ut.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new os(t.key,r,new gn(i.toArray()),er.none())}}function IM(t,e,n){t instanceof zu?function(r,i,s){const o=r.value.clone(),a=Sw(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof os?function(r,i,s){if(!Jl(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=Sw(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(s2(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Aa(t,e,n,r){return t instanceof zu?function(i,s,o,a){if(!Jl(i.precondition,s))return o;const u=i.value.clone(),l=Tw(i.fieldTransforms,a,s);return u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof os?function(i,s,o,a){if(!Jl(i.precondition,s))return o;const u=Tw(i.fieldTransforms,a,s),l=s.data;return l.setAll(s2(i)),l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return Jl(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function $M(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=e2(r.transform,i||null);s!=null&&(n===null&&(n=Yt.empty()),n.set(r.field,s))}return n||null}function Ew(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&lo(n,r,(i,s)=>TM(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class zu extends wf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class os extends wf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function s2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Sw(t,e,n){const r=new Map;ye(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,SM(o,a,n[i]))}return r}function Tw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,EM(s,o,e))}return r}class o2 extends wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kM extends wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&IM(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Aa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Aa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=XI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=i2(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(W.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),X())}isEqual(e){return this.batchId===e.batchId&&lo(this.mutations,e.mutations,(n,r)=>Ew(n,r))&&lo(this.baseMutations,e.baseMutations,(n,r)=>Ew(n,r))}}class ny{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ye(e.mutations.length===r.length);let i=gM;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new ny(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,J;function OM(t){switch(t){default:return B();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0}}function a2(t){if(t===void 0)return ur("GRPC error has no .code"),k.UNKNOWN;switch(t){case Re.OK:return k.OK;case Re.CANCELLED:return k.CANCELLED;case Re.UNKNOWN:return k.UNKNOWN;case Re.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Re.INTERNAL:return k.INTERNAL;case Re.UNAVAILABLE:return k.UNAVAILABLE;case Re.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Re.NOT_FOUND:return k.NOT_FOUND;case Re.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Re.ABORTED:return k.ABORTED;case Re.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Re.DATA_LOSS:return k.DATA_LOSS;default:return B()}}(J=Re||(Re={}))[J.OK=0]="OK",J[J.CANCELLED=1]="CANCELLED",J[J.UNKNOWN=2]="UNKNOWN",J[J.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",J[J.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",J[J.NOT_FOUND=5]="NOT_FOUND",J[J.ALREADY_EXISTS=6]="ALREADY_EXISTS",J[J.PERMISSION_DENIED=7]="PERMISSION_DENIED",J[J.UNAUTHENTICATED=16]="UNAUTHENTICATED",J[J.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",J[J.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",J[J.ABORTED=10]="ABORTED",J[J.OUT_OF_RANGE=11]="OUT_OF_RANGE",J[J.UNIMPLEMENTED=12]="UNIMPLEMENTED",J[J.INTERNAL=13]="INTERNAL",J[J.UNAVAILABLE=14]="UNAVAILABLE",J[J.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return xl}static getOrCreateInstance(){return xl===null&&(xl=new ry),xl}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let xl=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=new Gs([4294967295,4294967295],0);function Cw(t){const e=RM().encode(t),n=new NL;return n.update(e),new Uint8Array(n.digest())}function Iw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Gs([n,r],0),new Gs([i,s],0)]}class iy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new pa(`Invalid padding: ${n}`);if(r<0)throw new pa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new pa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new pa(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Gs.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Gs.fromNumber(r)));return i.compare(PM)===1&&(i=new Gs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=Cw(e),[r,i]=Iw(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new iy(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=Cw(e),[r,i]=Iw(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class pa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Bu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _f(W.min(),i,new Ce(ne),cr(),X())}}class Bu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Bu(r,n,X(),X(),X())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class u2{constructor(e,n){this.targetId=e,this.Vt=n}}class l2{constructor(e,n,r=gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class $w{constructor(){this.St=0,this.Dt=bw(),this.Ct=gt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=X(),n=X(),r=X();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:B()}}),new Bu(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=bw()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class NM{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=cr(),this.zt=kw(),this.Wt=new Ce(ne)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:B()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Rm(o))if(i===0){const a=new U(o.path);this.Yt(r,a,at.newNoDocument(a,W.min()))}else ye(i===1);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);if(u!==0){this.ee(r);const l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,l)}(n=ry.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(l,c,h){var f,p,g,v,w,m;const d={localCacheCount:c,existenceFilterCount:h.count},y=h.unchangedNames;return y&&(d.bloomFilter={applied:l===0,hashCount:(f=y==null?void 0:y.hashCount)!==null&&f!==void 0?f:0,bitmapLength:(v=(g=(p=y==null?void 0:y.bits)===null||p===void 0?void 0:p.bitmap)===null||g===void 0?void 0:g.length)!==null&&v!==void 0?v:0,padding:(m=(w=y==null?void 0:y.bits)===null||w===void 0?void 0:w.padding)!==null&&m!==void 0?m:0}),d}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,l;try{u=Yi(s).toUint8Array()}catch(c){if(c instanceof jI)return uo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{l=new iy(u,o,a)}catch(c){return uo(c instanceof pa?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return l.It===0?1:i!==n-this.oe(e.targetId,l)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Rm(a.target)){const u=new U(a.target.path);this.jt.get(u)!==null||this.ae(o,u)||this.Yt(o,u,at.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=X();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.se(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new _f(e,n,this.Wt,this.jt,r);return this.jt=cr(),this.zt=kw(),this.Wt=new Ce(ne),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new $w,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new ft(ne),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||L("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new $w),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function kw(){return new Ce(U.comparator)}function bw(){return new Ce(U.comparator)}const DM={asc:"ASCENDING",desc:"DESCENDING"},LM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MM={and:"AND",or:"OR"};class FM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dm(t,e){return t.useProto3Json||pf(e)?e:{value:e}}function Qc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function c2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function jM(t,e){return Qc(t,e.toTimestamp())}function Ln(t){return ye(!!t),W.fromTimestamp(function(e){const n=ni(e);return new je(n.seconds,n.nanos)}(t))}function sy(t,e){return function(n){return new ke(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function h2(t){const e=ke.fromString(t);return ye(m2(e)),e}function Lm(t,e){return sy(t.databaseId,e.path)}function Ud(t,e){const n=h2(e);if(n.get(1)!==t.databaseId.projectId)throw new V(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new V(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new U(f2(n))}function Mm(t,e){return sy(t.databaseId,e)}function UM(t){const e=h2(t);return e.length===4?ke.emptyPath():f2(e)}function Fm(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function f2(t){return ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function xw(t,e,n){return{name:Lm(t,e),fields:n.value.mapValue.fields}}function VM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:B()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(ye(l===void 0||typeof l=="string"),gt.fromBase64String(l||"")):(ye(l===void 0||l instanceof Uint8Array),gt.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const l=u.code===void 0?k.UNKNOWN:a2(u.code);return new V(l,u.message||"")}(o);n=new l2(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ud(t,r.document.name),s=Ln(r.document.updateTime),o=r.document.createTime?Ln(r.document.createTime):W.min(),a=new Yt({mapValue:{fields:r.document.fields}}),u=at.newFoundDocument(i,s,o,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new Zl(l,c,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ud(t,r.document),s=r.readTime?Ln(r.readTime):W.min(),o=at.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Zl([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ud(t,r.document),s=r.removedTargetIds||[];n=new Zl([],s,i,null)}else{if(!("filter"in e))return B();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new AM(i,s),a=r.targetId;n=new u2(a,o)}}return n}function zM(t,e){let n;if(e instanceof zu)n={update:xw(t,e.key,e.value)};else if(e instanceof o2)n={delete:Lm(t,e.key)};else if(e instanceof os)n={update:xw(t,e.key,e.data),updateMask:XM(e.fieldMask)};else{if(!(e instanceof kM))return B();n={verify:Lm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Kc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof gu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof vu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof qc)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw B()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:jM(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:B()}(t,e.precondition)),n}function BM(t,e){return t&&t.length>0?(ye(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Ln(r.updateTime):Ln(i);return s.isEqual(W.min())&&(s=Ln(i)),new CM(s,r.transformResults||[])}(n,e))):[]}function HM(t,e){return{documents:[Mm(t,e.path)]}}function WM(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Mm(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Mm(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(u.length!==0)return p2(jn.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(u.length!==0)return u.map(l=>function(c){return{field:ys(c.field),direction:qM(c.dir)}}(l))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Dm(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n}function GM(t){let e=UM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ye(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const h=d2(c);return h instanceof jn&&BI(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(h){return new ba(ws(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(c)));let a=null;n.limit&&(a=function(c){let h;return h=typeof c=="object"?c.value:c,pf(h)?null:h}(n.limit));let u=null;n.startAt&&(u=function(c){const h=!!c.before,f=c.values||[];return new Gc(f,h)}(n.startAt));let l=null;return n.endAt&&(l=function(c){const h=!c.before,f=c.values||[];return new Gc(f,h)}(n.endAt)),lM(e,i,o,s,a,"F",u,l)}function KM(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return B()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function d2(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=ws(e.unaryFilter.field);return Me.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=ws(e.unaryFilter.field);return Me.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ws(e.unaryFilter.field);return Me.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ws(e.unaryFilter.field);return Me.create(s,"!=",{nullValue:"NULL_VALUE"});default:return B()}}(t):t.fieldFilter!==void 0?function(e){return Me.create(ws(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return B()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return jn.create(e.compositeFilter.filters.map(n=>d2(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return B()}}(e.compositeFilter.op))}(t):B()}function qM(t){return DM[t]}function QM(t){return LM[t]}function YM(t){return MM[t]}function ys(t){return{fieldPath:t.canonicalString()}}function ws(t){return ut.fromServerFormat(t.fieldPath)}function p2(t){return t instanceof Me?function(e){if(e.op==="=="){if(mw(e.value))return{unaryFilter:{field:ys(e.field),op:"IS_NAN"}};if(pw(e.value))return{unaryFilter:{field:ys(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(mw(e.value))return{unaryFilter:{field:ys(e.field),op:"IS_NOT_NAN"}};if(pw(e.value))return{unaryFilter:{field:ys(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ys(e.field),op:QM(e.op),value:e.value}}}(t):t instanceof jn?function(e){const n=e.getFilters().map(r=>p2(r));return n.length===1?n[0]:{compositeFilter:{op:YM(e.op),filters:n}}}(t):B()}function XM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function m2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n,r,i,s=W.min(),o=W.min(),a=gt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Nr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e){this.fe=e}}function ZM(t){const e=GM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Pm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(){this.rn=new t3}addToCollectionParentIndex(e,n){return this.rn.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(ti.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(ti.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}}class t3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ft(ke.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ft(ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new fo(0)}static Mn(){return new fo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(){this.changes=new Po(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,at.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Aa(r.mutation,i,gn.empty(),je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,X()).next(()=>r))}getLocalViewOfDocuments(e,n,r=X()){const i=Oi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=da();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Oi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,X()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=cr();const o=xa(),a=xa();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof os)?s=s.insert(l.key,l):c!==void 0?(o.set(l.key,c.mutation.getFieldMask()),Aa(c.mutation,l,c.mutation.getFieldMask(),je.now())):o.set(l.key,gn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),n.forEach((l,c)=>{var h;return a.set(l,new r3(c,(h=o.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=xa();let i=new Ce((o,a)=>o-a),s=X();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||gn.empty();c=a.applyToLocalView(l,c),r.set(u,c);const h=(i.get(a.batchId)||X()).add(u);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,h=XI();c.forEach(f=>{if(!s.has(f)){const p=i2(n.get(f),r.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,h))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return U.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):fM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):x.resolve(Oi());let a=-1,u=s;return o.next(l=>x.forEach(l,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?x.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{u=u.insert(c,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,X())).next(c=>({batchId:a,changes:YI(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new U(n)).next(r=>{let i=da();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=da();return this.indexManager.getCollectionParents(e,i).next(o=>x.forEach(o,a=>{const u=function(l,c){return new mf(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r).next(l=>{l.forEach((c,h)=>{s=s.insert(c,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const l=u.getKey();s.get(l)===null&&(s=s.insert(l,at.newInvalidDocument(l)))});let o=da();return s.forEach((a,u)=>{const l=i.get(a);l!==void 0&&Aa(l.mutation,u,gn.empty(),je.now()),vf(n,u)&&(o=o.insert(a,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return x.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Ln(r.createTime)}),x.resolve()}getNamedQuery(e,n){return x.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:ZM(r.bundledQuery),readTime:Ln(r.readTime)}}(n)),x.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(){this.overlays=new Ce(U.comparator),this.ls=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Oi();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),x.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){const i=Oi(),s=n.length+1,o=new U(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ce((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=s.get(l.largestBatchId);c===null&&(c=Oi(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=Oi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return x.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new xM(n,r));let s=this.ls.get(n);s===void 0&&(s=X(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(){this.fs=new ft(Ve.ds),this.ws=new ft(Ve._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Ve(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Ve(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new U(new ke([])),r=new Ve(n,e),i=new Ve(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new U(new ke([])),r=new Ve(n,e),i=new Ve(n,e+1);let s=X();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ve(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ve{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return U.comparator(e.key,n.key)||ne(e.As,n.As)}static _s(e,n){return ne(e.As,n.As)||U.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new ft(Ve.ds)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new bM(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Ve(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ve(n,0),i=new Ve(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ft(ne);return n.forEach(i=>{const s=new Ve(i,0),o=new Ve(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),x.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;U.isDocumentKey(s)||(s=s.child(""));const o=new Ve(new U(s),0);let a=new ft(ne);return this.Rs.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.As)),!0)},o),x.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ye(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return x.forEach(n.mutations,i=>{const s=new Ve(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Ve(n,0),i=this.Rs.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e){this.Ds=e,this.docs=new Ce(U.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():at.newInvalidDocument(n))}getEntries(e,n){let r=cr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():at.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=cr();const o=n.path,a=new U(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||GL(WL(c),r)<=0||(i.has(c.key)||vf(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,n,r,i){B()}Cs(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new l3(this)}getSize(e){return x.resolve(this.size)}}class l3 extends n3{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e){this.persistence=e,this.xs=new Po(n=>Zv(n),ey),this.lastRemoteSnapshotVersion=W.min(),this.highestTargetId=0,this.Ns=0,this.ks=new oy,this.targetCount=0,this.Ms=fo.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),x.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new fo(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Fn(n),x.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),x.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,n){this.$s={},this.overlays={},this.Os=new Qv(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new c3(this),this.indexManager=new e3,this.remoteDocumentCache=function(r){return new u3(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new JM(n),this.qs=new s3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new o3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new a3(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){L("MemoryPersistence","Starting transaction:",e);const i=new f3(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return x.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class f3 extends qL{constructor(e){super(),this.currentSequenceNumber=e}}class ay{constructor(e){this.persistence=e,this.Qs=new oy,this.js=null}static zs(e){return new ay(e)}get Ws(){if(this.js)return this.js;throw B()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),x.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Ws,r=>{const i=U.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,W.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return x.or([()=>x.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=X(),i=X();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new uy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(ww(n))return x.resolve(null);let r=lr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Pm(n,null,"F"),r=lr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=X(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.ji(n,a);return this.zi(n,l,o,u.readTime)?this.Ki(e,Pm(n,null,"F")):this.Wi(e,l,n,u)}))})))}Gi(e,n,r,i){return ww(n)||i.isEqual(W.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(cw()<=te.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Nm(n)),this.Wi(e,o,n,HL(i,-1)))})}ji(e,n){let r=new ft(qI(e));return n.forEach((i,s)=>{vf(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return cw()<=te.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",Nm(n)),this.Ui.getDocumentsMatchingQuery(e,n,ti.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Ce(ne),this.Yi=new Po(s=>Zv(s),ey),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new i3(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function m3(t,e,n,r){return new p3(t,e,n,r)}async function g2(t,e){const n=G(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=X();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({er:l,removedBatchIds:o,addedBatchIds:a}))})})}function g3(t,e){const n=G(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,l){const c=u.batch,h=c.keys();let f=x.resolve();return h.forEach(p=>{f=f.next(()=>l.getEntry(a,p)).next(g=>{const v=u.docVersions.get(p);ye(v!==null),g.version.compareTo(v)<0&&(c.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),l.addEntry(g)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=X();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function v2(t){const e=G(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function v3(t,e){const n=G(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.Bs.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Bs.addMatchingKeys(s,c.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(gt.EMPTY_BYTE_STRING,W.min()).withLastLimboFreeSnapshotVersion(W.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(h,p),function(g,v,w){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,p,c)&&a.push(n.Bs.updateTargetData(s,p))});let u=cr(),l=X();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(y3(s,o,e.documentUpdates).next(c=>{u=c.nr,l=c.sr})),!r.isEqual(W.min())){const c=n.Bs.getLastRemoteSnapshotVersion(s).next(h=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return x.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.Ji=i,s))}function y3(t,e,n){let r=X(),i=X();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=cr();return n.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(W.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):L("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{nr:o,sr:i}})}function w3(t,e){const n=G(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _3(t,e){const n=G(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,x.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Nr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function jm(t,e,n){const r=G(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Vu(o))throw o;L("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function Aw(t,e,n){const r=G(t);let i=W.min(),s=X();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,l){const c=G(a),h=c.Yi.get(l);return h!==void 0?x.resolve(c.Ji.get(h)):c.Bs.getTargetData(u,l)}(r,o,lr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:W.min(),n?s:X())).next(a=>(E3(r,dM(e),a),{documents:a,ir:s})))}function E3(t,e,n){let r=t.Xi.get(e)||W.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}class Ow{constructor(){this.activeTargetIds=wM()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class S3{constructor(){this.Hr=new Ow,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Ow,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Al=null;function Vd(){return Al===null?Al=268435456+Math.round(2147483648*Math.random()):Al++,"0x"+Al.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt="WebChannelConnection";class $3 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=Vd(),a=this.To(e,n);L("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(l=>(L("RestConnection",`Received RPC '${e}' ${o}: `,l),l),l=>{throw uo("RestConnection",`RPC '${e}' ${o} failed with error: `,l,"url: ",a,"request:",r),l})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Oo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){const r=C3[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=Vd();return new Promise((o,a)=>{const u=new PL;u.setWithCredentials(!0),u.listenOnce(AL.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case jd.NO_ERROR:const c=u.getResponseJson();L(nt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case jd.TIMEOUT:L(nt,`RPC '${e}' ${s} timed out`),a(new V(k.DEADLINE_EXCEEDED,"Request time out"));break;case jd.HTTP_ERROR:const h=u.getStatus();if(L(nt,`RPC '${e}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let f=u.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const g=function(v){const w=v.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(w)>=0?w:k.UNKNOWN}(p.status);a(new V(g,p.message))}else a(new V(k.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new V(k.UNAVAILABLE,"Connection failed."));break;default:B()}}finally{L(nt,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);L(nt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Ro(e,n,r){const i=Vd(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=bL(),a=xL(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new RL({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=s.join("");L(nt,`Creating RPC '${e}' stream ${i}: ${c}`,u);const h=o.createWebChannel(c,u);let f=!1,p=!1;const g=new I3({ro:w=>{p?L(nt,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(f||(L(nt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),L(nt,`RPC '${e}' stream ${i} sending:`,w),h.send(w))},oo:()=>h.close()}),v=(w,m,d)=>{w.listen(m,y=>{try{d(y)}catch(S){setTimeout(()=>{throw S},0)}})};return v(h,$l.EventType.OPEN,()=>{p||L(nt,`RPC '${e}' stream ${i} transport opened.`)}),v(h,$l.EventType.CLOSE,()=>{p||(p=!0,L(nt,`RPC '${e}' stream ${i} transport closed`),g.wo())}),v(h,$l.EventType.ERROR,w=>{p||(p=!0,uo(nt,`RPC '${e}' stream ${i} transport errored:`,w),g.wo(new V(k.UNAVAILABLE,"The operation could not be completed")))}),v(h,$l.EventType.MESSAGE,w=>{var m;if(!p){const d=w.data[0];ye(!!d);const y=d,S=y.error||((m=y[0])===null||m===void 0?void 0:m.error);if(S){L(nt,`RPC '${e}' stream ${i} received error:`,S);const I=S.status;let C=function(R){const q=Re[R];if(q!==void 0)return a2(q)}(I),$=S.message;C===void 0&&(C=k.INTERNAL,$="Unknown error status: "+I+" with message "+S.message),p=!0,g.wo(new V(C,$)),h.close()}else L(nt,`RPC '${e}' stream ${i} received:`,d),g._o(d)}}),v(a,OL.STAT_EVENT,w=>{w.stat===uw.PROXY?L(nt,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===uw.NOPROXY&&L(nt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.fo()},0),g}}function zd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(t){return new FM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new y2(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(ur(n.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new V(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class k3 extends w2{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=VM(this.serializer,e),r=function(i){if(!("targetChange"in i))return W.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?W.min():s.readTime?Ln(s.readTime):W.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Fm(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Rm(a)?{documents:HM(i,a)}:{query:WM(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=c2(i,s.resumeToken);const u=Dm(i,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(W.min())>0){o.readTime=Qc(i,s.snapshotVersion.toTimestamp());const u=Dm(i,s.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const r=KM(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Fm(this.serializer),n.removeTarget=e,this.Wo(n)}}class b3 extends w2{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=BM(e.writeResults,e.commitTime),r=Ln(e.commitTime);return this.listener.cu(r,n)}return ye(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Fm(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>zM(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new V(k.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new V(k.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(k.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class A3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ur(n),this.mu=!1):L("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{as(this)&&(L("RemoteStore","Restarting streams for network reachability change."),await async function(a){const u=G(a);u.vu.add(4),await Hu(u),u.bu.set("Unknown"),u.vu.delete(4),await Sf(u)}(this))})}),this.bu=new A3(r,i)}}async function Sf(t){if(as(t))for(const e of t.Ru)await e(!0)}async function Hu(t){for(const e of t.Ru)await e(!1)}function _2(t,e){const n=G(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),hy(n)?cy(n):No(n).Ko()&&ly(n,e))}function E2(t,e){const n=G(t),r=No(n);n.Au.delete(e),r.Ko()&&S2(n,e),n.Au.size===0&&(r.Ko()?r.jo():as(n)&&n.bu.set("Unknown"))}function ly(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(W.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}No(t).su(e)}function S2(t,e){t.Vu.qt(e),No(t).iu(e)}function cy(t){t.Vu=new NM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),No(t).start(),t.bu.gu()}function hy(t){return as(t)&&!No(t).Uo()&&t.Au.size>0}function as(t){return G(t).vu.size===0}function T2(t){t.Vu=void 0}async function R3(t){t.Au.forEach((e,n)=>{ly(t,e)})}async function P3(t,e){T2(t),hy(t)?(t.bu.Iu(e),cy(t)):t.bu.set("Unknown")}async function N3(t,e,n){if(t.bu.set("Online"),e instanceof l2&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){L("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yc(t,r)}else if(e instanceof Zl?t.Vu.Ht(e):e instanceof u2?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(W.min()))try{const r=await v2(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const l=i.Au.get(u);l&&i.Au.set(u,l.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const l=i.Au.get(a);if(!l)return;i.Au.set(a,l.withResumeToken(gt.EMPTY_BYTE_STRING,l.snapshotVersion)),S2(i,a);const c=new Nr(l.target,a,u,l.sequenceNumber);ly(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){L("RemoteStore","Failed to raise snapshot:",r),await Yc(t,r)}}async function Yc(t,e,n){if(!Vu(e))throw e;t.vu.add(1),await Hu(t),t.bu.set("Offline"),n||(n=()=>v2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{L("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Sf(t)})}function C2(t,e){return e().catch(n=>Yc(t,n,e))}async function Tf(t){const e=G(t),n=ri(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;D3(e);)try{const i=await w3(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,L3(e,i)}catch(i){await Yc(e,i)}I2(e)&&$2(e)}function D3(t){return as(t)&&t.Eu.length<10}function L3(t,e){t.Eu.push(e);const n=ri(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function I2(t){return as(t)&&!ri(t).Uo()&&t.Eu.length>0}function $2(t){ri(t).start()}async function M3(t){ri(t).hu()}async function F3(t){const e=ri(t);for(const n of t.Eu)e.uu(n.mutations)}async function j3(t,e,n){const r=t.Eu.shift(),i=ny.from(r,e,n);await C2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Tf(t)}async function U3(t,e){e&&ri(t).ou&&await async function(n,r){if(i=r.code,OM(i)&&i!==k.ABORTED){const s=n.Eu.shift();ri(n).Qo(),await C2(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Tf(n)}var i}(t,e),I2(t)&&$2(t)}async function Pw(t,e){const n=G(t);n.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");const r=as(n);n.vu.add(3),await Hu(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Sf(n)}async function V3(t,e){const n=G(t);e?(n.vu.delete(2),await Sf(n)):e||(n.vu.add(2),await Hu(n),n.bu.set("Unknown"))}function No(t){return t.Su||(t.Su=function(e,n,r){const i=G(e);return i.fu(),new k3(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:R3.bind(null,t),ao:P3.bind(null,t),nu:N3.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),hy(t)?cy(t):t.bu.set("Unknown")):(await t.Su.stop(),T2(t))})),t.Su}function ri(t){return t.Du||(t.Du=function(e,n,r){const i=G(e);return i.fu(),new b3(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:M3.bind(null,t),ao:U3.bind(null,t),au:F3.bind(null,t),cu:j3.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Tf(t)):(await t.Du.stop(),t.Eu.length>0&&(L("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new fy(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dy(t,e){if(ur("AsyncQueue",`${e}: ${t}`),Vu(t))return new V(k.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.comparator=e?(n,r)=>e(n,r)||U.comparator(n.key,r.key):(n,r)=>U.comparator(n.key,r.key),this.keyedMap=da(),this.sortedSet=new Ce(this.comparator)}static emptySet(e){return new qs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new qs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(){this.Cu=new Ce(U.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):B():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class po{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new po(e,n,qs.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(){this.Nu=void 0,this.listeners=[]}}class B3{constructor(){this.queries=new Po(e=>KI(e),gf),this.onlineState="Unknown",this.ku=new Set}}async function H3(t,e){const n=G(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new z3),i)try{s.Nu=await n.onListen(r)}catch(o){const a=dy(o,`Initialization of query '${Nm(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&py(n)}async function W3(t,e){const n=G(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function G3(t,e){const n=G(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&py(n)}function K3(t,e,n){const r=G(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function py(t){t.ku.forEach(e=>{e.next()})}class q3{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new po(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this.key=e}}class b2{constructor(e){this.key=e}}class Q3{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=X(),this.mutatedKeys=X(),this.tc=qI(e),this.ec=new qs(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Nw,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const f=i.get(c),p=vf(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;f&&p?f.data.isEqual(p.data)?g!==v&&(r.track({type:3,doc:p}),w=!0):this.rc(f,p)||(r.track({type:2,doc:p}),w=!0,(u&&this.tc(p,u)>0||l&&this.tc(p,l)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),w=!0):f&&!p&&(r.track({type:1,doc:f}),w=!0,(u||l)&&(a=!0)),w&&(p?(o=o.add(p),s=v?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((l,c)=>function(h,f){const p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return B()}};return p(h)-p(f)}(l.type,c.type)||this.tc(l.doc,c.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,s.length!==0||u?{snapshot:new po(this.query,e.ec,i,s,e.mutatedKeys,a===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Nw,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=X(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new b2(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new k2(r))}),n}hc(e){this.Yu=e.ir,this.Zu=X();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return po.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class Y3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class X3{constructor(e){this.key=e,this.fc=!1}}class J3{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Po(a=>KI(a),gf),this._c=new Map,this.mc=new Set,this.gc=new Ce(U.comparator),this.yc=new Map,this.Ic=new oy,this.Tc={},this.Ec=new Map,this.Ac=fo.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function Z3(t,e){const n=lF(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await _3(n.localStore,lr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await eF(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&_2(n.remoteStore,o)}return i}async function eF(t,e,n,r,i){t.Rc=(h,f,p)=>async function(g,v,w,m){let d=v.view.sc(w);d.zi&&(d=await Aw(g.localStore,v.query,!1).then(({documents:I})=>v.view.sc(I,d)));const y=m&&m.targetChanges.get(v.targetId),S=v.view.applyChanges(d,g.isPrimaryClient,y);return Lw(g,v.targetId,S.cc),S.snapshot}(t,h,f,p);const s=await Aw(t.localStore,e,!0),o=new Q3(e,s.ir),a=o.sc(s.documents),u=Bu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);Lw(t,n,l.cc);const c=new Y3(e,n,o);return t.wc.set(e,c),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),l.snapshot}async function tF(t,e){const n=G(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!gf(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await jm(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),E2(n.remoteStore,r.targetId),Um(n,r.targetId)}).catch(Uu)):(Um(n,r.targetId),await jm(n.localStore,r.targetId,!0))}async function nF(t,e,n){const r=cF(t);try{const i=await function(s,o){const a=G(s),u=je.now(),l=o.reduce((f,p)=>f.add(p.key),X());let c,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=cr(),g=X();return a.Zi.getEntries(f,l).next(v=>{p=v,p.forEach((w,m)=>{m.isValidDocument()||(g=g.add(w))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,p)).next(v=>{c=v;const w=[];for(const m of o){const d=$M(m,c.get(m.key).overlayedDocument);d!=null&&w.push(new os(m.key,d,UI(d.value.mapValue),er.exists(!0)))}return a.mutationQueue.addMutationBatch(f,u,w,o)}).next(v=>{h=v;const w=v.applyToLocalDocumentSet(c,g);return a.documentOverlayCache.saveOverlays(f,v.batchId,w)})}).then(()=>({batchId:h.batchId,changes:YI(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.Tc[s.currentUser.toKey()];u||(u=new Ce(ne)),u=u.insert(o,a),s.Tc[s.currentUser.toKey()]=u}(r,i.batchId,n),await Wu(r,i.changes),await Tf(r.remoteStore)}catch(i){const s=dy(i,"Failed to persist write");n.reject(s)}}async function x2(t,e){const n=G(t);try{const r=await v3(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?ye(o.fc):i.removedDocuments.size>0&&(ye(o.fc),o.fc=!1))}),await Wu(n,r,e)}catch(r){await Uu(r)}}function Dw(t,e,n){const r=G(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=G(s);a.onlineState=o;let u=!1;a.queries.forEach((l,c)=>{for(const h of c.listeners)h.Mu(o)&&(u=!0)}),u&&py(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function rF(t,e,n){const r=G(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new Ce(U.comparator);o=o.insert(s,at.newNoDocument(s,W.min()));const a=X().add(s),u=new _f(W.min(),new Map,new Ce(ne),o,a);await x2(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),my(r)}else await jm(r.localStore,e,!1).then(()=>Um(r,e,n)).catch(Uu)}async function iF(t,e){const n=G(t),r=e.batch.batchId;try{const i=await g3(n.localStore,e);O2(n,r,null),A2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Wu(n,i)}catch(i){await Uu(i)}}async function sF(t,e,n){const r=G(t);try{const i=await function(s,o){const a=G(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return a.mutationQueue.lookupMutationBatch(u,o).next(c=>(ye(c!==null),l=c.keys(),a.mutationQueue.removeMutationBatch(u,c))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,l,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>a.localDocuments.getDocuments(u,l))})}(r.localStore,e);O2(r,e,n),A2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Wu(r,i)}catch(i){await Uu(i)}}function A2(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function O2(t,e,n){const r=G(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function Um(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||R2(t,r)})}function R2(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(E2(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),my(t))}function Lw(t,e,n){for(const r of n)r instanceof k2?(t.Ic.addReference(r.key,e),oF(t,r)):r instanceof b2?(L("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||R2(t,r.key)):B()}function oF(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(L("SyncEngine","New document in limbo: "+n),t.mc.add(r),my(t))}function my(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new U(ke.fromString(e)),r=t.Ac.next();t.yc.set(r,new X3(n)),t.gc=t.gc.insert(n,r),_2(t.remoteStore,new Nr(lr(ty(n.path)),r,"TargetPurposeLimboResolution",Qv.ct))}}async function Wu(t,e,n){const r=G(t),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l!=null&&l.fromCache?"not-current":"current"),l){i.push(l);const c=uy.Li(u.targetId,l);s.push(c)}}))}),await Promise.all(o),r.dc.nu(i),await async function(a,u){const l=G(a);try{await l.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>x.forEach(u,h=>x.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(c,h.targetId,f)).next(()=>x.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(c,h.targetId,f)))))}catch(c){if(!Vu(c))throw c;L("LocalStore","Failed to update sequence numbers: "+c)}for(const c of u){const h=c.targetId;if(!c.fromCache){const f=l.Ji.get(h),p=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(p);l.Ji=l.Ji.insert(h,g)}}}(r.localStore,s))}async function aF(t,e){const n=G(t);if(!n.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());const r=await g2(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new V(k.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Wu(n,r.er)}}function uF(t,e){const n=G(t),r=n.yc.get(e);if(r&&r.fc)return X().add(r.key);{let i=X();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function lF(t){const e=G(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=x2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rF.bind(null,e),e.dc.nu=G3.bind(null,e.eventManager),e.dc.Pc=K3.bind(null,e.eventManager),e}function cF(t){const e=G(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sF.bind(null,e),e}class Mw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ef(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return m3(this.persistence,new d3,e.initialUser,this.serializer)}createPersistence(e){return new h3(ay.zs,this.serializer)}createSharedClientState(e){return new S3}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class hF{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Dw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aF.bind(null,this.syncEngine),await V3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new B3}createDatastore(e){const n=Ef(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new $3(i));var i;return function(s,o,a,u){return new x3(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>Dw(this.syncEngine,a,0),o=Rw.D()?new Rw:new T3,new O3(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,l){const c=new J3(r,i,s,o,a,u);return l&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=G(e);L("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Hu(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ur("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=st.UNAUTHENTICATED,this.clientId=MI.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{L("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(L("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new V(k.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=dy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Bd(t,e){t.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await g2(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Fw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await mF(t);L("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Pw(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Pw(e.remoteStore,s)),t._onlineComponents=e}function pF(t){return t.name==="FirebaseError"?t.code===k.FAILED_PRECONDITION||t.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function mF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){L("FirestoreClient","Using user provided OfflineComponentProvider");try{await Bd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!pF(n))throw n;uo("Error using user provided cache. Falling back to memory cache: "+n),await Bd(t,new Mw)}}else L("FirestoreClient","Using default OfflineComponentProvider"),await Bd(t,new Mw);return t._offlineComponents}async function P2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(L("FirestoreClient","Using user provided OnlineComponentProvider"),await Fw(t,t._uninitializedComponentsProvider._online)):(L("FirestoreClient","Using default OnlineComponentProvider"),await Fw(t,new hF))),t._onlineComponents}function gF(t){return P2(t).then(e=>e.syncEngine)}async function vF(t){const e=await P2(t),n=e.eventManager;return n.onListen=Z3.bind(null,e.syncEngine),n.onUnlisten=tF.bind(null,e.syncEngine),n}function yF(t,e,n={}){const r=new Qr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,u){const l=new fF({next:h=>{s.enqueueAndForget(()=>W3(i,c));const f=h.docs.has(o);!f&&h.fromCache?u.reject(new V(k.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&a&&a.source==="server"?u.reject(new V(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),c=new q3(ty(o.path),l,{includeMetadataChanges:!0,Ku:!0});return H3(i,c)}(await vF(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wF(t,e,n){if(!n)throw new V(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _F(t,e,n,r){if(e===!0&&r===!0)throw new V(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Uw(t){if(!U.isDocumentKey(t))throw new V(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":B()}function yu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gy(t);throw new V(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new V(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new V(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_F("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=N2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new V(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new V(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new V(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class vy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new V(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new V(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vw(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new DL;switch(n.type){case"firstParty":return new jL(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new V(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=jw.get(e);n&&(L("ComponentProvider","Removing Datastore"),jw.delete(e),n.terminate())}(this),Promise.resolve()}}function EF(t,e,n,r={}){var i;const s=(t=yu(t,vy))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=st.MOCK_USER;else{a=uN(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new V(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new st(l)}t._authCredentials=new LL(new LI(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zt(this.firestore,e,this._key)}}class yy{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yy(this.firestore,e,this._query)}}class wu extends yy{constructor(e,n,r){super(e,n,ty(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new U(e))}withConverter(e){return new wu(this.firestore,e,this._path)}}function Ri(t,e,...n){if(t=mt(t),arguments.length===1&&(e=MI.A()),wF("doc","path",e),t instanceof vy){const r=ke.fromString(e,...n);return Uw(r),new Zt(t,null,new U(r))}{if(!(t instanceof Zt||t instanceof wu))throw new V(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return Uw(r),new Zt(t.firestore,t instanceof wu?t.converter:null,new U(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new y2(this,"async_queue_retry"),this.Xc=()=>{const n=zd();n&&L("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=zd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=zd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Qr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Vu(e))throw e;L("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw ur("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=fy.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&B()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class wy extends vy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new SF,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||L2(this),this._firestoreClient.terminate()}}function TF(t,e){const n=typeof t=="object"?t:RC(),r=typeof t=="string"?t:"(default)",i=$v(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=oN("firestore");s&&EF(i,...s)}return i}function D2(t){return t._firestoreClient||L2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function L2(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,u,l){return new XL(o,a,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,N2(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new dF(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mo(gt.fromBase64String(e))}catch(n){throw new V(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new mo(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new V(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new V(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new V(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ne(this._lat,e._lat)||ne(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF=/^__.*__$/;class IF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new os(e,this.data,this.fieldMask,n,this.fieldTransforms):new zu(e,this.data,n,this.fieldTransforms)}}function F2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw B()}}class Sy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Sy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Xc(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(F2(this.ca)&&CF.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class $F{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ef(e)}ya(e,n,r,i=!1){return new Sy({ca:e,methodName:n,ga:r,path:ut.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kF(t){const e=t._freezeSettings(),n=Ef(t._databaseId);return new $F(t._databaseId,!!e.ignoreUndefinedProperties,n)}function bF(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);z2("Data must be an object, but it was:",o,r);const a=U2(r,o);let u,l;if(s.merge)u=new gn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=xF(e,h,n);if(!o.contains(f))throw new V(k.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);OF(c,f)||c.push(f)}u=new gn(c),l=o.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,l=o.fieldTransforms;return new IF(new Yt(a),u,l)}function j2(t,e){if(V2(t=mt(t)))return z2("Unsupported field value:",e,t),U2(t,e);if(t instanceof M2)return function(n,r){if(!F2(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=j2(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=mt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return _M(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=je.fromDate(n);return{timestampValue:Qc(r.serializer,i)}}if(n instanceof je){const i=new je(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Qc(r.serializer,i)}}if(n instanceof Ey)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof mo)return{bytesValue:c2(r.serializer,n._byteString)};if(n instanceof Zt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:sy(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${gy(n)}`)}(t,e)}function U2(t,e){const n={};return FI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ro(t,(r,i)=>{const s=j2(i,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function V2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof je||t instanceof Ey||t instanceof mo||t instanceof Zt||t instanceof M2)}function z2(t,e,n){if(!V2(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=gy(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function xF(t,e,n){if((e=mt(e))instanceof _y)return e._internalPath;if(typeof e=="string")return B2(t,e);throw Xc("Field path arguments must be of type string or ",t,!1,void 0,n)}const AF=new RegExp("[~\\*/\\[\\]]");function B2(t,e,n){if(e.search(AF)>=0)throw Xc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _y(...e.split("."))._internalPath}catch{throw Xc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new V(k.INVALID_ARGUMENT,a+t+u)}function OF(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(W2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class RF extends H2{data(){return super.data()}}function W2(t,e){return typeof e=="string"?B2(t,e):e instanceof _y?e._internalPath:e._delegate._internalPath}class PF{convertValue(e,n="none"){switch(Xi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ne(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw B()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ro(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Ey(Ne(e.latitude),Ne(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Xv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(du(e));default:return null}}convertTimestamp(e){const n=ni(e);return new je(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ke.fromString(e);ye(m2(r));const i=new pu(r.get(1),r.get(3)),s=new U(r.popFirst(5));return i.isEqual(n)||ur(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NF(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class G2 extends H2{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new LF(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(W2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class LF extends G2{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(t){t=yu(t,Zt);const e=yu(t.firestore,wy);return yF(D2(e),t._key).then(n=>UF(e,t,n))}class MF extends PF{constructor(e){super(),this.firestore=e}convertBytes(e){return new mo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,n)}}function FF(t,e,n){t=yu(t,Zt);const r=yu(t.firestore,wy),i=NF(t.converter,e);return jF(r,[bF(kF(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,er.none())])}function jF(t,e){return function(n,r){const i=new Qr;return n.asyncQueue.enqueueAndForget(async()=>nF(await gF(n),r,i)),i.promise}(D2(t),e)}function UF(t,e,n){const r=n.docs.get(e._key),i=new MF(t);return new G2(t,i,e._key,r,new DF(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Oo=n})(bo),oo(new Ki("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new wy(new ML(n.getProvider("auth-internal")),new VL(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new V(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pu(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),qr(lw,"3.13.0",t),qr(lw,"3.13.0","esm2017")})();var VF="firebase",zF="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr(VF,zF,"app");function Ty(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function K2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BF=K2,q2=new Ru("auth","Firebase",K2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=new Cv("@firebase/auth");function HF(t,...e){Jc.logLevel<=te.WARN&&Jc.warn(`Auth (${bo}): ${t}`,...e)}function ec(t,...e){Jc.logLevel<=te.ERROR&&Jc.error(`Auth (${bo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(t,...e){throw Cy(t,...e)}function Lt(t,...e){return Cy(t,...e)}function Q2(t,e,n){const r=Object.assign(Object.assign({},BF()),{[e]:n});return new Ru("auth","Firebase",r).create(e,{appName:t.name})}function WF(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&nn(t,"argument-error"),Q2(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Cy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return q2.create(t,...e)}function D(t,e,...n){if(!t)throw Cy(e,...n)}function Xn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ec(e),new Error(e)}function hr(t,e){t||Xn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Y2(){return zw()==="http:"||zw()==="https:"}function zw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Y2()||cN()||"connection"in navigator)?navigator.onLine:!0}function KF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n){this.shortDelay=e,this.longDelay=n,hr(n>e,"Short delay should be less than long delay!"),this.isMobile=lN()||hN()}get(){return GF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(t,e){hr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Xn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Xn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Xn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QF=new Gu(3e4,6e4);function Bt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function sn(t,e,n,r,i={}){return J2(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ko(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),X2.fetch()(Z2(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function J2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},qF),e);try{const i=new YF(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ma(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ma(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw ma(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw ma(t,"user-disabled",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Q2(t,c,l);nn(t,c)}}catch(i){if(i instanceof mr)throw i;nn(t,"network-request-failed",{message:String(i)})}}async function hi(t,e,n,r,i={}){const s=await sn(t,e,n,r,i);return"mfaPendingCredential"in s&&nn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Z2(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Iy(t.config,i):`${t.config.apiScheme}://${i}`}class YF{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Lt(this.auth,"network-request-failed")),QF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ma(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Lt(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XF(t,e){return sn(t,"POST","/v1/accounts:delete",e)}async function JF(t,e){return sn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZF(t,e=!1){const n=mt(t),r=await n.getIdToken(e),i=$y(r);D(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Oa(Hd(i.auth_time)),issuedAtTime:Oa(Hd(i.iat)),expirationTime:Oa(Hd(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Hd(t){return Number(t)*1e3}function $y(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ec("JWT malformed, contained fewer than 3 sections"),null;try{const i=IC(n);return i?JSON.parse(i):(ec("Failed to decode base64 JWT payload"),null)}catch(i){return ec("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function e4(t){const e=$y(t);return D(e,"internal-error"),D(typeof e.exp<"u","internal-error"),D(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof mr&&t4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function t4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oa(this.lastLoginAt),this.creationTime=Oa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await go(t,JF(n,{idToken:r}));D(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?s4(s.providerUserInfo):[],a=i4(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=u?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new e$(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function r4(t){const e=mt(t);await Zc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function i4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function s4(t){return t.map(e=>{var{providerId:n}=e,r=Ty(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4(t,e){const n=await J2(t,{},async()=>{const r=ko({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Z2(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",X2.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){D(e.idToken,"internal-error"),D(typeof e.idToken<"u","internal-error"),D(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):e4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return D(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await o4(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new _u;return r&&(D(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(D(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(D(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _u,this.toJSON())}_performRefresh(){return Xn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(t,e){D(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Ty(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new n4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new e$(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await go(this,this.stsTokenManager.getToken(this.auth,e));return D(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ZF(this,e)}reload(){return r4(this)}_assign(e){this!==e&&(D(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){D(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Zc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await go(this,XF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,m=(l=n.createdAt)!==null&&l!==void 0?l:void 0,d=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:y,emailVerified:S,isAnonymous:I,providerData:C,stsTokenManager:$}=n;D(y&&$,e,"internal-error");const R=_u.fromJSON(this.name,$);D(typeof y=="string",e,"internal-error"),Er(h,e.name),Er(f,e.name),D(typeof S=="boolean",e,"internal-error"),D(typeof I=="boolean",e,"internal-error"),Er(p,e.name),Er(g,e.name),Er(v,e.name),Er(w,e.name),Er(m,e.name),Er(d,e.name);const q=new Fi({uid:y,auth:e,email:f,emailVerified:S,displayName:h,isAnonymous:I,photoURL:g,phoneNumber:p,tenantId:v,stsTokenManager:R,createdAt:m,lastLoginAt:d});return C&&Array.isArray(C)&&(q.providerData=C.map(F=>Object.assign({},F))),w&&(q._redirectEventId=w),q}static async _fromIdTokenResponse(e,n,r=!1){const i=new _u;i.updateFromServerResponse(n);const s=new Fi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Zc(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=new Map;function Jn(t){hr(t instanceof Function,"Expected a class definition");let e=Bw.get(t);return e?(hr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Bw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}t$.type="NONE";const Hw=t$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(t,e,n){return`firebase:${t}:${e}:${n}`}class Qs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=tc(this.userKey,i.apiKey,s),this.fullPersistenceKey=tc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Fi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Qs(Jn(Hw),e,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||Jn(Hw);const o=tc(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const c=await l._get(o);if(c){const h=Fi._fromJSON(e,c);l!==s&&(a=h),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Qs(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new Qs(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(i$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(n$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(o$(e))return"Blackberry";if(a$(e))return"Webos";if(ky(e))return"Safari";if((e.includes("chrome/")||r$(e))&&!e.includes("edge/"))return"Chrome";if(s$(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function n$(t=pt()){return/firefox\//i.test(t)}function ky(t=pt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function r$(t=pt()){return/crios\//i.test(t)}function i$(t=pt()){return/iemobile/i.test(t)}function s$(t=pt()){return/android/i.test(t)}function o$(t=pt()){return/blackberry/i.test(t)}function a$(t=pt()){return/webos/i.test(t)}function Cf(t=pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function a4(t=pt()){var e;return Cf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function u4(){return fN()&&document.documentMode===10}function u$(t=pt()){return Cf(t)||s$(t)||a$(t)||o$(t)||/windows phone/i.test(t)||i$(t)}function l4(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l$(t,e=[]){let n;switch(t){case"Browser":n=Ww(pt());break;case"Worker":n=`${Ww(pt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bo}/${r}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c4(t){return(await sn(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function c$(t,e){return sn(t,"GET","/v2/recaptchaConfig",Bt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(t){return t!==void 0&&t.getResponse!==void 0}function Kw(t){return t!==void 0&&t.enterprise!==void 0}class h${constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function by(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Lt("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",h4().appendChild(r)})}function f$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const f4="https://www.google.com/recaptcha/enterprise.js?render=",d4="recaptcha-enterprise",p4="NO_RECAPTCHA";class d${constructor(e){this.type=d4,this.auth=En(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{c$(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const l=new h$(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})})}function i(s,o,a){const u=window.grecaptcha;Kw(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(p4)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Kw(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}by(f4+a).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function vo(t,e,n,r=!1){const i=new d$(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qw(this),this.idTokenSubscription=new qw(this),this.beforeStateQueue=new m4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Jn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Qs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return D(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Zc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?mt(e):null;return n&&D(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&D(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Jn(e))})}async initializeRecaptchaConfig(){const e=await c$(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new h$(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new d$(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ru("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Jn(e)||this._popupRedirectResolver;D(n,this,"argument-error"),this.redirectPersistenceManager=await Qs.create(this,[Jn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return D(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return D(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=l$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&HF(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function En(t){return mt(t)}class qw{constructor(e){this.auth=e,this.observer=null,this.addObserver=wN(n=>this.observer=n)}get next(){return D(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(t,e){const n=$v(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Lc(s,e??{}))return i;nn(i,"already-initialized")}return n.initialize({options:e})}function y4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Jn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function w4(t,e,n){const r=En(t);D(r._canInitEmulator,r,"emulator-config-failed"),D(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=p$(e),{host:o,port:a}=_4(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),E4()}function p$(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _4(t){const e=p$(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Qw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Qw(o)}}}function Qw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function E4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xn("not implemented")}_getIdTokenResponse(e){return Xn("not implemented")}_linkToIdToken(e,n){return Xn("not implemented")}_getReauthenticationResolver(e){return Xn("not implemented")}}async function S4(t,e){return sn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wd(t,e){return hi(t,"POST","/v1/accounts:signInWithPassword",Bt(t,e))}async function T4(t,e){return sn(t,"POST","/v1/accounts:sendOobCode",Bt(t,e))}async function Gd(t,e){return T4(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(t,e){return hi(t,"POST","/v1/accounts:signInWithEmailLink",Bt(t,e))}async function I4(t,e){return hi(t,"POST","/v1/accounts:signInWithEmailLink",Bt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends If{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Eu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Eu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await vo(e,r,"signInWithPassword");return Wd(e,i)}else return Wd(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await vo(e,r,"signInWithPassword");return Wd(e,s)}else return Promise.reject(i)});case"emailLink":return C4(e,{email:this._email,oobCode:this._password});default:nn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return S4(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return I4(e,{idToken:n,email:this._email,oobCode:this._password});default:nn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ys(t,e){return hi(t,"POST","/v1/accounts:signInWithIdp",Bt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4="http://localhost";class Ji extends If{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ji(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):nn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Ty(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ji(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ys(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ys(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ys(e,n)}buildRequest(){const e={requestUri:$4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ko(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k4(t,e){return sn(t,"POST","/v1/accounts:sendVerificationCode",Bt(t,e))}async function b4(t,e){return hi(t,"POST","/v1/accounts:signInWithPhoneNumber",Bt(t,e))}async function x4(t,e){const n=await hi(t,"POST","/v1/accounts:signInWithPhoneNumber",Bt(t,e));if(n.temporaryProof)throw ma(t,"account-exists-with-different-credential",n);return n}const A4={USER_NOT_FOUND:"user-not-found"};async function O4(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return hi(t,"POST","/v1/accounts:signInWithPhoneNumber",Bt(t,n),A4)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends If{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new ji({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new ji({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return b4(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return x4(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return O4(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new ji({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function P4(t){const e=la(ca(t)).link,n=e?la(ca(e)).deep_link_id:null,r=la(ca(t)).deep_link_id;return(r?la(ca(r)).link:null)||r||n||e||t}class xy{constructor(e){var n,r,i,s,o,a;const u=la(ca(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,c=(r=u.oobCode)!==null&&r!==void 0?r:null,h=R4((i=u.mode)!==null&&i!==void 0?i:null);D(l&&c&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=c,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=P4(e);try{return new xy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.providerId=Do.PROVIDER_ID}static credential(e,n){return Eu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=xy.parseLink(n);return D(r,"argument-error"),Eu._fromEmailAndCode(e,r.code,r.tenantId)}}Do.PROVIDER_ID="password";Do.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Do.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends Ay{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends Ku{constructor(){super("facebook.com")}static credential(e){return Ji._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return br.credential(e.oauthAccessToken)}catch{return null}}}br.FACEBOOK_SIGN_IN_METHOD="facebook.com";br.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn extends Ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ji._fromParams({providerId:Gn.PROVIDER_ID,signInMethod:Gn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gn.credentialFromTaggedObject(e)}static credentialFromError(e){return Gn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Gn.credential(n,r)}catch{return null}}}Gn.GOOGLE_SIGN_IN_METHOD="google.com";Gn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends Ku{constructor(){super("github.com")}static credential(e){return Ji._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xr.credential(e.oauthAccessToken)}catch{return null}}}xr.GITHUB_SIGN_IN_METHOD="github.com";xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends Ku{constructor(){super("twitter.com")}static credential(e,n){return Ji._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ar.credential(n,r)}catch{return null}}}Ar.TWITTER_SIGN_IN_METHOD="twitter.com";Ar.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kd(t,e){return hi(t,"POST","/v1/accounts:signUp",Bt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Fi._fromIdTokenResponse(e,r,i),o=Yw(r);return new Zi({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Yw(r);return new Zi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Yw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh extends mr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,eh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new eh(e,n,r,i)}}function m$(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?eh._fromErrorAndOperation(t,s,e,r):s})}async function g$(t,e,n=!1){const r=await go(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Zi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await go(t,m$(r,i,e,t),n);D(s.idToken,r,"internal-error");const o=$y(s.idToken);D(o,r,"internal-error");const{sub:a}=o;return D(t.uid===a,r,"user-mismatch"),Zi._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&nn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v$(t,e,n=!1){const r="signIn",i=await m$(t,r,e),s=await Zi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function y$(t,e){return v$(En(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zee(t,e,n){var r;const i=En(t),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const o=await vo(i,s,"getOobCode",!0);await Gd(i,o)}else await Gd(i,s).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await vo(i,s,"getOobCode",!0);await Gd(i,a)}else return Promise.reject(o)})}async function D4(t,e,n){var r;const i=En(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const l=await vo(i,s,"signUpPassword");o=Kd(i,l)}else o=Kd(i,s).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await vo(i,s,"signUpPassword");return Kd(i,c)}else return Promise.reject(l)});const a=await o.catch(l=>Promise.reject(l)),u=await Zi._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(u.user),u}function L4(t,e,n){return y$(mt(t),Do.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M4(t,e){return sn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F4(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=mt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await go(r,M4(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:u})=>u==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function j4(t,e,n,r){return mt(t).onIdTokenChanged(e,n,r)}function U4(t,e,n){return mt(t).beforeAuthStateChanged(e,n)}function V4(t,e,n,r){return mt(t).onAuthStateChanged(e,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(t,e){return sn(t,"POST","/v2/accounts/mfaEnrollment:start",Bt(t,e))}const th="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(th,"1"),this.storage.removeItem(th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(){const t=pt();return ky(t)||Cf(t)}const H4=1e3,W4=10;class _$ extends w${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=B4()&&l4(),this.fallbackToPolling=u$(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);u4()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,W4):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},H4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_$.type="LOCAL";const G4=_$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E$ extends w${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}E$.type="SESSION";const S$=E$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new $f(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async l=>l(n.origin,s)),u=await K4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$f.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const l=Oy("",20);i.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(){return window}function Q4(t){Pe().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(){return typeof Pe().WorkerGlobalScope<"u"&&typeof Pe().importScripts=="function"}async function Y4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function X4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function J4(){return Ry()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T$="firebaseLocalStorageDb",Z4=1,nh="firebaseLocalStorage",C$="fbase_key";class qu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kf(t,e){return t.transaction([nh],e?"readwrite":"readonly").objectStore(nh)}function ej(){const t=indexedDB.deleteDatabase(T$);return new qu(t).toPromise()}function zm(){const t=indexedDB.open(T$,Z4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(nh,{keyPath:C$})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(nh)?e(r):(r.close(),await ej(),e(await zm()))})})}async function Xw(t,e,n){const r=kf(t,!0).put({[C$]:e,value:n});return new qu(r).toPromise()}async function tj(t,e){const n=kf(t,!1).get(e),r=await new qu(n).toPromise();return r===void 0?null:r.value}function Jw(t,e){const n=kf(t,!0).delete(e);return new qu(n).toPromise()}const nj=800,rj=3;class I${constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>rj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ry()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$f._getInstance(J4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Y4(),!this.activeServiceWorker)return;this.sender=new q4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||X4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zm();return await Xw(e,th,"1"),await Jw(e,th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Xw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>tj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Jw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=kf(i,!1).getAll();return new qu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}I$.type="LOCAL";const ij=I$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(t,e){return sn(t,"POST","/v2/accounts/mfaSignIn:start",Bt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj=500,aj=6e4,Ol=1e12;class uj{constructor(e){this.auth=e,this.counter=Ol,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new lj(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||Ol;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||Ol;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||Ol;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class lj{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;D(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=cj(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},aj)},oj))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function cj(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd=f$("rcb"),hj=new Gu(3e4,6e4),fj="https://www.google.com/recaptcha/api.js?";class dj{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Pe().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return D(pj(n),e,"argument-error"),this.shouldResolveImmediately(n)&&Gw(Pe().grecaptcha)?Promise.resolve(Pe().grecaptcha):new Promise((r,i)=>{const s=Pe().setTimeout(()=>{i(Lt(e,"network-request-failed"))},hj.get());Pe()[qd]=()=>{Pe().clearTimeout(s),delete Pe()[qd];const a=Pe().grecaptcha;if(!a||!Gw(a)){i(Lt(e,"internal-error"));return}const u=a.render;a.render=(l,c)=>{const h=u(l,c);return this.counter++,h},this.hostLanguage=n,r(a)};const o=`${fj}?${ko({onload:qd,render:"explicit",hl:n})}`;by(o).catch(()=>{clearTimeout(s),i(Lt(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=Pe().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function pj(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class mj{async load(e){return new uj(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$="recaptcha",gj={theme:"light",type:"image"};class vj{constructor(e,n=Object.assign({},gj),r){this.parameters=n,this.type=$$,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=En(r),this.isInvisible=this.parameters.size==="invisible",D(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof e=="string"?document.getElementById(e):e;D(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new mj:new dj,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){D(!this.parameters.sitekey,this.auth,"argument-error"),D(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),D(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=Pe()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){D(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){D(Y2()&&!Ry(),this.auth,"internal-error"),await yj(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await c4(this.auth);D(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return D(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function yj(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=ji._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function _j(t,e,n){const r=En(t),i=await k$(r,e,mt(n));return new wj(i,s=>y$(r,s))}async function k$(t,e,n){var r;const i=await n.verify();try{D(typeof i=="string",t,"argument-error"),D(n.type===$$,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return D(o.type==="enroll",t,"internal-error"),(await z4(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{D(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return D(a,t,"missing-multi-factor-info"),(await sj(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await k4(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function Ej(t,e){await g$(mt(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.providerId=Yr.PROVIDER_ID,this.auth=En(e)}verifyPhoneNumber(e,n){return k$(this.auth,e,mt(n))}static credential(e,n){return ji._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Yr.credentialFromTaggedObject(n)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?ji._fromTokenResponse(n,r):null}}Yr.PROVIDER_ID="phone";Yr.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(t,e){return e?Jn(e):(D(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py extends If{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ys(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ys(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ys(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Sj(t){return v$(t.auth,new Py(t),t.bypassAuthState)}function Tj(t){const{auth:e,user:n}=t;return D(n,e,"internal-error"),N4(n,new Py(t),t.bypassAuthState)}async function Cj(t){const{auth:e,user:n}=t;return D(n,e,"internal-error"),g$(n,new Py(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x${constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Sj;case"linkViaPopup":case"linkViaRedirect":return Cj;case"reauthViaPopup":case"reauthViaRedirect":return Tj;default:nn(this.auth,"internal-error")}}resolve(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij=new Gu(2e3,1e4);async function $j(t,e,n){const r=En(t);WF(t,e,Ay);const i=b$(r,n);return new Pi(r,"signInViaPopup",e,i).executeNotNull()}class Pi extends x${constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Pi.currentPopupAction&&Pi.currentPopupAction.cancel(),Pi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return D(e,this.auth,"internal-error"),e}async onExecution(){hr(this.filter.length===1,"Popup operations only handle one event");const e=Oy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Lt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Lt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ij.get())};e()}}Pi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj="pendingRedirect",nc=new Map;class bj extends x${constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=nc.get(this.auth._key());if(!e){try{const r=await xj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}nc.set(this.auth._key(),e)}return this.bypassAuthState||nc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xj(t,e){const n=Rj(e),r=Oj(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Aj(t,e){nc.set(t._key(),e)}function Oj(t){return Jn(t._redirectPersistence)}function Rj(t){return tc(kj,t.config.apiKey,t.name)}async function Pj(t,e,n=!1){const r=En(t),i=b$(r,e),o=await new bj(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=10*60*1e3;class Dj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Lj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!A$(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Lt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Nj&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zw(e))}saveEventToCache(e){this.cachedEventUids.add(Zw(e)),this.lastProcessedEventTime=Date.now()}}function Zw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function A$({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Lj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return A$(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mj(t,e={}){return sn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jj=/^https?/;async function Uj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Mj(t);for(const n of e)try{if(Vj(n))return}catch{}nn(t,"unauthorized-domain")}function Vj(t){const e=Vm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!jj.test(n))return!1;if(Fj.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj=new Gu(3e4,6e4);function e_(){const t=Pe().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Bj(t){return new Promise((e,n)=>{var r,i,s;function o(){e_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{e_(),n(Lt(t,"network-request-failed"))},timeout:zj.get()})}if(!((i=(r=Pe().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Pe().gapi)===null||s===void 0)&&s.load)o();else{const a=f$("iframefcb");return Pe()[a]=()=>{gapi.load?o():n(Lt(t,"network-request-failed"))},by(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw rc=null,e})}let rc=null;function Hj(t){return rc=rc||Bj(t),rc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj=new Gu(5e3,15e3),Gj="__/auth/iframe",Kj="emulator/auth/iframe",qj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yj(t){const e=t.config;D(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Iy(e,Kj):`https://${t.config.authDomain}/${Gj}`,r={apiKey:e.apiKey,appName:t.name,v:bo},i=Qj.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ko(r).slice(1)}`}async function Xj(t){const e=await Hj(t),n=Pe().gapi;return D(n,t,"internal-error"),e.open({where:document.body,url:Yj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qj,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Lt(t,"network-request-failed"),a=Pe().setTimeout(()=>{s(o)},Wj.get());function u(){Pe().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zj=500,e5=600,t5="_blank",n5="http://localhost";class t_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function r5(t,e,n,r=Zj,i=e5){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Jj),{width:r.toString(),height:i.toString(),top:s,left:o}),l=pt().toLowerCase();n&&(a=r$(l)?t5:n),n$(l)&&(e=e||n5,u.scrollbars="yes");const c=Object.entries(u).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(a4(l)&&a!=="_self")return i5(e||"",a),new t_(null);const h=window.open(e||"",a,c);D(h,t,"popup-blocked");try{h.focus()}catch{}return new t_(h)}function i5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5="__/auth/handler",o5="emulator/auth/handler",a5=encodeURIComponent("fac");async function n_(t,e,n,r,i,s){D(t.config.authDomain,t,"auth-domain-config-required"),D(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:bo,eventId:i};if(e instanceof Ay){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",yN(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries({}))o[c]=h}if(e instanceof Ku){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const u=await t._getAppCheckToken(),l=u?`#${a5}=${encodeURIComponent(u)}`:"";return`${u5(t)}?${ko(a).slice(1)}${l}`}function u5({config:t}){return t.emulator?Iy(t,o5):`https://${t.authDomain}/${s5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd="webStorageSupport";class l5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=S$,this._completeRedirectFn=Pj,this._overrideRedirectResult=Aj}async _openPopup(e,n,r,i){var s;hr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await n_(e,n,r,Vm(),i);return r5(e,o,Oy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await n_(e,n,r,Vm(),i);return Q4(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(hr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Xj(e),r=new Dj(e);return n.register("authEvent",i=>(D(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Qd,{type:Qd},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Qd];o!==void 0&&n(!!o),nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Uj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return u$()||ky()||Cf()}}const c5=l5;var r_="@firebase/auth",i_="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){D(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function d5(t){oo(new Ki("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;D(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:l$(t)},l=new g4(r,i,s,u);return y4(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),oo(new Ki("auth-internal",e=>{const n=En(e.getProvider("auth").getImmediate());return(r=>new h5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qr(r_,i_,f5(t)),qr(r_,i_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5=5*60,m5=bC("authIdTokenMaxAge")||p5;let s_=null;const g5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>m5)return;const i=n==null?void 0:n.token;s_!==i&&(s_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function v5(t=RC()){const e=$v(t,"auth");if(e.isInitialized())return e.getImmediate();const n=v4(t,{popupRedirectResolver:c5,persistence:[ij,G4,S$]}),r=bC("authTokenSyncURL");if(r){const s=g5(r);U4(n,s,()=>s(n.currentUser)),j4(n,o=>s(o))}const i=$C("auth");return i&&w4(n,`http://${i}`),n}d5("Browser");const y5={apiKey:"AIzaSyAvwaOGIaJtrV2lAjnToBezGJWrZL8aQ2A",authDomain:"sushidream-auth.firebaseapp.com",databaseURL:"https://sushidream-auth-default-rtdb.europe-west1.firebasedatabase.app",projectId:"sushidream-auth",storageBucket:"sushidream-auth.appspot.com",messagingSenderId:"276930790535",appId:"1:276930790535:web:ac7e1e033ccfd7d35d6422",measurementId:"G-NKXFN6JZWM"},O$=OC(y5),Ni=TF(O$),it=v5(O$),w5={cartItems:[],count:0,discount:0,totalPrice:0,cartStatus:$e.LOADING},bf=rs({name:"cart",initialState:w5,reducers:{fetchCart(t){t.cartItems=JSON.parse(localStorage.getItem("cart")??"[]"),t.count=Number(localStorage.getItem("count"))??0,t.totalPrice=Number(localStorage.getItem("totalPrice")),t.discount=Number(localStorage.getItem("discount"))??0},addToCart(t,e){const n=JSON.parse(localStorage.getItem("cart")??"[]"),r=t.cartItems.find(i=>i.id===e.payload.id);r||(t.cartItems=[...t.cartItems,e.payload],localStorage.setItem("cart",JSON.stringify([...n,e.payload])),t.count=++t.count,localStorage.setItem("count",`${t.count}`)),r&&r.count>=1&&(t.count=++t.count,localStorage.setItem("count",`${t.count}`),t.cartItems=t.cartItems.map(i=>i.id===e.payload.id?{...i,count:i.count+1}:i),localStorage.setItem("cart",JSON.stringify(n.map(i=>i.id===e.payload.id?{...i,count:i.count+1}:i)))),t.totalPrice=t.cartItems.reduce((i,s)=>i+s.price*s.count,0),localStorage.setItem("totalPrice",`${t.totalPrice}`)},removeFromCart(t,e){let n=JSON.parse(localStorage.getItem("cart")??"[]");const r=t.cartItems.find(i=>i.id===e.payload);r&&r.count>1&&(t.count=--t.count,localStorage.setItem("count",`${t.count}`),t.cartItems=t.cartItems.map(i=>i.id===e.payload?{...i,count:i.count-1}:i),localStorage.setItem("cart",JSON.stringify(n.map(i=>i.id===e.payload?{...i,count:i.count-1}:i)))),r&&r.count===1&&(t.count=--t.count,localStorage.setItem("count",`${t.count}`),n=n.filter(i=>i.id!==e.payload),t.cartItems=n,localStorage.setItem("cart",JSON.stringify(n))),t.totalPrice=t.cartItems.reduce((i,s)=>i+s.price*s.count,0),localStorage.setItem("totalPrice",`${t.totalPrice}`)},clearCart(t){localStorage.removeItem("cart"),localStorage.removeItem("count"),localStorage.removeItem("discount"),localStorage.removeItem("totalPrice"),t.cartItems=[],t.count=0,t.totalPrice=0},setDiscount(t){t.discount=10,localStorage.setItem("discount","10")}}}),R$=()=>{const t=is(),{fetchCart:e,addToCart:n,removeFromCart:r,clearCart:i,setDiscount:s}=bf.actions;return{fetchCart:()=>t(e()),addToCart:o=>t(n(o)),removeFromCart:o=>t(r(o)),clearCart:()=>t(i()),setDiscount:()=>t(s())}},P$=()=>To(t=>t.cart);class N${constructor(){Ht(this,"getAll",bn("assortment/getAll",async(e,n)=>{var o;const r=Ri(Ni,"assortment/catalog"),i=Ri(Ni,"assortment/banners"),s=Ri(Ni,"assortment/specifics");try{const[a,u,l]=await Promise.all([Ns(r),Ns(i),Ns(s)]);if([a,u,l].some(c=>c.exists()!==!0))throw new Error("    ");return n.dispatch(bf.actions.fetchCart()),[((o=a.data())==null?void 0:o[e])??[],u.data()??{},Object.values(l.data()??{})]}catch(a){console.error(a)}return[[],{},[]]}));Ht(this,"getByCategory",bn("assortment/getByCategory",async e=>{const n=Ri(Ni,"assortment/catalog");return await Ns(n).then(r=>r.get(e)).catch(r=>{throw console.error("    "),new Error(r)})}))}}const _5={items:[],banners:{},specials:[],searchedItem:null,status:$e.LOADING},D$=rs({name:"assortment",initialState:_5,reducers:{setAssortment(t,e){t.items=e.payload[0],t.banners=e.payload[1],t.specials=e.payload[2]},sortItems(t,e){switch(e.payload){case"title":t.items.sort((r,i)=>r.title.localeCompare(i.title));break;case"price+":t.items.sort((r,i)=>r.price-i.price);break;case"price":t.items.sort((r,i)=>i.price-r.price);break;case"rating":t.items.sort((r,i)=>i.rating-r.rating);break;case"cheapest":t.items.sort((r,i)=>r.price/r.portion-i.price/i.portion);break}},findItem(t,e){t.searchedItem=t.items.find(n=>n.id===e.payload)||null}},extraReducers:t=>{t.addCase(Yd.pending,e=>{e.status=$e.LOADING}),t.addCase(Yd.fulfilled,(e,n)=>{n.payload[0].length===0?e.status=$e.ERROR:e.status=$e.SUCCESS,e.items=n.payload[0],e.banners=n.payload[1],e.specials=n.payload[2]}),t.addCase(Yd.rejected,(e,n)=>{e.status=$e.ERROR,console.error(n)}),t.addCase(Xd.pending,e=>{e.status=$e.LOADING}),t.addCase(Xd.fulfilled,(e,n)=>{e.status=$e.SUCCESS,e.items=n.payload}),t.addCase(Xd.rejected,(e,n)=>{e.status=$e.ERROR,console.error(n)})}}),{getAll:Yd,getByCategory:Xd}=new N$,E5=()=>{const t=is(),{setAssortment:e,sortItems:n,findItem:r}=D$.actions,i=new N$;return{setAssortment:s=>t(e(s)),sortItems:s=>t(n(s)),findItem:s=>t(r(s)),getAll:s=>t(i.getAll(s)),getByCategory:s=>t(i.getByCategory(s))}},S5=()=>iC(t=>t.assortment),ga=Intl.NumberFormat("ru-RU",{currency:"RUB",style:"currency",maximumFractionDigits:2,minimumFractionDigits:2}).format,o_=[{name:"",value:"new"},{name:"",value:"lunch"},{name:"  ",value:"one-person-box"},{name:"  ",value:"company-box"},{name:" ",value:"fried-roll"},{name:"",value:"california"},{name:" ",value:"fresh-roll"},{name:"",value:"maki"},{name:"",value:"sushi"},{name:"",value:"bowels"},{name:"  ",value:"chirashi-sashimi"},{name:"  ",value:"tartar-sevich"},{name:", ,   ",value:"yakitory-tempura-ramen-curry"},{name:" ",value:"kids-menu"},{name:"",value:"accompaniment"},{name:"",value:"dessert"},{name:"",value:"drinkables"},{name:"",value:"additionals"},{name:"",value:"souces"}],a_=[{name:"",value:"non-alcohol"},{name:"",value:"beer"},{name:"",value:"wine"}],u_=[{name:"",value:"title"},{name:"  ",value:"price+"},{name:"  ",value:"price"},{name:"",value:"rating"},{name:"  ",value:"cheapest"}],T5={categories:o_,subcategories:a_,sortTypes:u_,currentSubcategory:a_[0],currentSortType:u_[0],currentCategory:o_[0],searchedItemId:0},L$=rs({name:"filters",initialState:T5,reducers:{setSubcategory(t,e){t.currentSubcategory=e.payload},setCategory(t,e){t.currentCategory=e.payload},setSort(t,e){t.currentSortType=e.payload},setSearchedItemId(t,e){t.searchedItemId=e.payload}}}),C5=()=>{const t=is(),{setCategory:e,setSort:n,setSearchedItemId:r,setSubcategory:i}=L$.actions;return{setCategory:s=>t(e(s)),setSort:s=>t(n(s)),setSearchedItemId:s=>t(r(s)),setSubcategory:s=>t(i(s))}},I5=()=>To(t=>t.filters),$5="https://firebasestorage.googleapis.com/v0/b/sushidream-auth.appspot.com/o/catalog%2Fbck-product-block.webp?alt=media&token=a83a462a-156b-4fb6-9eea-b1daf96a957b",M$="data:image/svg+xml,%3csvg%20width='30'%20height='30'%20viewBox='0%200%2030%2030'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cline%20x1='26.25'%20y1='3.28921'%20x2='2.82842'%20y2='26.7108'%20stroke='white'%20stroke-width='4'%20stroke-linecap='round'/%3e%3cline%20x1='27.1716'%20y1='26.7108'%20x2='3.75'%20y2='3.28921'%20stroke='white'%20stroke-width='4'%20stroke-linecap='round'/%3e%3c/svg%3e";var F$={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(F$);var k5=F$.exports;const lt=fr(k5),b5="_close_button_7vhxa_1",x5={close_button:b5},A5=({className:t,onClick:e,...n})=>_.jsx("img",{src:M$,className:lt(x5.close_button,t),onClick:e,...n}),O5=t=>E.createElement("svg",{enableBackground:"new 0 0 32 32",height:"32px",id:"Layer_1",viewBox:"0 0 32 32",width:"32px",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",...t},E.createElement("g",{id:"trash"},E.createElement("path",{clipRule:"evenodd",d:"M29.98,6.819c-0.096-1.57-1.387-2.816-2.98-2.816h-3v-1V3.001   c0-1.657-1.344-3-3-3H11c-1.657,0-3,1.343-3,3v0.001v1H5c-1.595,0-2.885,1.246-2.981,2.816H2v1.183v1c0,1.104,0.896,2,2,2l0,0v17   c0,2.209,1.791,4,4,4h16c2.209,0,4-1.791,4-4v-17l0,0c1.104,0,2-0.896,2-2v-1V6.819H29.98z M10,3.002c0-0.553,0.447-1,1-1h10   c0.553,0,1,0.447,1,1v1H10V3.002z M26,28.002c0,1.102-0.898,2-2,2H8c-1.103,0-2-0.898-2-2v-17h20V28.002z M28,8.001v1H4v-1V7.002   c0-0.553,0.447-1,1-1h22c0.553,0,1,0.447,1,1V8.001z",fill:"#ffffff",fillRule:"evenodd"}),E.createElement("path",{clipRule:"evenodd",d:"M9,28.006h2c0.553,0,1-0.447,1-1v-13c0-0.553-0.447-1-1-1H9   c-0.553,0-1,0.447-1,1v13C8,27.559,8.447,28.006,9,28.006z M9,14.005h2v13H9V14.005z",fill:"#ffffff",fillRule:"evenodd"}),E.createElement("path",{clipRule:"evenodd",d:"M15,28.006h2c0.553,0,1-0.447,1-1v-13c0-0.553-0.447-1-1-1h-2   c-0.553,0-1,0.447-1,1v13C14,27.559,14.447,28.006,15,28.006z M15,14.005h2v13h-2V14.005z",fill:"#ffffff",fillRule:"evenodd"}),E.createElement("path",{clipRule:"evenodd",d:"M21,28.006h2c0.553,0,1-0.447,1-1v-13c0-0.553-0.447-1-1-1h-2   c-0.553,0-1,0.447-1,1v13C20,27.559,20.447,28.006,21,28.006z M21,14.005h2v13h-2V14.005z",fill:"#ffffff",fillRule:"evenodd"})));class j${constructor(){Ht(this,"getAddresses",bn("delivery/getAddresses",async()=>{try{const e=Ri(Ni,"restaurants/addresses");return await Ns(e).then(n=>n.data())}catch(e){console.error(e)}return{}}))}}const R5={regions:[""],currentRegion:"",costs:[0,100,300,400,600,800],currentCost:0},U$=rs({name:"delivery",initialState:R5,reducers:{fetchRegion(t){t.currentRegion=localStorage.getItem("address")??"",t.currentCost=Number(localStorage.getItem("delivery-cost"))},setDeliveryCost(t,e){t.currentRegion=t.regions[e.payload],t.currentCost=t.costs[e.payload],localStorage.setItem("delivery-cost",`${t.currentCost}`),localStorage.setItem("address",`${t.currentRegion}`)},clearDelivery(t){t.currentRegion="",t.currentCost=0,localStorage.removeItem("delivery-cost"),localStorage.removeItem("address")}},extraReducers:t=>{t.addCase(P5.fulfilled,(e,n)=>{const r=Object.values(n.payload??{}).map(i=>`${i.city}, ${i.street}`);e.regions=["",...r]})}}),{getAddresses:P5}=new j$,N5=()=>{const t=is(),{setDeliveryCost:e,clearDelivery:n,fetchRegion:r}=U$.actions,{getAddresses:i}=new j$;return{setDeliveryCost:s=>t(e(s)),clearDelivery:()=>t(n()),fetchRegion:()=>t(r()),getAddresses:()=>t(i())}},Ny=()=>To(t=>t.delivery),D5="_shining_3fuce_1",L5="_buttonShining_3fuce_1",M5="_total_3fuce_19",F5="_row_3fuce_27",j5="_price_3fuce_34",U5="_fullPrice_3fuce_42",V5="_hide_3fuce_47",gi={shining:D5,buttonShining:L5,total:M5,row:F5,price:j5,fullPrice:U5,hide:V5},z5=()=>{const{currentCost:t}=Ny(),{totalPrice:e,discount:n}=P$(),r=1e11*((e+t)/100*n)/1e11,i=n>0&&e>0?e+t-r:e+t,s=e+t;return _.jsxs("div",{className:gi.total,children:[_.jsxs("p",{className:gi.row,children:[" ",_.jsx("span",{children:ga(t)})]}),_.jsxs("p",{className:lt(gi.row,{[gi.hide]:!(n>0&&e>0)}),children:[" ",_.jsx("span",{children:ga(r)})]}),_.jsxs("p",{className:gi.row,children:["",_.jsxs("span",{className:gi.price,children:[_.jsx("span",{className:gi.fullPrice,children:ga(s)}),_.jsx("span",{children:ga(i)})]})]})]})},B5="data:image/svg+xml,%3csvg%20width='100'%20height='100'%20viewBox='0%200%20100%20100'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='31.5'%20cy='14.5'%20r='7.5'%20fill='white'/%3e%3cpath%20d='M38.5336%2028.1298L49.7858%2061.4882'%20stroke='white'%20stroke-width='6'%20stroke-linecap='round'/%3e%3cpath%20d='M46%2059L33.1786%2068.6846'%20stroke='white'%20stroke-width='6'%20stroke-linecap='round'/%3e%3cpath%20d='M24%2090L32.8544%2068.8788'%20stroke='white'%20stroke-width='6'%20stroke-linecap='round'/%3e%3cpath%20d='M51.6136%2072.9973L49.7856%2061.4882'%20stroke='white'%20stroke-width='6'%20stroke-linecap='round'/%3e%3cpath%20d='M64%2090L52.335%2073.8715'%20stroke='white'%20stroke-width='6'%20stroke-linecap='round'/%3e%3cpath%20d='M38.3553%2028.1568L35.2857%2046.7739'%20stroke='white'%20stroke-width='6'%20stroke-linecap='round'/%3e%3cpath%20d='M38.6072%2027.9525L50.7857%2039.5775'%20stroke='white'%20stroke-width='6'%20stroke-linecap='round'/%3e%3cpath%20d='M24.2143%2053.9704L34.7322%2047.3275'%20stroke='white'%20stroke-width='6'%20stroke-linecap='round'/%3e%3cpath%20d='M40.0582%2017.4701L65.7032%209.14006C68.3295%208.28697%2071.1502%209.72447%2072.0033%2012.3508L83.4555%2047.6076C84.3086%2050.234%2082.8711%2053.0546%2080.2447%2053.9077L54.5998%2062.2378L40.0582%2017.4701Z'%20fill='white'/%3e%3cpath%20d='M42.4154%2020.6374C32.9159%2024.3679%2017.2782%2026.9048%2054.1072%2054.9588'%20stroke='white'%20stroke-width='4'/%3e%3c/svg%3e",H5="_shining_1syeo_1",W5="_buttonShining_1syeo_1",G5="_overlay_1syeo_19",K5="_modal_1syeo_29",q5="_wrapper_1syeo_44",Q5="_header_1syeo_48",Y5="_close_1syeo_57",Rl={shining:H5,buttonShining:W5,overlay:G5,modal:K5,wrapper:q5,header:Q5,close:Y5},Qu=({children:t,open:e,header:n,onClose:r,className:i,...s})=>e?_.jsx("div",{className:Rl.overlay,onClick:o=>{o.currentTarget===o.target&&(r==null||r())},children:_.jsxs("dialog",{className:Rl.modal+` ${i||""}`,...s,open:e,children:[_.jsxs("header",{className:Rl.header,children:[_.jsx("span",{children:n}),_.jsx(A5,{onClick:()=>r==null?void 0:r()})]}),_.jsx("div",{className:Rl.wrapper,children:t})]})}):null,X5="_shining_1l124_1",J5="_buttonShining_1l124_1",Z5="_wrapper_1l124_19",e6="_form_1l124_25",t6="_buttons_container_1l124_36",n6="_input_1l124_42",r6={shining:X5,buttonShining:J5,wrapper:Z5,form:e6,buttons_container:t6,input:n6};var Bm;try{Bm=Map}catch{}var Hm;try{Hm=Set}catch{}function V$(t,e,n){if(!t||typeof t!="object"||typeof t=="function")return t;if(t.nodeType&&"cloneNode"in t)return t.cloneNode(!0);if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return new RegExp(t);if(Array.isArray(t))return t.map(Wm);if(Bm&&t instanceof Bm)return new Map(Array.from(t.entries()));if(Hm&&t instanceof Hm)return new Set(Array.from(t.values()));if(t instanceof Object){e.push(t);var r=Object.create(t);n.push(r);for(var i in t){var s=e.findIndex(function(o){return o===t[i]});r[i]=s>-1?n[s]:V$(t[i],e,n)}return r}return t}function Wm(t){return V$(t,[],[])}const i6=Object.prototype.toString,s6=Error.prototype.toString,o6=RegExp.prototype.toString,a6=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",u6=/^Symbol\((.*)\)(.*)$/;function l6(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function l_(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return l6(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return a6.call(t).replace(u6,"Symbol($1)");const r=i6.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+s6.call(t)+"]":r==="RegExp"?o6.call(t):null}function Su(t,e){let n=l_(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let s=l_(this[r],e);return s!==null?s:i},2)}let Ti={default:"${path} is invalid",required:"${path} is a required field",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{let i=r!=null&&r!==n,s=`${t} must be a \`${e}\` type, but the final value was: \`${Su(n,!0)}\``+(i?` (cast from the value \`${Su(r,!0)}\`).`:".");return n===null&&(s+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),s},defined:"${path} must be defined"},ln={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},c6={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Gm={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},h6={isValue:"${path} field must be ${value}"},Km={noUnknown:"${path} field has unspecified keys: ${unknown}"},f6={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"};Object.assign(Object.create(null),{mixed:Ti,string:ln,number:c6,date:Gm,object:Km,array:f6,boolean:h6});var d6=Object.prototype,p6=d6.hasOwnProperty;function m6(t,e){return t!=null&&p6.call(t,e)}var g6=m6,v6=Array.isArray,fi=v6,y6=typeof rl=="object"&&rl&&rl.Object===Object&&rl,z$=y6,w6=z$,_6=typeof self=="object"&&self&&self.Object===Object&&self,E6=w6||_6||Function("return this")(),gr=E6,S6=gr,T6=S6.Symbol,xf=T6,c_=xf,B$=Object.prototype,C6=B$.hasOwnProperty,I6=B$.toString,ta=c_?c_.toStringTag:void 0;function $6(t){var e=C6.call(t,ta),n=t[ta];try{t[ta]=void 0;var r=!0}catch{}var i=I6.call(t);return r&&(e?t[ta]=n:delete t[ta]),i}var k6=$6,b6=Object.prototype,x6=b6.toString;function A6(t){return x6.call(t)}var O6=A6,h_=xf,R6=k6,P6=O6,N6="[object Null]",D6="[object Undefined]",f_=h_?h_.toStringTag:void 0;function L6(t){return t==null?t===void 0?D6:N6:f_&&f_ in Object(t)?R6(t):P6(t)}var Yu=L6;function M6(t){return t!=null&&typeof t=="object"}var Xu=M6,F6=Yu,j6=Xu,U6="[object Symbol]";function V6(t){return typeof t=="symbol"||j6(t)&&F6(t)==U6}var Dy=V6,z6=fi,B6=Dy,H6=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,W6=/^\w*$/;function G6(t,e){if(z6(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||B6(t)?!0:W6.test(t)||!H6.test(t)||e!=null&&t in Object(e)}var Ly=G6;function K6(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var My=K6,q6=Yu,Q6=My,Y6="[object AsyncFunction]",X6="[object Function]",J6="[object GeneratorFunction]",Z6="[object Proxy]";function eU(t){if(!Q6(t))return!1;var e=q6(t);return e==X6||e==J6||e==Y6||e==Z6}var H$=eU,tU=gr,nU=tU["__core-js_shared__"],rU=nU,Jd=rU,d_=function(){var t=/[^.]+$/.exec(Jd&&Jd.keys&&Jd.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function iU(t){return!!d_&&d_ in t}var sU=iU,oU=Function.prototype,aU=oU.toString;function uU(t){if(t!=null){try{return aU.call(t)}catch{}try{return t+""}catch{}}return""}var W$=uU,lU=H$,cU=sU,hU=My,fU=W$,dU=/[\\^$.*+?()[\]{}|]/g,pU=/^\[object .+?Constructor\]$/,mU=Function.prototype,gU=Object.prototype,vU=mU.toString,yU=gU.hasOwnProperty,wU=RegExp("^"+vU.call(yU).replace(dU,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _U(t){if(!hU(t)||cU(t))return!1;var e=lU(t)?wU:pU;return e.test(fU(t))}var EU=_U;function SU(t,e){return t==null?void 0:t[e]}var TU=SU,CU=EU,IU=TU;function $U(t,e){var n=IU(t,e);return CU(n)?n:void 0}var us=$U,kU=us,bU=kU(Object,"create"),Af=bU,p_=Af;function xU(){this.__data__=p_?p_(null):{},this.size=0}var AU=xU;function OU(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var RU=OU,PU=Af,NU="__lodash_hash_undefined__",DU=Object.prototype,LU=DU.hasOwnProperty;function MU(t){var e=this.__data__;if(PU){var n=e[t];return n===NU?void 0:n}return LU.call(e,t)?e[t]:void 0}var FU=MU,jU=Af,UU=Object.prototype,VU=UU.hasOwnProperty;function zU(t){var e=this.__data__;return jU?e[t]!==void 0:VU.call(e,t)}var BU=zU,HU=Af,WU="__lodash_hash_undefined__";function GU(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=HU&&e===void 0?WU:e,this}var KU=GU,qU=AU,QU=RU,YU=FU,XU=BU,JU=KU;function Lo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Lo.prototype.clear=qU;Lo.prototype.delete=QU;Lo.prototype.get=YU;Lo.prototype.has=XU;Lo.prototype.set=JU;var ZU=Lo;function e9(){this.__data__=[],this.size=0}var t9=e9;function n9(t,e){return t===e||t!==t&&e!==e}var G$=n9,r9=G$;function i9(t,e){for(var n=t.length;n--;)if(r9(t[n][0],e))return n;return-1}var Of=i9,s9=Of,o9=Array.prototype,a9=o9.splice;function u9(t){var e=this.__data__,n=s9(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():a9.call(e,n,1),--this.size,!0}var l9=u9,c9=Of;function h9(t){var e=this.__data__,n=c9(e,t);return n<0?void 0:e[n][1]}var f9=h9,d9=Of;function p9(t){return d9(this.__data__,t)>-1}var m9=p9,g9=Of;function v9(t,e){var n=this.__data__,r=g9(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var y9=v9,w9=t9,_9=l9,E9=f9,S9=m9,T9=y9;function Mo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Mo.prototype.clear=w9;Mo.prototype.delete=_9;Mo.prototype.get=E9;Mo.prototype.has=S9;Mo.prototype.set=T9;var Rf=Mo,C9=us,I9=gr,$9=C9(I9,"Map"),Fy=$9,m_=ZU,k9=Rf,b9=Fy;function x9(){this.size=0,this.__data__={hash:new m_,map:new(b9||k9),string:new m_}}var A9=x9;function O9(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var R9=O9,P9=R9;function N9(t,e){var n=t.__data__;return P9(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Pf=N9,D9=Pf;function L9(t){var e=D9(this,t).delete(t);return this.size-=e?1:0,e}var M9=L9,F9=Pf;function j9(t){return F9(this,t).get(t)}var U9=j9,V9=Pf;function z9(t){return V9(this,t).has(t)}var B9=z9,H9=Pf;function W9(t,e){var n=H9(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var G9=W9,K9=A9,q9=M9,Q9=U9,Y9=B9,X9=G9;function Fo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Fo.prototype.clear=K9;Fo.prototype.delete=q9;Fo.prototype.get=Q9;Fo.prototype.has=Y9;Fo.prototype.set=X9;var jy=Fo,K$=jy,J9="Expected a function";function Uy(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(J9);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Uy.Cache||K$),n}Uy.Cache=K$;var Z9=Uy,eV=Z9,tV=500;function nV(t){var e=eV(t,function(r){return n.size===tV&&n.clear(),r}),n=e.cache;return e}var rV=nV,iV=rV,sV=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oV=/\\(\\)?/g,aV=iV(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(sV,function(n,r,i,s){e.push(i?s.replace(oV,"$1"):r||n)}),e}),uV=aV;function lV(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var cV=lV,g_=xf,hV=cV,fV=fi,dV=Dy,pV=1/0,v_=g_?g_.prototype:void 0,y_=v_?v_.toString:void 0;function q$(t){if(typeof t=="string")return t;if(fV(t))return hV(t,q$)+"";if(dV(t))return y_?y_.call(t):"";var e=t+"";return e=="0"&&1/t==-pV?"-0":e}var mV=q$,gV=mV;function vV(t){return t==null?"":gV(t)}var Ju=vV,yV=fi,wV=Ly,_V=uV,EV=Ju;function SV(t,e){return yV(t)?t:wV(t,e)?[t]:_V(EV(t))}var Q$=SV,TV=Yu,CV=Xu,IV="[object Arguments]";function $V(t){return CV(t)&&TV(t)==IV}var kV=$V,w_=kV,bV=Xu,Y$=Object.prototype,xV=Y$.hasOwnProperty,AV=Y$.propertyIsEnumerable,OV=w_(function(){return arguments}())?w_:function(t){return bV(t)&&xV.call(t,"callee")&&!AV.call(t,"callee")},X$=OV,RV=9007199254740991,PV=/^(?:0|[1-9]\d*)$/;function NV(t,e){var n=typeof t;return e=e??RV,!!e&&(n=="number"||n!="symbol"&&PV.test(t))&&t>-1&&t%1==0&&t<e}var J$=NV,DV=9007199254740991;function LV(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=DV}var Vy=LV,MV=Dy,FV=1/0;function jV(t){if(typeof t=="string"||MV(t))return t;var e=t+"";return e=="0"&&1/t==-FV?"-0":e}var Nf=jV,UV=Q$,VV=X$,zV=fi,BV=J$,HV=Vy,WV=Nf;function GV(t,e,n){e=UV(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=WV(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&HV(i)&&BV(o,i)&&(zV(t)||VV(t)))}var Z$=GV,KV=g6,qV=Z$;function QV(t,e){return t!=null&&qV(t,e,KV)}var YV=QV;const rh=fr(YV),ek=t=>t&&t.__isYupSchema__;class XV{constructor(e,n){if(this.fn=void 0,this.refs=e,this.refs=e,typeof n=="function"){this.fn=n;return}if(!rh(n,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,o=typeof r=="function"?r:(...a)=>a.every(u=>u===r);this.fn=function(...a){let u=a.pop(),l=a.pop(),c=o(...a)?i:s;if(c)return typeof c=="function"?c(l):l.concat(c.resolve(u))}}resolve(e,n){let r=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn.apply(e,r.concat(e,n));if(i===void 0||i===e)return e;if(!ek(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}function tk(t){return t==null?[]:[].concat(t)}function qm(){return qm=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qm.apply(this,arguments)}let JV=/\$\{\s*(\w+)\s*\}/g;class Nt extends Error{static formatError(e,n){const r=n.label||n.path||"this";return r!==n.path&&(n=qm({},n,{path:r})),typeof e=="string"?e.replace(JV,(i,s)=>Su(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],tk(e).forEach(s=>{Nt.isError(s)?(this.errors.push(...s.errors),this.inner=this.inner.concat(s.inner.length?s.inner:s)):this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,Nt)}}const ZV=t=>{let e=!1;return(...n)=>{e||(e=!0,t(...n))}};function Qm(t,e){let{endEarly:n,tests:r,args:i,value:s,errors:o,sort:a,path:u}=t,l=ZV(e),c=r.length;const h=[];if(o=o||[],!c)return o.length?l(new Nt(o,s,u)):l(null,s);for(let f=0;f<r.length;f++){const p=r[f];p(i,function(v){if(v){if(!Nt.isError(v))return l(v,s);if(n)return v.value=s,l(v,s);h.push(v)}if(--c<=0){if(h.length&&(a&&h.sort(a),o.length&&h.push(...o),o=h),o.length){l(new Nt(o,s,u),s);return}l(null,s)}})}}var e7=us,t7=function(){try{var t=e7(Object,"defineProperty");return t({},"",{}),t}catch{}}(),n7=t7,__=n7;function r7(t,e,n){e=="__proto__"&&__?__(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var nk=r7;function i7(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var u=o[t?a:++i];if(n(s[u],u,s)===!1)break}return e}}var s7=i7,o7=s7,a7=o7(),u7=a7;function l7(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var c7=l7,ih={exports:{}};function h7(){return!1}var f7=h7;ih.exports;(function(t,e){var n=gr,r=f7,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,u=a?a.isBuffer:void 0,l=u||r;t.exports=l})(ih,ih.exports);var rk=ih.exports,d7=Yu,p7=Vy,m7=Xu,g7="[object Arguments]",v7="[object Array]",y7="[object Boolean]",w7="[object Date]",_7="[object Error]",E7="[object Function]",S7="[object Map]",T7="[object Number]",C7="[object Object]",I7="[object RegExp]",$7="[object Set]",k7="[object String]",b7="[object WeakMap]",x7="[object ArrayBuffer]",A7="[object DataView]",O7="[object Float32Array]",R7="[object Float64Array]",P7="[object Int8Array]",N7="[object Int16Array]",D7="[object Int32Array]",L7="[object Uint8Array]",M7="[object Uint8ClampedArray]",F7="[object Uint16Array]",j7="[object Uint32Array]",de={};de[O7]=de[R7]=de[P7]=de[N7]=de[D7]=de[L7]=de[M7]=de[F7]=de[j7]=!0;de[g7]=de[v7]=de[x7]=de[y7]=de[A7]=de[w7]=de[_7]=de[E7]=de[S7]=de[T7]=de[C7]=de[I7]=de[$7]=de[k7]=de[b7]=!1;function U7(t){return m7(t)&&p7(t.length)&&!!de[d7(t)]}var V7=U7;function z7(t){return function(e){return t(e)}}var B7=z7,sh={exports:{}};sh.exports;(function(t,e){var n=z$,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var u=i&&i.require&&i.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(sh,sh.exports);var H7=sh.exports,W7=V7,G7=B7,E_=H7,S_=E_&&E_.isTypedArray,K7=S_?G7(S_):W7,ik=K7,q7=c7,Q7=X$,Y7=fi,X7=rk,J7=J$,Z7=ik,ez=Object.prototype,tz=ez.hasOwnProperty;function nz(t,e){var n=Y7(t),r=!n&&Q7(t),i=!n&&!r&&X7(t),s=!n&&!r&&!i&&Z7(t),o=n||r||i||s,a=o?q7(t.length,String):[],u=a.length;for(var l in t)(e||tz.call(t,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||s&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||J7(l,u)))&&a.push(l);return a}var rz=nz,iz=Object.prototype;function sz(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||iz;return t===n}var oz=sz;function az(t,e){return function(n){return t(e(n))}}var uz=az,lz=uz,cz=lz(Object.keys,Object),hz=cz,fz=oz,dz=hz,pz=Object.prototype,mz=pz.hasOwnProperty;function gz(t){if(!fz(t))return dz(t);var e=[];for(var n in Object(t))mz.call(t,n)&&n!="constructor"&&e.push(n);return e}var vz=gz,yz=H$,wz=Vy;function _z(t){return t!=null&&wz(t.length)&&!yz(t)}var Ez=_z,Sz=rz,Tz=vz,Cz=Ez;function Iz(t){return Cz(t)?Sz(t):Tz(t)}var zy=Iz,$z=u7,kz=zy;function bz(t,e){return t&&$z(t,e,kz)}var sk=bz,xz=Rf;function Az(){this.__data__=new xz,this.size=0}var Oz=Az;function Rz(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Pz=Rz;function Nz(t){return this.__data__.get(t)}var Dz=Nz;function Lz(t){return this.__data__.has(t)}var Mz=Lz,Fz=Rf,jz=Fy,Uz=jy,Vz=200;function zz(t,e){var n=this.__data__;if(n instanceof Fz){var r=n.__data__;if(!jz||r.length<Vz-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Uz(r)}return n.set(t,e),this.size=n.size,this}var Bz=zz,Hz=Rf,Wz=Oz,Gz=Pz,Kz=Dz,qz=Mz,Qz=Bz;function jo(t){var e=this.__data__=new Hz(t);this.size=e.size}jo.prototype.clear=Wz;jo.prototype.delete=Gz;jo.prototype.get=Kz;jo.prototype.has=qz;jo.prototype.set=Qz;var ok=jo,Yz="__lodash_hash_undefined__";function Xz(t){return this.__data__.set(t,Yz),this}var Jz=Xz;function Zz(t){return this.__data__.has(t)}var e8=Zz,t8=jy,n8=Jz,r8=e8;function oh(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new t8;++e<n;)this.add(t[e])}oh.prototype.add=oh.prototype.push=n8;oh.prototype.has=r8;var i8=oh;function s8(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var o8=s8;function a8(t,e){return t.has(e)}var u8=a8,l8=i8,c8=o8,h8=u8,f8=1,d8=2;function p8(t,e,n,r,i,s){var o=n&f8,a=t.length,u=e.length;if(a!=u&&!(o&&u>a))return!1;var l=s.get(t),c=s.get(e);if(l&&c)return l==e&&c==t;var h=-1,f=!0,p=n&d8?new l8:void 0;for(s.set(t,e),s.set(e,t);++h<a;){var g=t[h],v=e[h];if(r)var w=o?r(v,g,h,e,t,s):r(g,v,h,t,e,s);if(w!==void 0){if(w)continue;f=!1;break}if(p){if(!c8(e,function(m,d){if(!h8(p,d)&&(g===m||i(g,m,n,r,s)))return p.push(d)})){f=!1;break}}else if(!(g===v||i(g,v,n,r,s))){f=!1;break}}return s.delete(t),s.delete(e),f}var ak=p8,m8=gr,g8=m8.Uint8Array,v8=g8;function y8(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var w8=y8;function _8(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var E8=_8,T_=xf,C_=v8,S8=G$,T8=ak,C8=w8,I8=E8,$8=1,k8=2,b8="[object Boolean]",x8="[object Date]",A8="[object Error]",O8="[object Map]",R8="[object Number]",P8="[object RegExp]",N8="[object Set]",D8="[object String]",L8="[object Symbol]",M8="[object ArrayBuffer]",F8="[object DataView]",I_=T_?T_.prototype:void 0,Zd=I_?I_.valueOf:void 0;function j8(t,e,n,r,i,s,o){switch(n){case F8:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case M8:return!(t.byteLength!=e.byteLength||!s(new C_(t),new C_(e)));case b8:case x8:case R8:return S8(+t,+e);case A8:return t.name==e.name&&t.message==e.message;case P8:case D8:return t==e+"";case O8:var a=C8;case N8:var u=r&$8;if(a||(a=I8),t.size!=e.size&&!u)return!1;var l=o.get(t);if(l)return l==e;r|=k8,o.set(t,e);var c=T8(a(t),a(e),r,i,s,o);return o.delete(t),c;case L8:if(Zd)return Zd.call(t)==Zd.call(e)}return!1}var U8=j8;function V8(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var z8=V8,B8=z8,H8=fi;function W8(t,e,n){var r=e(t);return H8(t)?r:B8(r,n(t))}var G8=W8;function K8(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var q8=K8;function Q8(){return[]}var Y8=Q8,X8=q8,J8=Y8,Z8=Object.prototype,eB=Z8.propertyIsEnumerable,$_=Object.getOwnPropertySymbols,tB=$_?function(t){return t==null?[]:(t=Object(t),X8($_(t),function(e){return eB.call(t,e)}))}:J8,nB=tB,rB=G8,iB=nB,sB=zy;function oB(t){return rB(t,sB,iB)}var aB=oB,k_=aB,uB=1,lB=Object.prototype,cB=lB.hasOwnProperty;function hB(t,e,n,r,i,s){var o=n&uB,a=k_(t),u=a.length,l=k_(e),c=l.length;if(u!=c&&!o)return!1;for(var h=u;h--;){var f=a[h];if(!(o?f in e:cB.call(e,f)))return!1}var p=s.get(t),g=s.get(e);if(p&&g)return p==e&&g==t;var v=!0;s.set(t,e),s.set(e,t);for(var w=o;++h<u;){f=a[h];var m=t[f],d=e[f];if(r)var y=o?r(d,m,f,e,t,s):r(m,d,f,t,e,s);if(!(y===void 0?m===d||i(m,d,n,r,s):y)){v=!1;break}w||(w=f=="constructor")}if(v&&!w){var S=t.constructor,I=e.constructor;S!=I&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof I=="function"&&I instanceof I)&&(v=!1)}return s.delete(t),s.delete(e),v}var fB=hB,dB=us,pB=gr,mB=dB(pB,"DataView"),gB=mB,vB=us,yB=gr,wB=vB(yB,"Promise"),_B=wB,EB=us,SB=gr,TB=EB(SB,"Set"),CB=TB,IB=us,$B=gr,kB=IB($B,"WeakMap"),bB=kB,Ym=gB,Xm=Fy,Jm=_B,Zm=CB,eg=bB,uk=Yu,Uo=W$,b_="[object Map]",xB="[object Object]",x_="[object Promise]",A_="[object Set]",O_="[object WeakMap]",R_="[object DataView]",AB=Uo(Ym),OB=Uo(Xm),RB=Uo(Jm),PB=Uo(Zm),NB=Uo(eg),Ci=uk;(Ym&&Ci(new Ym(new ArrayBuffer(1)))!=R_||Xm&&Ci(new Xm)!=b_||Jm&&Ci(Jm.resolve())!=x_||Zm&&Ci(new Zm)!=A_||eg&&Ci(new eg)!=O_)&&(Ci=function(t){var e=uk(t),n=e==xB?t.constructor:void 0,r=n?Uo(n):"";if(r)switch(r){case AB:return R_;case OB:return b_;case RB:return x_;case PB:return A_;case NB:return O_}return e});var DB=Ci,ep=ok,LB=ak,MB=U8,FB=fB,P_=DB,N_=fi,D_=rk,jB=ik,UB=1,L_="[object Arguments]",M_="[object Array]",Pl="[object Object]",VB=Object.prototype,F_=VB.hasOwnProperty;function zB(t,e,n,r,i,s){var o=N_(t),a=N_(e),u=o?M_:P_(t),l=a?M_:P_(e);u=u==L_?Pl:u,l=l==L_?Pl:l;var c=u==Pl,h=l==Pl,f=u==l;if(f&&D_(t)){if(!D_(e))return!1;o=!0,c=!1}if(f&&!c)return s||(s=new ep),o||jB(t)?LB(t,e,n,r,i,s):MB(t,e,u,n,r,i,s);if(!(n&UB)){var p=c&&F_.call(t,"__wrapped__"),g=h&&F_.call(e,"__wrapped__");if(p||g){var v=p?t.value():t,w=g?e.value():e;return s||(s=new ep),i(v,w,n,r,s)}}return f?(s||(s=new ep),FB(t,e,n,r,i,s)):!1}var BB=zB,HB=BB,j_=Xu;function lk(t,e,n,r,i){return t===e?!0:t==null||e==null||!j_(t)&&!j_(e)?t!==t&&e!==e:HB(t,e,n,r,lk,i)}var ck=lk,WB=ok,GB=ck,KB=1,qB=2;function QB(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var u=a[0],l=t[u],c=a[1];if(o&&a[2]){if(l===void 0&&!(u in t))return!1}else{var h=new WB;if(r)var f=r(l,c,u,t,e,h);if(!(f===void 0?GB(c,l,KB|qB,r,h):f))return!1}}return!0}var YB=QB,XB=My;function JB(t){return t===t&&!XB(t)}var hk=JB,ZB=hk,eH=zy;function tH(t){for(var e=eH(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ZB(i)]}return e}var nH=tH;function rH(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var fk=rH,iH=YB,sH=nH,oH=fk;function aH(t){var e=sH(t);return e.length==1&&e[0][2]?oH(e[0][0],e[0][1]):function(n){return n===t||iH(n,t,e)}}var uH=aH,lH=Q$,cH=Nf;function hH(t,e){e=lH(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[cH(e[n++])];return n&&n==r?t:void 0}var dk=hH,fH=dk;function dH(t,e,n){var r=t==null?void 0:fH(t,e);return r===void 0?n:r}var pH=dH;function mH(t,e){return t!=null&&e in Object(t)}var gH=mH,vH=gH,yH=Z$;function wH(t,e){return t!=null&&yH(t,e,vH)}var _H=wH,EH=ck,SH=pH,TH=_H,CH=Ly,IH=hk,$H=fk,kH=Nf,bH=1,xH=2;function AH(t,e){return CH(t)&&IH(e)?$H(kH(t),e):function(n){var r=SH(n,t);return r===void 0&&r===e?TH(n,t):EH(e,r,bH|xH)}}var OH=AH;function RH(t){return t}var PH=RH;function NH(t){return function(e){return e==null?void 0:e[t]}}var DH=NH,LH=dk;function MH(t){return function(e){return LH(e,t)}}var FH=MH,jH=DH,UH=FH,VH=Ly,zH=Nf;function BH(t){return VH(t)?jH(zH(t)):UH(t)}var HH=BH,WH=uH,GH=OH,KH=PH,qH=fi,QH=HH;function YH(t){return typeof t=="function"?t:t==null?KH:typeof t=="object"?qH(t)?GH(t[0],t[1]):WH(t):QH(t)}var pk=YH,XH=nk,JH=sk,ZH=pk;function eW(t,e){var n={};return e=ZH(e),JH(t,function(r,i,s){XH(n,i,e(r,i,s))}),n}var tW=eW;const mk=fr(tW);function ls(t){this._maxSize=t,this.clear()}ls.prototype.clear=function(){this._size=0,this._values=Object.create(null)};ls.prototype.get=function(t){return this._values[t]};ls.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var nW=/[^.^\]^[]+|(?=\[\]|\.\.)/g,gk=/^\d+$/,rW=/^\d/,iW=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,sW=/^\s*(['"]?)(.*?)(\1)\s*$/,By=512,U_=new ls(By),V_=new ls(By),z_=new ls(By),Df={Cache:ls,split:tg,normalizePath:tp,setter:function(t){var e=tp(t);return V_.get(t)||V_.set(t,function(r,i){for(var s=0,o=e.length,a=r;s<o-1;){var u=e[s];if(u==="__proto__"||u==="constructor"||u==="prototype")return r;a=a[e[s++]]}a[e[s]]=i})},getter:function(t,e){var n=tp(t);return z_.get(t)||z_.set(t,function(i){for(var s=0,o=n.length;s<o;)if(i!=null||!e)i=i[n[s++]];else return;return i})},join:function(t){return t.reduce(function(e,n){return e+(Hy(n)||gk.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){oW(Array.isArray(t)?t:tg(t),e,n)}};function tp(t){return U_.get(t)||U_.set(t,tg(t).map(function(e){return e.replace(sW,"$2")}))}function tg(t){return t.match(nW)||[""]}function oW(t,e,n){var r=t.length,i,s,o,a;for(s=0;s<r;s++)i=t[s],i&&(lW(i)&&(i='"'+i+'"'),a=Hy(i),o=!a&&/^\d+$/.test(i),e.call(n,i,a,o,s,t))}function Hy(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function aW(t){return t.match(rW)&&!t.match(gk)}function uW(t){return iW.test(t)}function lW(t){return!Hy(t)&&(aW(t)||uW(t))}const Nl={context:"$",value:"."};function cW(t,e){return new tr(t,e)}class tr{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Nl.context,this.isValue=this.key[0]===Nl.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?Nl.context:this.isValue?Nl.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Df.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}tr.prototype.__isYupRef=!0;function ah(){return ah=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ah.apply(this,arguments)}function hW(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Dl(t){function e(n,r){let{value:i,path:s="",label:o,options:a,originalValue:u,sync:l}=n,c=hW(n,["value","path","label","options","originalValue","sync"]);const{name:h,test:f,params:p,message:g}=t;let{parent:v,context:w}=a;function m(C){return tr.isRef(C)?C.getValue(i,v,w):C}function d(C={}){const $=mk(ah({value:i,originalValue:u,label:o,path:C.path||s},p,C.params),m),R=new Nt(Nt.formatError(C.message||g,$),i,$.path,C.type||h);return R.params=$,R}let y=ah({path:s,parent:v,type:h,createError:d,resolve:m,options:a,originalValue:u},c);if(!l){try{Promise.resolve(f.call(y,i,y)).then(C=>{Nt.isError(C)?r(C):C?r(null,C):r(d())}).catch(r)}catch(C){r(C)}return}let S;try{var I;if(S=f.call(y,i,y),typeof((I=S)==null?void 0:I.then)=="function")throw new Error(`Validation test of type: "${y.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`)}catch(C){r(C);return}Nt.isError(S)?r(S):S?r(null,S):r(d())}return e.OPTIONS=t,e}let fW=t=>t.substr(0,t.length-1).substr(1);function dW(t,e,n,r=n){let i,s,o;return e?(Df.forEach(e,(a,u,l)=>{let c=u?fW(a):a;if(t=t.resolve({context:r,parent:i,value:n}),t.innerType){let h=l?parseInt(c,10):0;if(n&&h>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[h],t=t.innerType}if(!l){if(!t.fields||!t.fields[c])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t._type}")`);i=n,n=n&&n[c],t=t.fields[c]}s=c,o=u?"["+a+"]":"."+a}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class uh{constructor(){this.list=void 0,this.refs=void 0,this.list=new Set,this.refs=new Map}get size(){return this.list.size+this.refs.size}describe(){const e=[];for(const n of this.list)e.push(n);for(const[,n]of this.refs)e.push(n.describe());return e}toArray(){return Array.from(this.list).concat(Array.from(this.refs.values()))}resolveAll(e){return this.toArray().reduce((n,r)=>n.concat(tr.isRef(r)?e(r):r),[])}add(e){tr.isRef(e)?this.refs.set(e.key,e):this.list.add(e)}delete(e){tr.isRef(e)?this.refs.delete(e.key):this.list.delete(e)}clone(){const e=new uh;return e.list=new Set(this.list),e.refs=new Map(this.refs),e}merge(e,n){const r=this.clone();return e.list.forEach(i=>r.add(i)),e.refs.forEach(i=>r.add(i)),n.list.forEach(i=>r.delete(i)),n.refs.forEach(i=>r.delete(i)),r}}function Gt(){return Gt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gt.apply(this,arguments)}class xt{constructor(e){this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this._typeError=void 0,this._whitelist=new uh,this._blacklist=new uh,this.exclusiveTests=Object.create(null),this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Ti.notType)}),this.type=(e==null?void 0:e.type)||"mixed",this.spec=Gt({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,presence:"optional"},e==null?void 0:e.spec)}get _type(){return this.type}_typeCheck(e){return!0}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeError=this._typeError,n._whitelistError=this._whitelistError,n._blacklistError=this._blacklistError,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.exclusiveTests=Gt({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Wm(Gt({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=Gt({},n.spec,r.spec);return r.spec=i,r._typeError||(r._typeError=n._typeError),r._whitelistError||(r._whitelistError=n._whitelistError),r._blacklistError||(r._blacklistError=n._blacklistError),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return this.spec.nullable&&e===null?!0:this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,e),n),n=n.resolve(e)}return n}cast(e,n={}){let r=this.resolve(Gt({value:e},n)),i=r._cast(e,n);if(e!==void 0&&n.assert!==!1&&r.isType(i)!==!0){let s=Su(e),o=Su(i);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r._type}". 

attempted value: ${s} 
`+(o!==s?`result of cast: ${o}`:""))}return i}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault()),r}_validate(e,n={},r){let{sync:i,path:s,from:o=[],originalValue:a=e,strict:u=this.spec.strict,abortEarly:l=this.spec.abortEarly}=n,c=e;u||(c=this._cast(c,Gt({assert:!1},n)));let h={value:c,path:s,options:n,originalValue:a,schema:this,label:this.spec.label,sync:i,from:o},f=[];this._typeError&&f.push(this._typeError);let p=[];this._whitelistError&&p.push(this._whitelistError),this._blacklistError&&p.push(this._blacklistError),Qm({args:h,value:c,path:s,sync:i,tests:f,endEarly:l},g=>{if(g)return void r(g,c);Qm({tests:this.tests.concat(p),args:h,path:s,sync:i,value:c,endEarly:l},r)})}validate(e,n,r){let i=this.resolve(Gt({},n,{value:e}));return typeof r=="function"?i._validate(e,n,r):new Promise((s,o)=>i._validate(e,n,(a,u)=>{a?o(a):s(u)}))}validateSync(e,n){let r=this.resolve(Gt({},n,{value:e})),i;return r._validate(e,Gt({},n,{sync:!0}),(s,o)=>{if(s)throw s;i=o}),i}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(Nt.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(Nt.isError(r))return!1;throw r}}_getDefault(){let e=this.spec.default;return e==null?e:typeof e=="function"?e.call(this):Wm(e)}getDefault(e){return this.resolve(e||{})._getDefault()}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){let n=this.clone();return n.spec.strict=e,n}_isPresent(e){return e!=null}defined(e=Ti.defined){return this.test({message:e,name:"defined",exclusive:!0,test(n){return n!==void 0}})}required(e=Ti.required){return this.clone({presence:"required"}).withMutation(n=>n.test({message:e,name:"required",exclusive:!0,test(r){return this.schema._isPresent(r)}}))}notRequired(){let e=this.clone({presence:"optional"});return e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e}nullable(e=!0){return this.clone({nullable:e!==!1})}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=Ti.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=Dl(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=tk(e).map(s=>new tr(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(new XV(i,n)),r}typeError(e){let n=this.clone();return n._typeError=Dl({message:e,name:"typeError",test(r){return r!==void 0&&!this.schema.isType(r)?this.createError({params:{type:this.schema._type}}):!0}}),n}oneOf(e,n=Ti.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r._whitelistError=Dl({message:n,name:"oneOf",test(i){if(i===void 0)return!0;let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:s.toArray().join(", "),resolved:o}})}}),r}notOneOf(e,n=Ti.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r._blacklistError=Dl({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:s.toArray().join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(){const e=this.clone(),{label:n,meta:r}=e.spec;return{meta:r,label:n,type:e.type,oneOf:e._whitelist.describe(),notOneOf:e._blacklist.describe(),tests:e.tests.map(s=>({name:s.OPTIONS.name,params:s.OPTIONS.params})).filter((s,o,a)=>a.findIndex(u=>u.name===s.name)===o)}}}xt.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])xt.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:s,schema:o}=dW(this,e,n,r.context);return o[t](i&&i[s],Gt({},r,{parent:i,path:e}))};for(const t of["equals","is"])xt.prototype[t]=xt.prototype.oneOf;for(const t of["not","nope"])xt.prototype[t]=xt.prototype.notOneOf;xt.prototype.optional=xt.prototype.notRequired;const pW=xt;pW.prototype;const hn=t=>t==null;let mW=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,gW=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,vW=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,yW=t=>hn(t)||t===t.trim(),wW={}.toString();function Kn(){return new vk}class vk extends xt{constructor(){super({type:"string"}),this.withMutation(()=>{this.transform(function(e){if(this.isType(e)||Array.isArray(e))return e;const n=e!=null&&e.toString?e.toString():e;return n===wW?e:n})})}_typeCheck(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}_isPresent(e){return super._isPresent(e)&&!!e.length}length(e,n=ln.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},test(r){return hn(r)||r.length===this.resolve(e)}})}min(e,n=ln.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},test(r){return hn(r)||r.length>=this.resolve(e)}})}max(e,n=ln.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},test(r){return hn(r)||r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||ln.matches,params:{regex:e},test:o=>hn(o)||o===""&&r||o.search(e)!==-1})}email(e=ln.email){return this.matches(mW,{name:"email",message:e,excludeEmptyString:!0})}url(e=ln.url){return this.matches(gW,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=ln.uuid){return this.matches(vW,{name:"uuid",message:e,excludeEmptyString:!1})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=ln.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:yW})}lowercase(e=ln.lowercase){return this.transform(n=>hn(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,test:n=>hn(n)||n===n.toLowerCase()})}uppercase(e=ln.uppercase){return this.transform(n=>hn(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,test:n=>hn(n)||n===n.toUpperCase()})}}Kn.prototype=vk.prototype;var _W=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;function EW(t){var e=[1,4,5,6,7,10,11],n=0,r,i;if(i=_W.exec(t)){for(var s=0,o;o=e[s];++s)i[o]=+i[o]||0;i[2]=(+i[2]||1)-1,i[3]=+i[3]||1,i[7]=i[7]?String(i[7]).substr(0,3):0,(i[8]===void 0||i[8]==="")&&(i[9]===void 0||i[9]==="")?r=+new Date(i[1],i[2],i[3],i[4],i[5],i[6],i[7]):(i[8]!=="Z"&&i[9]!==void 0&&(n=i[10]*60+i[11],i[9]==="+"&&(n=0-n)),r=Date.UTC(i[1],i[2],i[3],i[4],i[5]+n,i[6],i[7]))}else r=Date.parse?Date.parse(t):NaN;return r}let yk=new Date(""),SW=t=>Object.prototype.toString.call(t)==="[object Date]";class wk extends xt{constructor(){super({type:"date"}),this.withMutation(()=>{this.transform(function(e){return this.isType(e)?e:(e=EW(e),isNaN(e)?yk:new Date(e))})})}_typeCheck(e){return SW(e)&&!isNaN(e.getTime())}prepareParam(e,n){let r;if(tr.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=Gm.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},test(i){return hn(i)||i>=this.resolve(r)}})}max(e,n=Gm.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},test(i){return hn(i)||i<=this.resolve(r)}})}}wk.INVALID_DATE=yk;wk.prototype;function TW(t,e,n,r){var i=-1,s=t==null?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}var CW=TW;function IW(t){return function(e){return t==null?void 0:t[e]}}var $W=IW,kW=$W,bW={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},xW=kW(bW),AW=xW,OW=AW,RW=Ju,PW=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,NW="\\u0300-\\u036f",DW="\\ufe20-\\ufe2f",LW="\\u20d0-\\u20ff",MW=NW+DW+LW,FW="["+MW+"]",jW=RegExp(FW,"g");function UW(t){return t=RW(t),t&&t.replace(PW,OW).replace(jW,"")}var VW=UW,zW=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function BW(t){return t.match(zW)||[]}var HW=BW,WW=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function GW(t){return WW.test(t)}var KW=GW,_k="\\ud800-\\udfff",qW="\\u0300-\\u036f",QW="\\ufe20-\\ufe2f",YW="\\u20d0-\\u20ff",XW=qW+QW+YW,Ek="\\u2700-\\u27bf",Sk="a-z\\xdf-\\xf6\\xf8-\\xff",JW="\\xac\\xb1\\xd7\\xf7",ZW="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",eG="\\u2000-\\u206f",tG=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Tk="A-Z\\xc0-\\xd6\\xd8-\\xde",nG="\\ufe0e\\ufe0f",Ck=JW+ZW+eG+tG,Ik="[']",B_="["+Ck+"]",rG="["+XW+"]",$k="\\d+",iG="["+Ek+"]",kk="["+Sk+"]",bk="[^"+_k+Ck+$k+Ek+Sk+Tk+"]",sG="\\ud83c[\\udffb-\\udfff]",oG="(?:"+rG+"|"+sG+")",aG="[^"+_k+"]",xk="(?:\\ud83c[\\udde6-\\uddff]){2}",Ak="[\\ud800-\\udbff][\\udc00-\\udfff]",_s="["+Tk+"]",uG="\\u200d",H_="(?:"+kk+"|"+bk+")",lG="(?:"+_s+"|"+bk+")",W_="(?:"+Ik+"(?:d|ll|m|re|s|t|ve))?",G_="(?:"+Ik+"(?:D|LL|M|RE|S|T|VE))?",Ok=oG+"?",Rk="["+nG+"]?",cG="(?:"+uG+"(?:"+[aG,xk,Ak].join("|")+")"+Rk+Ok+")*",hG="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",fG="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",dG=Rk+Ok+cG,pG="(?:"+[iG,xk,Ak].join("|")+")"+dG,mG=RegExp([_s+"?"+kk+"+"+W_+"(?="+[B_,_s,"$"].join("|")+")",lG+"+"+G_+"(?="+[B_,_s+H_,"$"].join("|")+")",_s+"?"+H_+"+"+W_,_s+"+"+G_,fG,hG,$k,pG].join("|"),"g");function gG(t){return t.match(mG)||[]}var vG=gG,yG=HW,wG=KW,_G=Ju,EG=vG;function SG(t,e,n){return t=_G(t),e=n?void 0:e,e===void 0?wG(t)?EG(t):yG(t):t.match(e)||[]}var TG=SG,CG=CW,IG=VW,$G=TG,kG="[']",bG=RegExp(kG,"g");function xG(t){return function(e){return CG($G(IG(e).replace(bG,"")),t,"")}}var Pk=xG,AG=Pk,OG=AG(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),RG=OG;const K_=fr(RG);function PG(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var NG=PG,DG=NG;function LG(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:DG(t,e,n)}var MG=LG,FG="\\ud800-\\udfff",jG="\\u0300-\\u036f",UG="\\ufe20-\\ufe2f",VG="\\u20d0-\\u20ff",zG=jG+UG+VG,BG="\\ufe0e\\ufe0f",HG="\\u200d",WG=RegExp("["+HG+FG+zG+BG+"]");function GG(t){return WG.test(t)}var Nk=GG;function KG(t){return t.split("")}var qG=KG,Dk="\\ud800-\\udfff",QG="\\u0300-\\u036f",YG="\\ufe20-\\ufe2f",XG="\\u20d0-\\u20ff",JG=QG+YG+XG,ZG="\\ufe0e\\ufe0f",eK="["+Dk+"]",ng="["+JG+"]",rg="\\ud83c[\\udffb-\\udfff]",tK="(?:"+ng+"|"+rg+")",Lk="[^"+Dk+"]",Mk="(?:\\ud83c[\\udde6-\\uddff]){2}",Fk="[\\ud800-\\udbff][\\udc00-\\udfff]",nK="\\u200d",jk=tK+"?",Uk="["+ZG+"]?",rK="(?:"+nK+"(?:"+[Lk,Mk,Fk].join("|")+")"+Uk+jk+")*",iK=Uk+jk+rK,sK="(?:"+[Lk+ng+"?",ng,Mk,Fk,eK].join("|")+")",oK=RegExp(rg+"(?="+rg+")|"+sK+iK,"g");function aK(t){return t.match(oK)||[]}var uK=aK,lK=qG,cK=Nk,hK=uK;function fK(t){return cK(t)?hK(t):lK(t)}var dK=fK,pK=MG,mK=Nk,gK=dK,vK=Ju;function yK(t){return function(e){e=vK(e);var n=mK(e)?gK(e):void 0,r=n?n[0]:e.charAt(0),i=n?pK(n,1).join(""):e.slice(1);return r[t]()+i}}var wK=yK,_K=wK,EK=_K("toUpperCase"),SK=EK,TK=Ju,CK=SK;function IK(t){return CK(TK(t).toLowerCase())}var $K=IK,kK=$K,bK=Pk,xK=bK(function(t,e,n){return e=e.toLowerCase(),t+(n?kK(e):e)}),AK=xK;const OK=fr(AK);var RK=nk,PK=sk,NK=pk;function DK(t,e){var n={};return e=NK(e),PK(t,function(r,i,s){RK(n,e(r,i,s),r)}),n}var LK=DK;const MK=fr(LK);var Wy={exports:{}};Wy.exports=function(t){return Vk(FK(t),t)};Wy.exports.array=Vk;function Vk(t,e){var n=t.length,r=new Array(n),i={},s=n,o=jK(e),a=UK(t);for(e.forEach(function(l){if(!a.has(l[0])||!a.has(l[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||u(t[s],s,new Set);return r;function u(l,c,h){if(h.has(l)){var f;try{f=", node was:"+JSON.stringify(l)}catch{f=""}throw new Error("Cyclic dependency"+f)}if(!a.has(l))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(l));if(!i[c]){i[c]=!0;var p=o.get(l)||new Set;if(p=Array.from(p),c=p.length){h.add(l);do{var g=p[--c];u(g,a.get(g),h)}while(c);h.delete(l)}r[--n]=l}}}function FK(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}function jK(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function UK(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var VK=Wy.exports;const zK=fr(VK);function BK(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([o,a])=>`${o}-${a}`));function s(o,a){let u=Df.split(o)[0];r.add(u),i.has(`${a}-${u}`)||n.push([a,u])}for(const o in t)if(rh(t,o)){let a=t[o];r.add(o),tr.isRef(a)&&a.isSibling?s(a.path,o):ek(a)&&"deps"in a&&a.deps.forEach(u=>s(u,o))}return zK.array(Array.from(r),n).reverse()}function q_(t,e){let n=1/0;return t.some((r,i)=>{var s;if(((s=e.path)==null?void 0:s.indexOf(r))!==-1)return n=i,!0}),n}function zk(t){return(e,n)=>q_(t,e)-q_(t,n)}function Ds(){return Ds=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ds.apply(this,arguments)}let Q_=t=>Object.prototype.toString.call(t)==="[object Object]";function HK(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const WK=zk([]);class Bk extends xt{constructor(e){super({type:"object"}),this.fields=Object.create(null),this._sortErrors=WK,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{this.transform(function(r){if(typeof r=="string")try{r=JSON.parse(r)}catch{r=null}return this.isType(r)?r:null}),e&&this.shape(e)})}_typeCheck(e){return Q_(e)||typeof e=="function"}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault();if(!this._typeCheck(i))return i;let s=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=this._nodes.concat(Object.keys(i).filter(h=>this._nodes.indexOf(h)===-1)),u={},l=Ds({},n,{parent:u,__validating:n.__validating||!1}),c=!1;for(const h of a){let f=s[h],p=rh(i,h);if(f){let g,v=i[h];l.path=(n.path?`${n.path}.`:"")+h,f=f.resolve({value:v,context:n.context,parent:u});let w="spec"in f?f.spec:void 0,m=w==null?void 0:w.strict;if(w!=null&&w.strip){c=c||h in i;continue}g=!n.__validating||!m?f.cast(i[h],l):i[h],g!==void 0&&(u[h]=g)}else p&&!o&&(u[h]=i[h]);u[h]!==i[h]&&(c=!0)}return c?u:i}_validate(e,n={},r){let i=[],{sync:s,from:o=[],originalValue:a=e,abortEarly:u=this.spec.abortEarly,recursive:l=this.spec.recursive}=n;o=[{schema:this,value:a},...o],n.__validating=!0,n.originalValue=a,n.from=o,super._validate(e,n,(c,h)=>{if(c){if(!Nt.isError(c)||u)return void r(c,h);i.push(c)}if(!l||!Q_(h)){r(i[0]||null,h);return}a=a||h;let f=this._nodes.map(p=>(g,v)=>{let w=p.indexOf(".")===-1?(n.path?`${n.path}.`:"")+p:`${n.path||""}["${p}"]`,m=this.fields[p];if(m&&"validate"in m){m.validate(h[p],Ds({},n,{path:w,from:o,strict:!0,parent:h,originalValue:a[p]}),v);return}v(null)});Qm({sync:s,tests:f,value:h,errors:i,endEarly:u,sort:this._sortErrors,path:n.path},r)})}clone(e){const n=super.clone(e);return n.fields=Ds({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const o=r[i];o===void 0?r[i]=s:o instanceof xt&&s instanceof xt&&(r[i]=s.concat(o))}return n.withMutation(()=>n.shape(r,this._excludedEdges))}getDefaultFromShape(){let e={};return this._nodes.forEach(n=>{const r=this.fields[n];e[n]="default"in r?r.getDefault():void 0}),e}_getDefault(){if("default"in this.spec)return super._getDefault();if(this._nodes.length)return this.getDefaultFromShape()}shape(e,n=[]){let r=this.clone(),i=Object.assign(r.fields,e);return r.fields=i,r._sortErrors=zk(Object.keys(i)),n.length&&(Array.isArray(n[0])||(n=[n]),r._excludedEdges=[...r._excludedEdges,...n]),r._nodes=BK(i,r._excludedEdges),r}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.clone().withMutation(r=>(r.fields={},r.shape(n)))}omit(e){const n=this.clone(),r=n.fields;n.fields={};for(const i of e)delete r[i];return n.withMutation(()=>n.shape(r))}from(e,n,r){let i=Df.getter(e,!0);return this.transform(s=>{if(s==null)return s;let o=s;return rh(s,e)&&(o=Ds({},s),r||delete o[e],o[n]=i(s)),o})}noUnknown(e=!0,n=Km.noUnknown){typeof e=="string"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=HK(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=Km.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>n&&MK(n,(r,i)=>e(i)))}camelCase(){return this.transformKeys(OK)}snakeCase(){return this.transformKeys(K_)}constantCase(){return this.transformKeys(e=>K_(e).toUpperCase())}describe(){let e=super.describe();return e.fields=mk(this.fields,n=>n.describe()),e}}function Zu(t){return new Bk(t)}Zu.prototype=Bk.prototype;var GK=function(e){return KK(e)&&!qK(e)};function KK(t){return!!t&&typeof t=="object"}function qK(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||XK(t)}var QK=typeof Symbol=="function"&&Symbol.for,YK=QK?Symbol.for("react.element"):60103;function XK(t){return t.$$typeof===YK}function JK(t){return Array.isArray(t)?[]:{}}function lh(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Tu(JK(t),t,e):t}function ZK(t,e,n){return t.concat(e).map(function(r){return lh(r,n)})}function eq(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(i){r[i]=lh(t[i],n)}),Object.keys(e).forEach(function(i){!n.isMergeableObject(e[i])||!t[i]?r[i]=lh(e[i],n):r[i]=Tu(t[i],e[i],n)}),r}function Tu(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||ZK,n.isMergeableObject=n.isMergeableObject||GK;var r=Array.isArray(e),i=Array.isArray(t),s=r===i;return s?r?n.arrayMerge(t,e,n):eq(t,e,n):lh(e,n)}Tu.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return Tu(r,i,n)},{})};var ig=Tu,Hk=typeof global=="object"&&global&&global.Object===Object&&global,tq=typeof self=="object"&&self&&self.Object===Object&&self,Un=Hk||tq||Function("return this")(),ii=Un.Symbol,Wk=Object.prototype,nq=Wk.hasOwnProperty,rq=Wk.toString,na=ii?ii.toStringTag:void 0;function iq(t){var e=nq.call(t,na),n=t[na];try{t[na]=void 0;var r=!0}catch{}var i=rq.call(t);return r&&(e?t[na]=n:delete t[na]),i}var sq=Object.prototype,oq=sq.toString;function aq(t){return oq.call(t)}var uq="[object Null]",lq="[object Undefined]",Y_=ii?ii.toStringTag:void 0;function cs(t){return t==null?t===void 0?lq:uq:Y_&&Y_ in Object(t)?iq(t):aq(t)}function Gk(t,e){return function(n){return t(e(n))}}var Gy=Gk(Object.getPrototypeOf,Object);function hs(t){return t!=null&&typeof t=="object"}var cq="[object Object]",hq=Function.prototype,fq=Object.prototype,Kk=hq.toString,dq=fq.hasOwnProperty,pq=Kk.call(Object);function X_(t){if(!hs(t)||cs(t)!=cq)return!1;var e=Gy(t);if(e===null)return!0;var n=dq.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Kk.call(n)==pq}function mq(){this.__data__=[],this.size=0}function qk(t,e){return t===e||t!==t&&e!==e}function Lf(t,e){for(var n=t.length;n--;)if(qk(t[n][0],e))return n;return-1}var gq=Array.prototype,vq=gq.splice;function yq(t){var e=this.__data__,n=Lf(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():vq.call(e,n,1),--this.size,!0}function wq(t){var e=this.__data__,n=Lf(e,t);return n<0?void 0:e[n][1]}function _q(t){return Lf(this.__data__,t)>-1}function Eq(t,e){var n=this.__data__,r=Lf(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function vr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}vr.prototype.clear=mq;vr.prototype.delete=yq;vr.prototype.get=wq;vr.prototype.has=_q;vr.prototype.set=Eq;function Sq(){this.__data__=new vr,this.size=0}function Tq(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Cq(t){return this.__data__.get(t)}function Iq(t){return this.__data__.has(t)}function el(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var $q="[object AsyncFunction]",kq="[object Function]",bq="[object GeneratorFunction]",xq="[object Proxy]";function Qk(t){if(!el(t))return!1;var e=cs(t);return e==kq||e==bq||e==$q||e==xq}var np=Un["__core-js_shared__"],J_=function(){var t=/[^.]+$/.exec(np&&np.keys&&np.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Aq(t){return!!J_&&J_ in t}var Oq=Function.prototype,Rq=Oq.toString;function fs(t){if(t!=null){try{return Rq.call(t)}catch{}try{return t+""}catch{}}return""}var Pq=/[\\^$.*+?()[\]{}|]/g,Nq=/^\[object .+?Constructor\]$/,Dq=Function.prototype,Lq=Object.prototype,Mq=Dq.toString,Fq=Lq.hasOwnProperty,jq=RegExp("^"+Mq.call(Fq).replace(Pq,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Uq(t){if(!el(t)||Aq(t))return!1;var e=Qk(t)?jq:Nq;return e.test(fs(t))}function Vq(t,e){return t==null?void 0:t[e]}function ds(t,e){var n=Vq(t,e);return Uq(n)?n:void 0}var Cu=ds(Un,"Map"),Iu=ds(Object,"create");function zq(){this.__data__=Iu?Iu(null):{},this.size=0}function Bq(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Hq="__lodash_hash_undefined__",Wq=Object.prototype,Gq=Wq.hasOwnProperty;function Kq(t){var e=this.__data__;if(Iu){var n=e[t];return n===Hq?void 0:n}return Gq.call(e,t)?e[t]:void 0}var qq=Object.prototype,Qq=qq.hasOwnProperty;function Yq(t){var e=this.__data__;return Iu?e[t]!==void 0:Qq.call(e,t)}var Xq="__lodash_hash_undefined__";function Jq(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Iu&&e===void 0?Xq:e,this}function es(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}es.prototype.clear=zq;es.prototype.delete=Bq;es.prototype.get=Kq;es.prototype.has=Yq;es.prototype.set=Jq;function Zq(){this.size=0,this.__data__={hash:new es,map:new(Cu||vr),string:new es}}function eQ(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Mf(t,e){var n=t.__data__;return eQ(e)?n[typeof e=="string"?"string":"hash"]:n.map}function tQ(t){var e=Mf(this,t).delete(t);return this.size-=e?1:0,e}function nQ(t){return Mf(this,t).get(t)}function rQ(t){return Mf(this,t).has(t)}function iQ(t,e){var n=Mf(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function di(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}di.prototype.clear=Zq;di.prototype.delete=tQ;di.prototype.get=nQ;di.prototype.has=rQ;di.prototype.set=iQ;var sQ=200;function oQ(t,e){var n=this.__data__;if(n instanceof vr){var r=n.__data__;if(!Cu||r.length<sQ-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new di(r)}return n.set(t,e),this.size=n.size,this}function Vo(t){var e=this.__data__=new vr(t);this.size=e.size}Vo.prototype.clear=Sq;Vo.prototype.delete=Tq;Vo.prototype.get=Cq;Vo.prototype.has=Iq;Vo.prototype.set=oQ;function aQ(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var Z_=function(){try{var t=ds(Object,"defineProperty");return t({},"",{}),t}catch{}}();function Yk(t,e,n){e=="__proto__"&&Z_?Z_(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var uQ=Object.prototype,lQ=uQ.hasOwnProperty;function Xk(t,e,n){var r=t[e];(!(lQ.call(t,e)&&qk(r,n))||n===void 0&&!(e in t))&&Yk(t,e,n)}function Ff(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],u=void 0;u===void 0&&(u=t[a]),i?Yk(n,a,u):Xk(n,a,u)}return n}function cQ(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var hQ="[object Arguments]";function eE(t){return hs(t)&&cs(t)==hQ}var Jk=Object.prototype,fQ=Jk.hasOwnProperty,dQ=Jk.propertyIsEnumerable,pQ=eE(function(){return arguments}())?eE:function(t){return hs(t)&&fQ.call(t,"callee")&&!dQ.call(t,"callee")},tl=Array.isArray;function mQ(){return!1}var Zk=typeof exports=="object"&&exports&&!exports.nodeType&&exports,tE=Zk&&typeof module=="object"&&module&&!module.nodeType&&module,gQ=tE&&tE.exports===Zk,nE=gQ?Un.Buffer:void 0,vQ=nE?nE.isBuffer:void 0,eb=vQ||mQ,yQ=9007199254740991,wQ=/^(?:0|[1-9]\d*)$/;function _Q(t,e){var n=typeof t;return e=e??yQ,!!e&&(n=="number"||n!="symbol"&&wQ.test(t))&&t>-1&&t%1==0&&t<e}var EQ=9007199254740991;function tb(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=EQ}var SQ="[object Arguments]",TQ="[object Array]",CQ="[object Boolean]",IQ="[object Date]",$Q="[object Error]",kQ="[object Function]",bQ="[object Map]",xQ="[object Number]",AQ="[object Object]",OQ="[object RegExp]",RQ="[object Set]",PQ="[object String]",NQ="[object WeakMap]",DQ="[object ArrayBuffer]",LQ="[object DataView]",MQ="[object Float32Array]",FQ="[object Float64Array]",jQ="[object Int8Array]",UQ="[object Int16Array]",VQ="[object Int32Array]",zQ="[object Uint8Array]",BQ="[object Uint8ClampedArray]",HQ="[object Uint16Array]",WQ="[object Uint32Array]",pe={};pe[MQ]=pe[FQ]=pe[jQ]=pe[UQ]=pe[VQ]=pe[zQ]=pe[BQ]=pe[HQ]=pe[WQ]=!0;pe[SQ]=pe[TQ]=pe[DQ]=pe[CQ]=pe[LQ]=pe[IQ]=pe[$Q]=pe[kQ]=pe[bQ]=pe[xQ]=pe[AQ]=pe[OQ]=pe[RQ]=pe[PQ]=pe[NQ]=!1;function GQ(t){return hs(t)&&tb(t.length)&&!!pe[cs(t)]}function Ky(t){return function(e){return t(e)}}var nb=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ra=nb&&typeof module=="object"&&module&&!module.nodeType&&module,KQ=Ra&&Ra.exports===nb,rp=KQ&&Hk.process,yo=function(){try{var t=Ra&&Ra.require&&Ra.require("util").types;return t||rp&&rp.binding&&rp.binding("util")}catch{}}(),rE=yo&&yo.isTypedArray,qQ=rE?Ky(rE):GQ,QQ=Object.prototype,YQ=QQ.hasOwnProperty;function rb(t,e){var n=tl(t),r=!n&&pQ(t),i=!n&&!r&&eb(t),s=!n&&!r&&!i&&qQ(t),o=n||r||i||s,a=o?cQ(t.length,String):[],u=a.length;for(var l in t)(e||YQ.call(t,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||s&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||_Q(l,u)))&&a.push(l);return a}var XQ=Object.prototype;function qy(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||XQ;return t===n}var JQ=Gk(Object.keys,Object),ZQ=Object.prototype,eY=ZQ.hasOwnProperty;function tY(t){if(!qy(t))return JQ(t);var e=[];for(var n in Object(t))eY.call(t,n)&&n!="constructor"&&e.push(n);return e}function ib(t){return t!=null&&tb(t.length)&&!Qk(t)}function Qy(t){return ib(t)?rb(t):tY(t)}function nY(t,e){return t&&Ff(e,Qy(e),t)}function rY(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var iY=Object.prototype,sY=iY.hasOwnProperty;function oY(t){if(!el(t))return rY(t);var e=qy(t),n=[];for(var r in t)r=="constructor"&&(e||!sY.call(t,r))||n.push(r);return n}function Yy(t){return ib(t)?rb(t,!0):oY(t)}function aY(t,e){return t&&Ff(e,Yy(e),t)}var sb=typeof exports=="object"&&exports&&!exports.nodeType&&exports,iE=sb&&typeof module=="object"&&module&&!module.nodeType&&module,uY=iE&&iE.exports===sb,sE=uY?Un.Buffer:void 0,oE=sE?sE.allocUnsafe:void 0;function lY(t,e){if(e)return t.slice();var n=t.length,r=oE?oE(n):new t.constructor(n);return t.copy(r),r}function ob(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function cY(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function ab(){return[]}var hY=Object.prototype,fY=hY.propertyIsEnumerable,aE=Object.getOwnPropertySymbols,Xy=aE?function(t){return t==null?[]:(t=Object(t),cY(aE(t),function(e){return fY.call(t,e)}))}:ab;function dY(t,e){return Ff(t,Xy(t),e)}function ub(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var pY=Object.getOwnPropertySymbols,lb=pY?function(t){for(var e=[];t;)ub(e,Xy(t)),t=Gy(t);return e}:ab;function mY(t,e){return Ff(t,lb(t),e)}function cb(t,e,n){var r=e(t);return tl(t)?r:ub(r,n(t))}function gY(t){return cb(t,Qy,Xy)}function vY(t){return cb(t,Yy,lb)}var sg=ds(Un,"DataView"),og=ds(Un,"Promise"),ag=ds(Un,"Set"),ug=ds(Un,"WeakMap"),uE="[object Map]",yY="[object Object]",lE="[object Promise]",cE="[object Set]",hE="[object WeakMap]",fE="[object DataView]",wY=fs(sg),_Y=fs(Cu),EY=fs(og),SY=fs(ag),TY=fs(ug),Wn=cs;(sg&&Wn(new sg(new ArrayBuffer(1)))!=fE||Cu&&Wn(new Cu)!=uE||og&&Wn(og.resolve())!=lE||ag&&Wn(new ag)!=cE||ug&&Wn(new ug)!=hE)&&(Wn=function(t){var e=cs(t),n=e==yY?t.constructor:void 0,r=n?fs(n):"";if(r)switch(r){case wY:return fE;case _Y:return uE;case EY:return lE;case SY:return cE;case TY:return hE}return e});var CY=Object.prototype,IY=CY.hasOwnProperty;function $Y(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&IY.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var dE=Un.Uint8Array;function Jy(t){var e=new t.constructor(t.byteLength);return new dE(e).set(new dE(t)),e}function kY(t,e){var n=e?Jy(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var bY=/\w*$/;function xY(t){var e=new t.constructor(t.source,bY.exec(t));return e.lastIndex=t.lastIndex,e}var pE=ii?ii.prototype:void 0,mE=pE?pE.valueOf:void 0;function AY(t){return mE?Object(mE.call(t)):{}}function OY(t,e){var n=e?Jy(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var RY="[object Boolean]",PY="[object Date]",NY="[object Map]",DY="[object Number]",LY="[object RegExp]",MY="[object Set]",FY="[object String]",jY="[object Symbol]",UY="[object ArrayBuffer]",VY="[object DataView]",zY="[object Float32Array]",BY="[object Float64Array]",HY="[object Int8Array]",WY="[object Int16Array]",GY="[object Int32Array]",KY="[object Uint8Array]",qY="[object Uint8ClampedArray]",QY="[object Uint16Array]",YY="[object Uint32Array]";function XY(t,e,n){var r=t.constructor;switch(e){case UY:return Jy(t);case RY:case PY:return new r(+t);case VY:return kY(t,n);case zY:case BY:case HY:case WY:case GY:case KY:case qY:case QY:case YY:return OY(t,n);case NY:return new r;case DY:case FY:return new r(t);case LY:return xY(t);case MY:return new r;case jY:return AY(t)}}var gE=Object.create,JY=function(){function t(){}return function(e){if(!el(e))return{};if(gE)return gE(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function ZY(t){return typeof t.constructor=="function"&&!qy(t)?JY(Gy(t)):{}}var eX="[object Map]";function tX(t){return hs(t)&&Wn(t)==eX}var vE=yo&&yo.isMap,nX=vE?Ky(vE):tX,rX="[object Set]";function iX(t){return hs(t)&&Wn(t)==rX}var yE=yo&&yo.isSet,sX=yE?Ky(yE):iX,oX=1,aX=2,uX=4,hb="[object Arguments]",lX="[object Array]",cX="[object Boolean]",hX="[object Date]",fX="[object Error]",fb="[object Function]",dX="[object GeneratorFunction]",pX="[object Map]",mX="[object Number]",db="[object Object]",gX="[object RegExp]",vX="[object Set]",yX="[object String]",wX="[object Symbol]",_X="[object WeakMap]",EX="[object ArrayBuffer]",SX="[object DataView]",TX="[object Float32Array]",CX="[object Float64Array]",IX="[object Int8Array]",$X="[object Int16Array]",kX="[object Int32Array]",bX="[object Uint8Array]",xX="[object Uint8ClampedArray]",AX="[object Uint16Array]",OX="[object Uint32Array]",le={};le[hb]=le[lX]=le[EX]=le[SX]=le[cX]=le[hX]=le[TX]=le[CX]=le[IX]=le[$X]=le[kX]=le[pX]=le[mX]=le[db]=le[gX]=le[vX]=le[yX]=le[wX]=le[bX]=le[xX]=le[AX]=le[OX]=!0;le[fX]=le[fb]=le[_X]=!1;function Pa(t,e,n,r,i,s){var o,a=e&oX,u=e&aX,l=e&uX;if(o!==void 0)return o;if(!el(t))return t;var c=tl(t);if(c){if(o=$Y(t),!a)return ob(t,o)}else{var h=Wn(t),f=h==fb||h==dX;if(eb(t))return lY(t,a);if(h==db||h==hb||f&&!i){if(o=u||f?{}:ZY(t),!a)return u?mY(t,aY(o,t)):dY(t,nY(o,t))}else{if(!le[h])return i?t:{};o=XY(t,h,a)}}s||(s=new Vo);var p=s.get(t);if(p)return p;s.set(t,o),sX(t)?t.forEach(function(w){o.add(Pa(w,e,n,w,t,s))}):nX(t)&&t.forEach(function(w,m){o.set(m,Pa(w,e,n,m,t,s))});var g=l?u?vY:gY:u?Yy:Qy,v=c?void 0:g(t);return aQ(v||t,function(w,m){v&&(m=w,w=t[m]),Xk(o,m,Pa(w,e,n,m,t,s))}),o}var RX=1,PX=4;function Ll(t){return Pa(t,RX|PX)}var wE=Array.isArray,_E=Object.keys,NX=Object.prototype.hasOwnProperty,DX=typeof Element<"u";function lg(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=wE(t),r=wE(e),i,s,o;if(n&&r){if(s=t.length,s!=e.length)return!1;for(i=s;i--!==0;)if(!lg(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var a=t instanceof Date,u=e instanceof Date;if(a!=u)return!1;if(a&&u)return t.getTime()==e.getTime();var l=t instanceof RegExp,c=e instanceof RegExp;if(l!=c)return!1;if(l&&c)return t.toString()==e.toString();var h=_E(t);if(s=h.length,s!==_E(e).length)return!1;for(i=s;i--!==0;)if(!NX.call(e,h[i]))return!1;if(DX&&t instanceof Element&&e instanceof Element)return t===e;for(i=s;i--!==0;)if(o=h[i],!(o==="_owner"&&t.$$typeof)&&!lg(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}var LX=function(e,n){try{return lg(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const Ii=fr(LX);var MX=4;function EE(t){return Pa(t,MX)}function pb(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var FX="[object Symbol]";function Zy(t){return typeof t=="symbol"||hs(t)&&cs(t)==FX}var jX="Expected a function";function e0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(jX);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(e0.Cache||di),n}e0.Cache=di;var UX=500;function VX(t){var e=e0(t,function(r){return n.size===UX&&n.clear(),r}),n=e.cache;return e}var zX=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,BX=/\\(\\)?/g,HX=VX(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(zX,function(n,r,i,s){e.push(i?s.replace(BX,"$1"):r||n)}),e}),WX=1/0;function GX(t){if(typeof t=="string"||Zy(t))return t;var e=t+"";return e=="0"&&1/t==-WX?"-0":e}var KX=1/0,SE=ii?ii.prototype:void 0,TE=SE?SE.toString:void 0;function mb(t){if(typeof t=="string")return t;if(tl(t))return pb(t,mb)+"";if(Zy(t))return TE?TE.call(t):"";var e=t+"";return e=="0"&&1/t==-KX?"-0":e}function qX(t){return t==null?"":mb(t)}function gb(t){return tl(t)?pb(t,GX):Zy(t)?[t]:ob(HX(qX(t)))}function me(){return me=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},me.apply(this,arguments)}function Ls(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var jf=E.createContext(void 0);jf.displayName="FormikContext";var QX=jf.Provider;jf.Consumer;function vb(){var t=E.useContext(jf);return t}var Ot=function(e){return typeof e=="function"},Uf=function(e){return e!==null&&typeof e=="object"},YX=function(e){return String(Math.floor(Number(e)))===e},ip=function(e){return Object.prototype.toString.call(e)==="[object String]"},XX=function(e){return E.Children.count(e)===0},sp=function(e){return Uf(e)&&Ot(e.then)};function At(t,e,n,r){r===void 0&&(r=0);for(var i=gb(e);t&&r<i.length;)t=t[i[r++]];return r!==i.length&&!t||t===void 0?n:t}function Ui(t,e,n){for(var r=EE(t),i=r,s=0,o=gb(e);s<o.length-1;s++){var a=o[s],u=At(t,o.slice(0,s+1));if(u&&(Uf(u)||Array.isArray(u)))i=i[a]=EE(u);else{var l=o[s+1];i=i[a]=YX(l)&&Number(l)>=0?[]:{}}}return(s===0?t:i)[o[s]]===n?t:(n===void 0?delete i[o[s]]:i[o[s]]=n,s===0&&n===void 0&&delete r[o[s]],r)}function yb(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,s=Object.keys(t);i<s.length;i++){var o=s[i],a=t[o];Uf(a)?n.get(a)||(n.set(a,!0),r[o]=Array.isArray(a)?[]:{},yb(a,e,n,r[o])):r[o]=e}return r}function JX(t,e){switch(e.type){case"SET_VALUES":return me({},t,{values:e.payload});case"SET_TOUCHED":return me({},t,{touched:e.payload});case"SET_ERRORS":return Ii(t.errors,e.payload)?t:me({},t,{errors:e.payload});case"SET_STATUS":return me({},t,{status:e.payload});case"SET_ISSUBMITTING":return me({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return me({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return me({},t,{values:Ui(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return me({},t,{touched:Ui(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return me({},t,{errors:Ui(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return me({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return me({},t,{touched:yb(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return me({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return me({},t,{isSubmitting:!1});default:return t}}var vi={},Ml={};function ZX(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,i=r===void 0?!0:r,s=t.validateOnMount,o=s===void 0?!1:s,a=t.isInitialValid,u=t.enableReinitialize,l=u===void 0?!1:u,c=t.onSubmit,h=Ls(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),f=me({validateOnChange:n,validateOnBlur:i,validateOnMount:o,onSubmit:c},h),p=E.useRef(f.initialValues),g=E.useRef(f.initialErrors||vi),v=E.useRef(f.initialTouched||Ml),w=E.useRef(f.initialStatus),m=E.useRef(!1),d=E.useRef({});E.useEffect(function(){return m.current=!0,function(){m.current=!1}},[]);var y=E.useState(0),S=y[1],I=E.useRef({values:Ll(f.initialValues),errors:Ll(f.initialErrors)||vi,touched:Ll(f.initialTouched)||Ml,status:Ll(f.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),C=I.current,$=E.useCallback(function(T){var P=I.current;I.current=JX(P,T),P!==I.current&&S(function(M){return M+1})},[]),R=E.useCallback(function(T,P){return new Promise(function(M,j){var Q=f.validate(T,P);Q==null?M(vi):sp(Q)?Q.then(function(re){M(re||vi)},function(re){j(re)}):M(Q)})},[f.validate]),q=E.useCallback(function(T,P){var M=f.validationSchema,j=Ot(M)?M(P):M,Q=P&&j.validateAt?j.validateAt(P,T):tJ(T,j);return new Promise(function(re,Ue){Q.then(function(){re(vi)},function(Vn){Vn.name==="ValidationError"?re(eJ(Vn)):Ue(Vn)})})},[f.validationSchema]),F=E.useCallback(function(T,P){return new Promise(function(M){return M(d.current[T].validate(P))})},[]),Oe=E.useCallback(function(T){var P=Object.keys(d.current).filter(function(j){return Ot(d.current[j].validate)}),M=P.length>0?P.map(function(j){return F(j,At(T,j))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(M).then(function(j){return j.reduce(function(Q,re,Ue){return re==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||re&&(Q=Ui(Q,P[Ue],re)),Q},{})})},[F]),pi=E.useCallback(function(T){return Promise.all([Oe(T),f.validationSchema?q(T):{},f.validate?R(T):{}]).then(function(P){var M=P[0],j=P[1],Q=P[2],re=ig.all([M,j,Q],{arrayMerge:nJ});return re})},[f.validate,f.validationSchema,Oe,R,q]),Ke=Wt(function(T){return T===void 0&&(T=C.values),$({type:"SET_ISVALIDATING",payload:!0}),pi(T).then(function(P){return m.current&&($({type:"SET_ISVALIDATING",payload:!1}),$({type:"SET_ERRORS",payload:P})),P})});E.useEffect(function(){o&&m.current===!0&&Ii(p.current,f.initialValues)&&Ke(p.current)},[o,Ke]);var yr=E.useCallback(function(T){var P=T&&T.values?T.values:p.current,M=T&&T.errors?T.errors:g.current?g.current:f.initialErrors||{},j=T&&T.touched?T.touched:v.current?v.current:f.initialTouched||{},Q=T&&T.status?T.status:w.current?w.current:f.initialStatus;p.current=P,g.current=M,v.current=j,w.current=Q;var re=function(){$({type:"RESET_FORM",payload:{isSubmitting:!!T&&!!T.isSubmitting,errors:M,touched:j,status:Q,values:P,isValidating:!!T&&!!T.isValidating,submitCount:T&&T.submitCount&&typeof T.submitCount=="number"?T.submitCount:0}})};if(f.onReset){var Ue=f.onReset(C.values,i0);sp(Ue)?Ue.then(re):re()}else re()},[f.initialErrors,f.initialStatus,f.initialTouched,f.onReset]);E.useEffect(function(){m.current===!0&&!Ii(p.current,f.initialValues)&&l&&(p.current=f.initialValues,yr(),o&&Ke(p.current))},[l,f.initialValues,yr,o,Ke]),E.useEffect(function(){l&&m.current===!0&&!Ii(g.current,f.initialErrors)&&(g.current=f.initialErrors||vi,$({type:"SET_ERRORS",payload:f.initialErrors||vi}))},[l,f.initialErrors]),E.useEffect(function(){l&&m.current===!0&&!Ii(v.current,f.initialTouched)&&(v.current=f.initialTouched||Ml,$({type:"SET_TOUCHED",payload:f.initialTouched||Ml}))},[l,f.initialTouched]),E.useEffect(function(){l&&m.current===!0&&!Ii(w.current,f.initialStatus)&&(w.current=f.initialStatus,$({type:"SET_STATUS",payload:f.initialStatus}))},[l,f.initialStatus,f.initialTouched]);var nl=Wt(function(T){if(d.current[T]&&Ot(d.current[T].validate)){var P=At(C.values,T),M=d.current[T].validate(P);return sp(M)?($({type:"SET_ISVALIDATING",payload:!0}),M.then(function(j){return j}).then(function(j){$({type:"SET_FIELD_ERROR",payload:{field:T,value:j}}),$({type:"SET_ISVALIDATING",payload:!1})})):($({type:"SET_FIELD_ERROR",payload:{field:T,value:M}}),Promise.resolve(M))}else if(f.validationSchema)return $({type:"SET_ISVALIDATING",payload:!0}),q(C.values,T).then(function(j){return j}).then(function(j){$({type:"SET_FIELD_ERROR",payload:{field:T,value:At(j,T)}}),$({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),Bo=E.useCallback(function(T,P){var M=P.validate;d.current[T]={validate:M}},[]),Ho=E.useCallback(function(T){delete d.current[T]},[]),O=Wt(function(T,P){$({type:"SET_TOUCHED",payload:T});var M=P===void 0?i:P;return M?Ke(C.values):Promise.resolve()}),H=E.useCallback(function(T){$({type:"SET_ERRORS",payload:T})},[]),K=Wt(function(T,P){var M=Ot(T)?T(C.values):T;$({type:"SET_VALUES",payload:M});var j=P===void 0?n:P;return j?Ke(M):Promise.resolve()}),ue=E.useCallback(function(T,P){$({type:"SET_FIELD_ERROR",payload:{field:T,value:P}})},[]),he=Wt(function(T,P,M){$({type:"SET_FIELD_VALUE",payload:{field:T,value:P}});var j=M===void 0?n:M;return j?Ke(Ui(C.values,T,P)):Promise.resolve()}),mi=E.useCallback(function(T,P){var M=P,j=T,Q;if(!ip(T)){T.persist&&T.persist();var re=T.target?T.target:T.currentTarget,Ue=re.type,Vn=re.name,Hf=re.id,Wf=re.value,Pb=re.checked,Yee=re.outerHTML,s0=re.options,Nb=re.multiple;M=P||Vn||Hf,j=/number|range/.test(Ue)?(Q=parseFloat(Wf),isNaN(Q)?"":Q):/checkbox/.test(Ue)?iJ(At(C.values,M),Pb,Wf):s0&&Nb?rJ(s0):Wf}M&&he(M,j)},[he,C.values]),on=Wt(function(T){if(ip(T))return function(P){return mi(P,T)};mi(T)}),Tn=Wt(function(T,P,M){P===void 0&&(P=!0),$({type:"SET_FIELD_TOUCHED",payload:{field:T,value:P}});var j=M===void 0?i:M;return j?Ke(C.values):Promise.resolve()}),Cn=E.useCallback(function(T,P){T.persist&&T.persist();var M=T.target,j=M.name,Q=M.id,re=M.outerHTML,Ue=P||j||Q;Tn(Ue,!0)},[Tn]),wr=Wt(function(T){if(ip(T))return function(P){return Cn(P,T)};Cn(T)}),t0=E.useCallback(function(T){Ot(T)?$({type:"SET_FORMIK_STATE",payload:T}):$({type:"SET_FORMIK_STATE",payload:function(){return T}})},[]),n0=E.useCallback(function(T){$({type:"SET_STATUS",payload:T})},[]),r0=E.useCallback(function(T){$({type:"SET_ISSUBMITTING",payload:T})},[]),zf=Wt(function(){return $({type:"SUBMIT_ATTEMPT"}),Ke().then(function(T){var P=T instanceof Error,M=!P&&Object.keys(T).length===0;if(M){var j;try{if(j=$b(),j===void 0)return}catch(Q){throw Q}return Promise.resolve(j).then(function(Q){return m.current&&$({type:"SUBMIT_SUCCESS"}),Q}).catch(function(Q){if(m.current)throw $({type:"SUBMIT_FAILURE"}),Q})}else if(m.current&&($({type:"SUBMIT_FAILURE"}),P))throw T})}),Ib=Wt(function(T){T&&T.preventDefault&&Ot(T.preventDefault)&&T.preventDefault(),T&&T.stopPropagation&&Ot(T.stopPropagation)&&T.stopPropagation(),zf().catch(function(P){console.warn("Warning: An unhandled error was caught from submitForm()",P)})}),i0={resetForm:yr,validateForm:Ke,validateField:nl,setErrors:H,setFieldError:ue,setFieldTouched:Tn,setFieldValue:he,setStatus:n0,setSubmitting:r0,setTouched:O,setValues:K,setFormikState:t0,submitForm:zf},$b=Wt(function(){return c(C.values,i0)}),kb=Wt(function(T){T&&T.preventDefault&&Ot(T.preventDefault)&&T.preventDefault(),T&&T.stopPropagation&&Ot(T.stopPropagation)&&T.stopPropagation(),yr()}),bb=E.useCallback(function(T){return{value:At(C.values,T),error:At(C.errors,T),touched:!!At(C.touched,T),initialValue:At(p.current,T),initialTouched:!!At(v.current,T),initialError:At(g.current,T)}},[C.errors,C.touched,C.values]),xb=E.useCallback(function(T){return{setValue:function(M,j){return he(T,M,j)},setTouched:function(M,j){return Tn(T,M,j)},setError:function(M){return ue(T,M)}}},[he,Tn,ue]),Ab=E.useCallback(function(T){var P=Uf(T),M=P?T.name:T,j=At(C.values,M),Q={name:M,value:j,onChange:on,onBlur:wr};if(P){var re=T.type,Ue=T.value,Vn=T.as,Hf=T.multiple;re==="checkbox"?Ue===void 0?Q.checked=!!j:(Q.checked=!!(Array.isArray(j)&&~j.indexOf(Ue)),Q.value=Ue):re==="radio"?(Q.checked=j===Ue,Q.value=Ue):Vn==="select"&&Hf&&(Q.value=Q.value||[],Q.multiple=!0)}return Q},[wr,on,C.values]),Bf=E.useMemo(function(){return!Ii(p.current,C.values)},[p.current,C.values]),Ob=E.useMemo(function(){return typeof a<"u"?Bf?C.errors&&Object.keys(C.errors).length===0:a!==!1&&Ot(a)?a(f):a:C.errors&&Object.keys(C.errors).length===0},[a,Bf,C.errors,f]),Rb=me({},C,{initialValues:p.current,initialErrors:g.current,initialTouched:v.current,initialStatus:w.current,handleBlur:wr,handleChange:on,handleReset:kb,handleSubmit:Ib,resetForm:yr,setErrors:H,setFormikState:t0,setFieldTouched:Tn,setFieldValue:he,setFieldError:ue,setStatus:n0,setSubmitting:r0,setTouched:O,setValues:K,submitForm:zf,validateForm:Ke,validateField:nl,isValid:Ob,dirty:Bf,unregisterField:Ho,registerField:Bo,getFieldProps:Ab,getFieldMeta:bb,getFieldHelpers:xb,validateOnBlur:i,validateOnChange:n,validateOnMount:o});return Rb}function cg(t){var e=ZX(t),n=t.component,r=t.children,i=t.render,s=t.innerRef;return E.useImperativeHandle(s,function(){return e}),E.createElement(QX,{value:e},n?E.createElement(n,e):i?i(e):r?Ot(r)?r(e):XX(r)?null:E.Children.only(r):null)}function eJ(t){var e={};if(t.inner){if(t.inner.length===0)return Ui(e,t.path,t.message);for(var i=t.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var s;if(n){if(r>=i.length)break;s=i[r++]}else{if(r=i.next(),r.done)break;s=r.value}var o=s;At(e,o.path)||(e=Ui(e,o.path,o.message))}}return e}function tJ(t,e,n,r){n===void 0&&(n=!1);var i=hg(t);return e[n?"validateSync":"validate"](i,{abortEarly:!1,context:i})}function hg(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(i){return Array.isArray(i)===!0||X_(i)?hg(i):i!==""?i:void 0}):X_(t[r])?e[r]=hg(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function nJ(t,e,n){var r=t.slice();return e.forEach(function(s,o){if(typeof r[o]>"u"){var a=n.clone!==!1,u=a&&n.isMergeableObject(s);r[o]=u?ig(Array.isArray(s)?[]:{},s,n):s}else n.isMergeableObject(s)?r[o]=ig(t[o],s,n):t.indexOf(s)===-1&&r.push(s)}),r}function rJ(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function iJ(t,e,n){if(typeof t=="boolean")return!!e;var r=[],i=!1,s=-1;if(Array.isArray(t))r=t,s=t.indexOf(n),i=s>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!i?r.concat(n):i?r.slice(0,s).concat(r.slice(s+1)):r}var sJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?E.useLayoutEffect:E.useEffect;function Wt(t){var e=E.useRef(t);return sJ(function(){e.current=t}),E.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current.apply(void 0,r)},[])}function ch(t){var e=t.validate,n=t.name,r=t.render,i=t.children,s=t.as,o=t.component,a=t.className,u=Ls(t,["validate","name","render","children","as","component","className"]),l=vb(),c=Ls(l,["validate","validationSchema"]),h=c.registerField,f=c.unregisterField;E.useEffect(function(){return h(n,{validate:e}),function(){f(n)}},[h,f,n,e]);var p=c.getFieldProps(me({name:n},u)),g=c.getFieldMeta(n),v={field:p,form:c};if(r)return r(me({},v,{meta:g}));if(Ot(i))return i(me({},v,{meta:g}));if(o){if(typeof o=="string"){var w=u.innerRef,m=Ls(u,["innerRef"]);return E.createElement(o,me({ref:w},p,m,{className:a}),i)}return E.createElement(o,me({field:p,form:c},u,{className:a}),i)}var d=s||"input";if(typeof d=="string"){var y=u.innerRef,S=Ls(u,["innerRef"]);return E.createElement(d,me({ref:y},p,S,{className:a}),i)}return E.createElement(d,me({},p,u,{className:a}),i)}var hh=E.forwardRef(function(t,e){var n=t.action,r=Ls(t,["action"]),i=n??"#",s=vb(),o=s.handleReset,a=s.handleSubmit;return E.createElement("form",me({onSubmit:a,ref:e,onReset:o,action:i},r))});hh.displayName="Form";const gs=t=>{const{uid:e,displayName:n,phoneNumber:r,email:i,photoURL:s,providerId:o}=t;return{uid:e,displayName:n,phoneNumber:r,email:i,photoURL:s,providerId:o}};class wb{constructor(){Ht(this,"createUser",bn("user/createUser",async e=>{try{const{user:n}=await D4(it,e.email,e.password);if(!(n!=null&&n.uid))throw new Error(" .   ");return await F4(n,{displayName:`${e.name} ${e.lastname}`}),gs(n)}catch(n){console.error(n)}return null}));Ht(this,"authUser",bn("user/authUser",async e=>{try{const{user:n}=await L4(it,e.authEmail,e.password);if(!n)throw new Error("   ");return gs(n)}catch(n){console.error(n)}return null}));Ht(this,"authUserWithPhone",async e=>{try{const n=new vj("auth-button",{size:"invisible"},it);return it.currentUser?await new Yr(it).verifyPhoneNumber(e,n):await _j(it,e,n)}catch(n){return console.error(n),null}});Ht(this,"confirmAuthUserWithPhone",bn("user/confirmAuthUserWithPhone",async({code:e,confirmResult:n,providerId:r})=>{try{if(it.currentUser&&r){const i=Yr.credential(r,e);return await Ej(it.currentUser,i),gs(it.currentUser)}else if(n){const i=(await n.confirm(e)).user;return gs(i)}else throw new Error("    ")}catch(i){return console.error(i),null}}));Ht(this,"getUser",bn("user/getUser",async()=>await new Promise((n,r)=>{V4(it,i=>{i?n(gs(i)):r("  ")})}).then(n=>n)||null));Ht(this,"signOutUser",bn("user/removeUser",async()=>{try{await it.signOut().catch(()=>{throw new Error("  ")})}catch(e){console.error(e)}}));Ht(this,"authUserWithGoogle",bn("user/authUserWithGoogle",async()=>{const e=new Gn;return await $j(it,e).then(async n=>gs(n.user)).catch(n=>(console.error(n.code),null))}))}}const oJ={uid:"",displayName:"",phoneNumber:"",email:"",loyalty:!1,photoURL:"",providerId:""},_b=rs({name:"user",initialState:oJ,reducers:{setPhone(t,e){t.phoneNumber=e.payload},setUserData(t,e){const n=e.payload;t.uid=n.uid,t.displayName=n.displayName,t.phoneNumber=n.phoneNumber,t.email=n.email,t.photoURL=n.photoURL,t.providerId=n.providerId}},extraReducers:t=>{t.addCase(lJ.fulfilled,ra),t.addCase(uJ.fulfilled,ra),t.addCase(aJ.fulfilled,ra),t.addCase(fJ.fulfilled,ra),t.addCase(hJ.fulfilled,ra),t.addCase(cJ.fulfilled,dJ)}}),{createUser:aJ,authUser:uJ,getUser:lJ,signOutUser:cJ,confirmAuthUserWithPhone:hJ,authUserWithGoogle:fJ}=new wb,ra=(t,e)=>{if(!e.payload)return;const n=e.payload;t.uid=n.uid,t.displayName=n.displayName??"",t.phoneNumber=n.phoneNumber,t.email=n.email,t.photoURL=n.photoURL,t.providerId=n.providerId},dJ=t=>{t.uid="",t.displayName="",t.phoneNumber="",t.email="",t.loyalty=!1,t.photoURL="",t.providerId="",localStorage.removeItem("discount")},Vf=()=>{const t=is(),{setUserData:e,setPhone:n}=_b.actions,{createUser:r,authUser:i,getUser:s,signOutUser:o,authUserWithPhone:a,confirmAuthUserWithPhone:u,authUserWithGoogle:l}=new wb;return{setUserData:c=>t(e(c)),setPhone:c=>t(n(c)),createUser:c=>t(r(c)),authUser:c=>t(i(c)),getUser:()=>t(s()),signOutUser:()=>t(o()),confirmAuthUserWithPhone:c=>t(u(c)),authUserWithGoogle:()=>t(l()),authUserWithPhone:c=>a(c)}},Eb=()=>To(t=>t.user),ete=Zu().shape({name:Kn().min(2,"  ").max(35,"  ").required(" "),lastname:Kn().min(2,"  ").max(35,"  ").required(" "),email:Kn().email(" email").required(" "),pass:Kn().min(8," 8 ").matches(/[A-Z-]+/u,"   ").matches(/[a-z-]+/u,"   ").matches(/\W+/,'   "!";%:?*()_+{}[]<>?/.,"').required(" "),confirmPass:Kn().oneOf([cW("pass")],"  ")}),pJ=/^(\+7|7|8)?[\s\\-]?\(?[489][0-9]{2}\)?[\s\\-]?[0-9]{3}[\s\\-]?[0-9]{2}[\s\\-]?[0-9]{2}$/,mJ="_shining_1tiz6_1",gJ="_buttonShining_1tiz6_1",vJ="_auth_form_1tiz6_19",yJ="_title_1tiz6_26",wJ="_second_title_1tiz6_31",_J="_form_1tiz6_40",EJ="_input_1tiz6_48",SJ="_label_1tiz6_60",TJ="_error_1tiz6_68",CJ="_hide_1tiz6_73",vt={shining:mJ,buttonShining:gJ,auth_form:vJ,title:yJ,second_title:wJ,form:_J,input:EJ,label:SJ,error:TJ,hide:CJ},IJ=Zu().shape({phoneNumber:Kn().matches(pJ,"   ")}),$J=Zu().shape({code:Kn()}),kJ=({hasRedirect:t,handler:e})=>{const[n,r]=E.useState(!1),[i,s]=E.useState(""),[o,a]=E.useState(),{authUserWithPhone:u,confirmAuthUserWithPhone:l}=Vf(),c=Ou(),h=E.useCallback(g=>{s(g)},[]),f=E.useCallback(g=>u(g.phoneNumber).then(v=>{if(!v)throw new Error(" ");a(v)}).catch(v=>h(v.message)),[u,h]),p=E.useCallback(async({code:g})=>{if(!o)return;const v=typeof o=="string";try{v?await l({code:g,providerId:o}):await l({code:g,confirmResult:o}),e==null||e(),t&&c("/profile")}catch(w){console.error(w),h(" ")}},[l,o,e,t,c,h]);return _.jsxs(_.Fragment,{children:[_.jsxs(Qu,{open:n,onClose:()=>r(!1),style:{maxWidth:500},children:[_.jsx("h2",{children:i}),_.jsx(Mn,{children:"",onClick:()=>r(!1)})]}),_.jsxs("div",{className:lt(vt.auth_form,{[vt.hide]:!!o}),children:[_.jsx("h2",{className:vt.title,children:""}),_.jsx(cg,{initialValues:{phoneNumber:""},validateOnBlur:!0,validationSchema:IJ,onSubmit:f,children:({values:g,handleChange:v,errors:w,touched:m,handleBlur:d,isValid:y,isSubmitting:S})=>_.jsxs(hh,{className:vt.form,children:[_.jsxs("label",{htmlFor:"phoneNumber",className:vt.label,children:["",_.jsx(ch,{className:vt.input,type:"phone",name:"phoneNumber",id:"phone",onChange:v,value:g.phoneNumber,onBlur:d,placeholder:"+78005553535",required:!0}),m.phoneNumber&&w.phoneNumber&&_.jsx("p",{className:vt.error,children:w.phoneNumber})]}),_.jsx(Mn,{children:" ",isDisabled:!y,isLoading:S,type:"submit",id:"auth-button",className:lt({shining:S})})]})})]}),_.jsxs("div",{className:lt(vt.auth_form,{[vt.hide]:!o}),children:[_.jsx("h2",{className:vt.title,children:""}),_.jsx("p",{className:vt.second_title,children:"   "}),_.jsx(cg,{initialValues:{code:""},validateOnBlur:!0,validationSchema:$J,onSubmit:p,children:({values:g,handleChange:v,errors:w,touched:m,handleBlur:d,isValid:y,isSubmitting:S})=>_.jsxs(hh,{className:vt.form,children:[_.jsxs("label",{htmlFor:"code",className:vt.label,children:[" ",_.jsx(ch,{className:vt.input,type:"text",name:"code",id:"code",onChange:v,value:g.code,onBlur:d,placeholder:"",required:!0}),m.code&&w.code&&_.jsx("p",{className:vt.error,children:w.code})]}),_.jsx(Mn,{children:"",isDisabled:!y,isLoading:S,type:"submit",id:"auth-button",className:lt({shining:S})})]})})]})]})},bJ=({open:t,handler:e,onClose:n})=>_.jsx(Qu,{open:t,header:"  ,  ",style:{maxWidth:500},onClose:n,children:_.jsxs("div",{className:r6.wrapper,children:[_.jsx(kJ,{handler:e,hasRedirect:!1}),_.jsxs("p",{children:[""," ",_.jsx(mn,{to:"profile/signup",onClick:n,children:""})]})]})}),xJ="_shining_18ms3_1",AJ="_buttonShining_18ms3_1",OJ="_button_18ms3_19",RJ="_button_icon_18ms3_39",PJ="_sending_18ms3_51",NJ="_hide_18ms3_56",op={shining:xJ,buttonShining:AJ,button:OJ,button_icon:RJ,sending:PJ,hide:NJ};class Sb{constructor(){Ht(this,"getOrder",bn("cart/getOrder",async(e,n)=>{const{cart:{cartItems:r,totalPrice:i,discount:s},delivery:{currentRegion:o,currentCost:a},user:{uid:u,phoneNumber:l}}=n.getState();n.dispatch(Na.actions.setOrderStatus($e.LOADING));const c=u||`anon_user_${Math.floor(Math.random()*1e17).toString(16).toLocaleUpperCase()}`,h=Math.floor(Math.random()*1e17).toString(16).toLocaleUpperCase(),f=await Ns(Ri(Ni,"orders",c)).then(v=>v.data())??{},p=1e11*((i+a)/100)*30/1e11,g={orderID:h,items:r.map(v=>{const{id:w,count:m,title:d,price:y}=v;return{id:w,count:m,title:d,price:y}}),address:o,deliveryCost:a,discount:s,TotalCost:s>0&&i>0?i+a-p:i+a};return await FF(Ri(Ni,"orders",c),f.orderslist?{orderslist:[...f.orderslist,g],phone:l}:{orderslist:[g],phone:l}).then(()=>(n.dispatch(bf.actions.clearCart()),n.dispatch(Na.actions.setOrderStatus($e.SUCCESS)),h)).catch(()=>{n.dispatch(Na.actions.setOrderStatus($e.ERROR)),console.error("   .   ")})}))}}const DJ={orderId:null,status:$e.WAITING},Na=rs({name:"orderSlice",initialState:DJ,reducers:{setOrderStatus(t,e){t.status=e.payload}},extraReducers(t){t.addCase(ap.pending,e=>{e.status=$e.LOADING}),t.addCase(ap.fulfilled,(e,n)=>{n.payload&&(e.status=$e.SUCCESS,e.orderId=n.payload,localStorage.removeItem("cart"),localStorage.removeItem("count"),localStorage.removeItem("discount"),localStorage.removeItem("totalPrice"))}),t.addCase(ap.rejected,e=>{e.status=$e.ERROR})}}),ap=new Sb().getOrder,Tb=()=>{const t=is(),{setOrderStatus:e}=Na.actions,n=new Sb;return{setOrderStatus:r=>t(e(r)),getOrder:()=>t(n.getOrder())}},Cb=()=>To(t=>t.order),LJ="_shining_vflkh_1",MJ="_buttonShining_vflkh_1",FJ="_button_vflkh_19",jJ="_pressed_vflkh_52",CE={shining:LJ,buttonShining:MJ,button:FJ,pressed:jJ},Mn=({onClick:t,className:e,isDisabled:n,isLoading:r,children:i,...s})=>_.jsx("button",{disabled:!!n,className:lt(CE.button,{[e??""]:!!e,[CE.shining]:!!r}),onClick:o=>!r&&(t==null?void 0:t(o)),...s,children:i}),UJ=({className:t,...e})=>{const[n,r]=E.useState(!1),{phoneNumber:i}=Eb(),{getOrder:s}=Tb(),{status:o}=Cb(),{currentRegion:a}=Ny(),{pathname:u}=$o(),l=Ou(),c=u.includes("cart")?()=>{i?(s(),r(!1)):r(!0)}:()=>l("cart");return _.jsxs(_.Fragment,{children:[_.jsx(bJ,{open:n,onClose:()=>r(!1),handler:c}),_.jsxs(Mn,{className:lt(op.button,t),isLoading:o===$e.LOADING,onClick:c,...e,children:[a===""?" ":" ",_.jsx("img",{className:lt(op.button_icon,{[op.hide]:a===""}),height:30,src:B5,alt:"deliveryBoy"})]})]})},VJ=YO({reducer:{assortment:D$.reducer,cart:bf.reducer,delivery:U$.reducer,filters:L$.reducer,navbar:YT.reducer,order:Na.reducer,user:_b.reducer}}),zo=()=>({assortmentStore:{actions:E5(),getters:S5()},cartStore:{actions:R$(),getters:P$()},deliveryStore:{actions:N5(),getters:Ny()},filtersStore:{actions:C5(),getters:I5()},navbarStore:{actions:hC(),getters:JR()},orderStore:{actions:Tb(),getters:Cb()},userStore:{actions:Vf(),getters:Eb()}}),zJ="_shining_9hmpb_1",BJ="_buttonShining_9hmpb_1",HJ="_item_9hmpb_19",WJ="_cover_9hmpb_28",GJ="_description_9hmpb_36",KJ="_price_9hmpb_44",qJ="_count_9hmpb_53",QJ="_button_9hmpb_60",YJ="_button_text_9hmpb_77",Sr={shining:zJ,buttonShining:BJ,item:HJ,cover:WJ,description:GJ,price:KJ,count:qJ,button:QJ,button_text:YJ},XJ=({item:t})=>{const{cartStore:e,orderStore:n}=zo(),[r,i]=E.useState(!1),{removeFromCart:s,addToCart:o}=e.actions,{setOrderStatus:a}=n.actions,u=()=>{t.count>1?s(t.id):i(!0)},l=()=>{o(t),a($e.WAITING)};return _.jsxs(_.Fragment,{children:[_.jsxs(Qu,{open:r,onClose:()=>i(!1),style:{maxWidth:500},children:[_.jsx("p",{children:` ${t.title}  ?`}),_.jsxs("div",{style:{display:"flex",gap:"20px"},children:[_.jsx(Mn,{children:"OK",onClick:()=>s(t.id)}),_.jsx(Mn,{children:"",onClick:()=>i(!1)})]})]}),_.jsxs("div",{className:Sr.item,children:[_.jsx("img",{className:Sr.cover,src:t.dishPhoto,alt:"",style:{backgroundImage:`URL(${$5})`},width:200,height:200,loading:"lazy",decoding:"async"}),_.jsxs("p",{className:Sr.description,children:[t.count," x ",t.title]}),_.jsx("span",{className:Sr.price,children:ga(t.price*t.count)}),_.jsxs("div",{className:Sr.count,children:[_.jsx("button",{className:Sr.button,onClick:u,children:"-"}),_.jsx("span",{className:Sr.button_text,children:t.count}),_.jsx("button",{className:Sr.button,onClick:l,children:"+"})]})]})]})},JJ="data:image/svg+xml,%3csvg%20width='100'%20height='100'%20viewBox='0%200%20100%20100'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M50%20100C77.6142%20100%20100%2077.6142%20100%2050C100%2022.3858%2077.6142%200%2050%200C22.3858%200%200%2022.3858%200%2050C0%2077.6142%2022.3858%20100%2050%20100ZM55%2065V20H45V65H55ZM55%2080V70H45V80H55Z'%20fill='white'/%3e%3c/svg%3e",ZJ="_shining_1hjtn_1",eZ="_buttonShining_1hjtn_1",tZ="_empty_1hjtn_19",nZ="_image_1hjtn_23",rZ="_text_1hjtn_28",up={shining:ZJ,buttonShining:eZ,empty:tZ,image:nZ,text:rZ},iZ=()=>_.jsxs("div",{className:up.empty,children:[_.jsx("img",{className:up.image,src:JJ,alt:""}),_.jsxs("p",{className:up.text,children:["   .",_.jsx("br",{})," -   ."]})]}),sZ="data:image/svg+xml,%3csvg%20width='100'%20height='100'%20viewBox='0%200%20100%20100'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20r='9'%20transform='matrix(-1%200%200%201%2072%209)'%20fill='white'/%3e%3cpath%20d='M63.9819%2024.8505L50.9481%2063.4907'%20stroke='white'%20stroke-width='6'%20stroke-linecap='round'/%3e%3cpath%20d='M55.3333%2060.6085L70.1848%2071.8265'%20stroke='white'%20stroke-width='6'%20stroke-linecap='round'/%3e%3cpath%20d='M80.8167%2096.5167L70.5603%2072.0514'%20stroke='white'%20stroke-width='6'%20stroke-linecap='round'/%3e%3cpath%20d='M48.8309%2076.822L50.9484%2063.4906'%20stroke='white'%20stroke-width='6'%20stroke-linecap='round'/%3e%3cpath%20d='M34.4833%2096.5167L47.9954%2077.8346'%20stroke='white'%20stroke-width='6'%20stroke-linecap='round'/%3e%3cpath%20d='M63.8967%2024.6452L49.7899%2038.1108'%20stroke='white'%20stroke-width='6'%20stroke-linecap='round'/%3e%3cpath%20d='M59.6958%2013.7874L31.1396%204.51167C29.5638%203.99982%2027.8714%204.86232%2027.3596%206.43812L13.605%2048.7831C13.0931%2050.3589%2013.9556%2052.0513%2015.5314%2052.5632L44.0876%2061.8388L59.6958%2013.7874Z'%20fill='%23E6007E'%20stroke='%23071B2C'%20stroke-width='4'/%3e%3cpath%20d='M59.4853%2016.1718C70.4889%2020.493%2088.6026%2023.4315%2045.9424%2055.9274'%20stroke='%23071B2C'%20stroke-width='4'/%3e%3cpath%20d='M64.1885%2024.8818L67.7441%2046.4466'%20stroke='white'%20stroke-width='6'%20stroke-linecap='round'/%3e%3cpath%20d='M80.5683%2054.7825L68.3851%2047.0878'%20stroke='white'%20stroke-width='6'%20stroke-linecap='round'/%3e%3c/svg%3e",oZ="data:image/svg+xml,%3csvg%20width='50'%20height='50'%20viewBox='0%200%2050%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M8%203H42C44.7614%203%2047%205.23858%2047%208V22H50V8C50%203.58172%2046.4183%200%2042%200H8C3.58172%200%200%203.58172%200%208V42C0%2046.4183%203.58172%2050%208%2050H22V47H8C5.23858%2047%203%2044.7614%203%2042V8C3%205.23858%205.23858%203%208%203Z'%20fill='white'/%3e%3cpath%20d='M49%2036C49%2043.1797%2043.1797%2049%2036%2049C28.8203%2049%2023%2043.1797%2023%2036C23%2028.8203%2028.8203%2023%2036%2023C43.1797%2023%2049%2028.8203%2049%2036Z'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'/%3e%3crect%20x='18'%20y='2'%20width='14'%20height='16'%20stroke='white'%20stroke-width='2'/%3e%3ccircle%20cx='10'%20cy='38'%20r='2'%20fill='white'/%3e%3ccircle%20cx='16'%20cy='38'%20r='2'%20fill='white'/%3e%3cpath%20d='M22.5%2018V12.5L25%2015L27.5%2012.5V18'%20stroke='white'/%3e%3cpath%20d='M32%2036L35.5%2040L40%2033'%20stroke='white'%20stroke-width='2'%20stroke-linecap='round'/%3e%3c/svg%3e",aZ="_shining_xlft5_1",uZ="_buttonShining_xlft5_1",lZ="_container_xlft5_19",cZ="_icon_xlft5_23",hZ="_text_xlft5_29",vs={shining:aZ,buttonShining:uZ,container:lZ,icon:cZ,text:hZ},fZ=()=>{const{deliveryStore:t,orderStore:e}=zo(),{orderId:n}=e.getters,{currentRegion:r}=t.getters;return r===""?_.jsx("div",{className:vs.container,children:_.jsxs("p",{className:vs.text,children:[_.jsx("img",{className:vs.icon,src:oZ,alt:""}),`  ${n} !`,_.jsx("br",{}),"      ."]})}):_.jsxs("div",{className:vs.container,children:[_.jsx("img",{className:vs.icon,src:sZ,alt:""}),_.jsxs("p",{className:vs.text,children:[`  ${n}
 !`,_.jsx("br",{}),"    ."]})]})},dZ="_shining_mwt2t_1",pZ="_buttonShining_mwt2t_1",mZ="_items_block_mwt2t_19",gZ={shining:dZ,buttonShining:pZ,items_block:mZ},vZ=()=>{const{cartStore:{getters:{cartItems:t}},orderStore:{getters:{status:e}}}=zo();return _.jsx("div",{className:gZ.items_block,children:t.length>0?t.map(n=>_.jsx(XJ,{item:n},n.id)):e===$e.SUCCESS?_.jsx(fZ,{}):_.jsx(iZ,{})})},yZ="_shining_1bt9t_1",wZ="_buttonShining_1bt9t_1",_Z="_check_1bt9t_19",EZ="_title_1bt9t_32",SZ="_trash_1bt9t_37",TZ="_modal_1bt9t_50",CZ="_modal_content_1bt9t_54",IZ="_hide_1bt9t_59",yi={shining:yZ,buttonShining:wZ,check:_Z,title:EZ,trash:SZ,modal:TZ,modal_content:CZ,hide:IZ},tte=E.memo(()=>{const[t,e]=E.useState(!1),{cartStore:n,deliveryStore:r}=zo(),{count:i,cartStatus:s}=n.getters,{fetchCart:o,clearCart:a}=n.actions,{currentRegion:u}=r.getters,{fetchRegion:l,getAddresses:c}=r.actions;E.useEffect(()=>{s===$e.LOADING&&(o(),l(),c())},[]);const h=()=>{e(!1),a()};return _.jsxs(_.Fragment,{children:[_.jsxs(Qu,{open:t,onClose:()=>e(!1),style:{maxWidth:500},children:[_.jsx("h2",{className:yi.modal_title,children:" ?"}),_.jsxs("div",{className:yi.modal_content,children:[_.jsx(Mn,{children:"",onClick:h}),_.jsx(Mn,{children:"",onClick:()=>e(!1)})]})]}),_.jsxs("div",{className:yi.check,children:[_.jsx(O5,{onClick:()=>e(!0),className:lt(yi.trash,{[yi.hide]:!(i>0)})}),_.jsx("h2",{className:yi.title,children:" "}),_.jsx(vZ,{}),_.jsx(z5,{}),_.jsx(UJ,{className:lt({[yi.hide]:!(i>0&&u)})})]})]})}),$Z=t=>E.createElement("svg",{width:100,height:100,viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},E.createElement("circle",{cx:50,cy:50,r:50,fill:"#E6007E"}),E.createElement("path",{d:"M21 43L29 50.2414L21 57",stroke:"white",strokeWidth:3,strokeLinecap:"round"}),E.createElement("line",{x1:38.5,y1:43.5,x2:38.5,y2:57.5,stroke:"white",strokeWidth:3,strokeLinecap:"round"}),E.createElement("line",{x1:47.5,y1:35.5,x2:47.5,y2:64.5,stroke:"white",strokeWidth:3,strokeLinecap:"round"}),E.createElement("line",{x1:57.5,y1:31.5,x2:57.5,y2:68.5,stroke:"white",strokeWidth:3,strokeLinecap:"round"}),E.createElement("path",{d:"M65.5 50.5C65.5 50.5 65.5 39.5 65.5 39C65.5 38.5 77.5 50 77.5 50.5C77.5 51 65.5 61 65.5 61",stroke:"white",strokeWidth:4,strokeLinecap:"round"})),kZ="_shining_16pti_1",bZ="_buttonShining_16pti_1",xZ="_container_16pti_19",AZ="_company_name_16pti_26",OZ="_hightlight_16pti_33",RZ="_logo_16pti_47",Fl={shining:kZ,buttonShining:bZ,container:xZ,company_name:AZ,hightlight:OZ,logo:RZ},PZ=()=>_.jsxs("div",{className:Fl.container,children:[_.jsx($Z,{className:Fl.logo}),_.jsxs("h1",{className:Fl.company_name,children:["SUSH",_.jsx("span",{className:Fl.hightlight,children:"i"}),"DREAM"]})]}),NZ="data:image/svg+xml,%3csvg%20width='100'%20height='100'%20viewBox='0%200%20100%20100'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M97%2023H90.3164L85.1751%2034.3204M85.1751%2034.3204H6L15.2542%2049.7573L21.9379%2076H72.322L76.435%2055.4175L85.1751%2034.3204Z'%20stroke='white'%20stroke-width='6'%20stroke-linecap='round'/%3e%3cline%20x1='27'%20y1='78'%20x2='27'%20y2='80'%20stroke='white'%20stroke-width='4'%20stroke-linecap='round'/%3e%3cline%20x1='65'%20y1='78'%20x2='65'%20y2='80'%20stroke='white'%20stroke-width='4'%20stroke-linecap='round'/%3e%3ccircle%20cx='27'%20cy='85'%20r='3.5'%20stroke='white'%20stroke-width='3'/%3e%3ccircle%20cx='65'%20cy='85'%20r='3.5'%20stroke='white'%20stroke-width='3'/%3e%3cline%20x1='13.8904'%20y1='46.5555'%20x2='77.1096'%20y2='46.5556'%20stroke='white'%20stroke-width='2'/%3e%3cline%20x1='17.7808'%20y1='60.5556'%20x2='74.1917'%20y2='60.5556'%20stroke='white'%20stroke-width='2'/%3e%3cline%20x1='65'%20y1='46.6818'%20x2='65'%20y2='76'%20stroke='white'%20stroke-width='2'/%3e%3cline%20x1='45'%20y1='46.6818'%20x2='45'%20y2='76'%20stroke='white'%20stroke-width='2'/%3e%3cline%20x1='27'%20y1='46'%20x2='27'%20y2='76'%20stroke='white'%20stroke-width='2'/%3e%3c/svg%3e",DZ="data:image/svg+xml,%3csvg%20width='100'%20height='100'%20viewBox='0%200%20100%20100'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6%2015H94'%20stroke='white'%20stroke-width='10'%20stroke-linecap='round'/%3e%3cline%20x1='7'%20y1='50'%20x2='93'%20y2='50'%20stroke='white'%20stroke-width='10'%20stroke-linecap='round'/%3e%3cline%20x1='5'%20y1='85'%20x2='91'%20y2='85'%20stroke='white'%20stroke-width='10'%20stroke-linecap='round'/%3e%3c/svg%3e",LZ="data:image/svg+xml,%3csvg%20width='100'%20height='100'%20viewBox='0%200%20100%20100'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M11%2097C11%2081.3333%2011%2050%2050%2050C89%2050%2089%2081.3333%2089%2097'%20stroke='white'%20stroke-width='10'%20stroke-linecap='round'/%3e%3cpath%20d='M70%2022.5C70%2033.2265%2061.0893%2042%2050%2042C38.9107%2042%2030%2033.2265%2030%2022.5C30%2011.7735%2038.9107%203%2050%203C61.0893%203%2070%2011.7735%2070%2022.5Z'%20stroke='white'%20stroke-width='10'/%3e%3c/svg%3e",MZ="_shining_16atq_2",FZ="_buttonShining_16atq_1",jZ="_links_16atq_20",UZ="_icon_16atq_38",VZ="_link_16atq_20",zZ="_counter_16atq_63",BZ="_submenu_container_16atq_74",HZ="_submenu_16atq_74",WZ="_submenu_link_16atq_94",GZ="_show_16atq_104",un={shining:MZ,buttonShining:FZ,links:jZ,icon:UZ,link:VZ,counter:zZ,submenu_container:BZ,submenu:HZ,submenu_link:WZ,show:GZ},Z={base:"/sushidream",main:"/",restaurants:"/restaurants",loyalty:"/loyalty",course:"/course",franchise:"/franchise",cart:"/cart",signin:"/signin",profile:"/profile",signup:"/signup",notification:"/notification",forgotPassword:"/forgot-password"},KZ=()=>{const{cartStore:t,navbarStore:e,assortmentStore:n}=zo(),{actions:{fetchCart:r},getters:{count:i}}=t,{status:s}=n.getters,{openNavbar:o}=e.actions,[a,u]=E.useState(!1);return E.useEffect(()=>{s===$e.LOADING&&r()},[s]),_.jsxs("nav",{className:un.links,children:[_.jsxs(mn,{to:`${Z.base}${Z.cart}`,className:un.link,children:[_.jsx("img",{className:un.icon,src:NZ,alt:""}),_.jsx("span",{className:un.counter,children:i>0?i:""})]}),_.jsxs("div",{className:un.submenu_container,children:[_.jsx("img",{className:un.icon,src:LZ,alt:"",onClick:()=>u(l=>!l)}),_.jsxs("div",{className:lt(un.submenu,{[un.show]:a}),children:[_.jsx(mn,{className:un.submenu_link,to:`${Z.base}${Z.profile}`,onClick:()=>u(()=>!1),children:""}),_.jsx(mn,{className:un.submenu_link,to:`${Z.base}${Z.notification}`,onClick:()=>u(()=>!1),children:""})]})]}),_.jsx("img",{className:un.icon,src:DZ,onClick:()=>o(!0),alt:""})]})},qZ="_shining_1g7hz_1",QZ="_buttonShining_1g7hz_1",YZ="_header_1g7hz_19",XZ={shining:qZ,buttonShining:QZ,header:YZ},JZ=({setRef:t})=>{const e=E.useRef(null);return E.useEffect(()=>{e.current&&t(e.current)},[t,e]),_.jsxs("header",{ref:e,className:XZ.header,children:[_.jsx(mn,{to:`${Z.base}${Z.main}`,children:_.jsx(PZ,{})}),_.jsx(KZ,{})]})},ZZ="_shining_13yp0_1",eee="_buttonShining_13yp0_1",tee="_wrapper_13yp0_58",nee="_main_container_13yp0_68",ree="_banner_wrapper_13yp0_73",iee="_menu_banner_13yp0_78",see="_menu_wrapper_13yp0_84",oee="_check_wrapper_13yp0_100",aee="_fixed_13yp0_118",IE={shining:ZZ,buttonShining:eee,wrapper:tee,main_container:nee,banner_wrapper:ree,menu_banner:iee,menu_wrapper:see,check_wrapper:oee,fixed:aee},uee="data:image/svg+xml,%3csvg%20width='100'%20height='100'%20viewBox='0%200%20100%20100'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='50'%20cy='50'%20r='50'%20fill='%23E6007E'/%3e%3cpath%20d='M21%2043L29%2050.2414L21%2057'%20stroke='white'%20stroke-width='3'%20stroke-linecap='round'/%3e%3cline%20x1='38.5'%20y1='43.5'%20x2='38.5'%20y2='57.5'%20stroke='white'%20stroke-width='3'%20stroke-linecap='round'/%3e%3cline%20x1='47.5'%20y1='35.5'%20x2='47.5'%20y2='64.5'%20stroke='white'%20stroke-width='3'%20stroke-linecap='round'/%3e%3cline%20x1='57.5'%20y1='31.5'%20x2='57.5'%20y2='68.5'%20stroke='white'%20stroke-width='3'%20stroke-linecap='round'/%3e%3cpath%20d='M65.5%2050.5C65.5%2050.5%2065.5%2039.5%2065.5%2039C65.5%2038.5%2077.5%2050%2077.5%2050.5C77.5%2051%2065.5%2061%2065.5%2061'%20stroke='white'%20stroke-width='4'%20stroke-linecap='round'/%3e%3c/svg%3e",lee="_shining_5d2z5_1",cee="_buttonShining_5d2z5_1",hee="_menu_5d2z5_19",fee="_image_5d2z5_35",dee="_close_icon_5d2z5_39",pee="_link_5d2z5_46",mee="_open_menu_5d2z5_56",zn={shining:lee,buttonShining:cee,menu:hee,image:fee,close_icon:dee,link:pee,open_menu:mee},gee=()=>{const{navbarStore:{actions:{openNavbar:t},getters:{isOpened:e}}}=zo(),n=()=>t(!1);return _.jsxs("div",{className:lt(zn.menu,{[zn.open_menu]:e}),children:[_.jsx("img",{className:lt(zn.image,"logo"),src:uee,alt:""}),_.jsx(mn,{className:zn.link,to:"./",onClick:n,children:""}),_.jsx(mn,{className:zn.link,to:"restaurants",onClick:n,children:""}),_.jsx(mn,{className:zn.link,to:"loyalty",onClick:n,children:" "}),_.jsx(mn,{className:zn.link,to:"course",onClick:n,children:"   "}),_.jsx(mn,{className:zn.link,to:"franchise",onClick:n,children:""}),_.jsx("img",{className:zn.close_icon,src:M$,alt:"close",onClick:n})]})},vee="_loading_wrapper_1xov0_1",yee="_lds_roller_1xov0_10",$E={loading_wrapper:vee,lds_roller:yee,"lds-roller":"_lds-roller_1xov0_1"},wee=()=>_.jsxs("div",{className:$E.loading_wrapper,children:[_.jsxs("div",{className:$E.lds_roller,children:[_.jsx("div",{}),_.jsx("div",{}),_.jsx("div",{}),_.jsx("div",{}),_.jsx("div",{}),_.jsx("div",{}),_.jsx("div",{}),_.jsx("div",{})]}),_.jsx("h1",{children:""})]}),_ee="_shining_2f6y5_1",Eee="_buttonShining_2f6y5_1",See="_auth_form_2f6y5_19",Tee="_title_2f6y5_26",Cee="_form_2f6y5_36",Iee="_input_2f6y5_44",$ee="_label_2f6y5_56",kee="_forgot_password_2f6y5_61",bee="_error_2f6y5_67",xee="_hide_2f6y5_72",$n={shining:_ee,buttonShining:Eee,auth_form:See,title:Tee,form:Cee,input:Iee,label:$ee,forgot_password:kee,error:bee,hide:xee},Aee=Zu().shape({authEmail:Kn().email(" Email").required(" ")}),nte=()=>{const[t,e]=E.useState(!1),[n,r]=E.useState(""),{authUser:i}=Vf(),s=Ou(),o=E.useCallback(a=>{r(a)},[]);return _.jsxs(_.Fragment,{children:[_.jsxs(Qu,{open:t,onClose:()=>e(!1),style:{maxWidth:500},children:[_.jsx("h2",{children:n}),_.jsx(Mn,{children:"",onClick:()=>e(!1)})]}),_.jsxs("div",{className:$n.auth_form,children:[_.jsx("h2",{className:$n.title,children:""}),_.jsx(cg,{initialValues:{authEmail:"",password:""},validateOnBlur:!0,validationSchema:Aee,onSubmit:a=>i(a).then(()=>s("/profile")).catch(()=>o(" ")),children:({values:a,handleChange:u,handleSubmit:l,errors:c,touched:h,handleBlur:f,isValid:p,isSubmitting:g})=>_.jsxs(hh,{className:$n.form,children:[_.jsxs("label",{htmlFor:"email",className:$n.label,children:["Email",_.jsx(ch,{className:$n.input,type:"email",name:"authEmail",id:"email",onChange:u,value:a.authEmail,onBlur:f,placeholder:"myawesomeemail@email.com",required:!0}),_.jsx("p",{className:lt($n.error,{[$n.hide]:!(h.authEmail&&c.authEmail)}),children:c.authEmail})]}),_.jsxs("label",{htmlFor:"password",className:$n.label,children:["",_.jsx(ch,{className:$n.input,type:"password",name:"password",id:"password",onChange:u,value:a.password,onBlur:f,placeholder:"*******",required:!0})]}),_.jsx(mn,{to:"../forgot-password",className:$n.forgot_password,children:" ?"}),_.jsx(Mn,{children:"",onClick:()=>l(),isDisabled:!p,className:lt({shining:g})})]})})]})]})},Oee=({children:t,...e})=>{const{ref:n,inView:r}=gO(),{setInView:i}=hC(),s=o=>{n(o)};return E.useEffect(()=>{r&&i(r)},[r]),_.jsxs("div",{className:IE.wrapper,...e,children:[_.jsx(gee,{}),_.jsx(JZ,{setRef:s}),_.jsx("main",{className:IE.main_container,children:t})]})},Ree="modulepreload",Pee=function(t){return"/sushidream/"+t},kE={},Sn=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(n.map(a=>{if(a=Pee(a),a in kE)return;kE[a]=!0;const u=a.endsWith(".css"),l=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${l}`))return;const c=document.createElement("link");if(c.rel=u?"stylesheet":Ree,u||(c.as="script",c.crossOrigin=""),c.href=a,o&&c.setAttribute("nonce",o),document.head.appendChild(c),u)return new Promise((h,f)=>{c.addEventListener("load",h),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},Nee=E.lazy(()=>Sn(()=>import("./Menu-BKmxBqHo.js"),__vite__mapDeps([0,1,2,3,4]))),Dee=E.lazy(()=>Sn(()=>import("./index-BmqclPi8.js"),__vite__mapDeps([5,1,2,3,6]))),Lee=E.lazy(()=>Sn(()=>import("./index-CN3PJncG.js"),__vite__mapDeps([7,2,8]))),Mee=E.lazy(()=>Sn(()=>import("./Loyalty-ClODMJ_h.js"),[])),Fee=E.lazy(()=>Sn(()=>import("./ServiceCourse-Dk-mkcgI.js"),[])),jee=E.lazy(()=>Sn(()=>import("./Franchise-Do34nQfn.js"),[])),Uee=E.lazy(()=>Sn(()=>import("./index-Bss4Dp7A.js"),__vite__mapDeps([9,10]))),Vee=E.lazy(()=>Sn(()=>import("./index-CHVbCVn2.js"),__vite__mapDeps([11,12]))),zee=E.lazy(()=>Sn(()=>import("./index-BwD0yLOA.js"),__vite__mapDeps([13,14]))),Bee=E.lazy(()=>Sn(()=>import("./index-AzlKLFfD.js"),__vite__mapDeps([15,16]))),Hee=E.lazy(()=>Sn(()=>import("./NotFound-DxLUQOJV.js"),[])),Wee=({path:t})=>it.currentUser?_.jsx(SC,{}):_.jsx(EC,{to:t}),Gee=({path:t})=>it.currentUser?_.jsx(EC,{to:t}):_.jsx(SC,{}),Kee=()=>{const{setDiscount:t}=R$(),{getUser:e}=Vf();return E.useEffect(()=>{it.currentUser?t():e()},[it.currentUser]),_.jsx(E.Suspense,{fallback:_.jsx(wee,{}),children:_.jsx(zP,{children:_.jsxs(yt,{path:`${Z.base}`,children:[_.jsx(yt,{path:`${Z.base}${Z.main}`,element:_.jsx(Nee,{})}),_.jsx(yt,{path:`${Z.base}${Z.restaurants}`,element:_.jsx(Lee,{})}),_.jsx(yt,{path:`${Z.base}${Z.loyalty}`,element:_.jsx(Mee,{})}),_.jsx(yt,{path:`${Z.base}${Z.course}`,element:_.jsx(Fee,{})}),_.jsx(yt,{path:`${Z.base}${Z.franchise}`,element:_.jsx(jee,{})}),_.jsx(yt,{path:`${Z.base}${Z.cart}`,element:_.jsx(Dee,{})}),_.jsx(yt,{path:"*",element:_.jsx(Hee,{})}),_.jsx(yt,{element:_.jsx(Wee,{path:`${Z.base}${Z.signin}`}),children:_.jsx(yt,{path:`${Z.base}${Z.profile}`,element:_.jsx(Uee,{})})}),_.jsxs(yt,{element:_.jsx(Gee,{path:`${Z.base}${Z.main}`}),children:[_.jsx(yt,{path:`${Z.base}${Z.signin}`,element:_.jsx(Vee,{})}),_.jsx(yt,{path:`${Z.base}${Z.signup}`,element:_.jsx(Bee,{})}),_.jsx(yt,{path:`${Z.base}${Z.forgotPassword}`,element:_.jsx(zee,{})})]})]})})})},qee=()=>_.jsx(Oee,{children:_.jsx(Kee,{})}),Qee=lp.createRoot(document.getElementById("root"));Qee.render(_.jsx(QP,{children:_.jsx(qR,{store:VJ,children:_.jsx(qee,{})})}));export{$5 as A,Mn as B,tte as C,Zu as D,Kn as E,$e as F,cg as G,Zee as H,it as I,hh as J,ch as K,mn as L,Qu as M,ete as R,S5 as a,C5 as b,I5 as c,Ou as d,$o as e,zo as f,lt as g,JR as h,Jee as i,_ as j,rl as k,fr as l,R$ as m,ga as n,A5 as o,Ns as p,Ri as q,E as r,IE as s,Zb as t,E5 as u,uee as v,Ni as w,Vf as x,nte as y,kJ as z};
